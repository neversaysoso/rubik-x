!function(t,e,i){function r(t,i){this.wrapper="string"==typeof t?e.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var r in i)this.options[r]=i[r];this.translateZ=this.options.HWCompositing&&s.hasPerspective?" translateZ(0)":"",this.options.useTransition=s.hasTransition&&this.options.useTransition,this.options.useTransform=s.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?s.ease[this.options.bounceEasing]||s.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,3==this.options.probeType&&(this.options.useTransition=!1),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function a(t,i,r){var a=e.createElement("div"),o=e.createElement("div");return r===!0&&(a.style.cssText="position:absolute;z-index:9999",o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),o.className="iScrollIndicator","h"==t?(r===!0&&(a.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",o.style.height="100%"),a.className="iScrollHorizontalScrollbar"):(r===!0&&(a.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",o.style.width="100%"),a.className="iScrollVerticalScrollbar"),a.style.cssText+=";overflow:hidden",i||(a.style.pointerEvents="none"),a.appendChild(o),a}function o(i,r){this.wrapper="string"==typeof r.el?e.querySelector(r.el):r.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=i,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var a in r)this.options[a]=r[a];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(s.addEvent(this.indicator,"touchstart",this),s.addEvent(t,"touchend",this)),this.options.disablePointer||(s.addEvent(this.indicator,s.prefixPointerEvent("pointerdown"),this),s.addEvent(t,s.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(s.addEvent(this.indicator,"mousedown",this),s.addEvent(t,"mouseup",this))),this.options.fade&&(this.wrapperStyle[s.style.transform]=this.scroller.translateZ,this.wrapperStyle[s.style.transitionDuration]=s.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)},s=function(){function r(t){return n!==!1&&(""===n?t:n+t.charAt(0).toUpperCase()+t.substr(1))}var a={},o=e.createElement("div").style,n=function(){for(var t,e=["t","webkitT","MozT","msT","OT"],i=0,r=e.length;i<r;i++)if(t=e[i]+"ransform",t in o)return e[i].substr(0,e[i].length-1);return!1}();a.getTime=Date.now||function(){return(new Date).getTime()},a.extend=function(t,e){for(var i in e)t[i]=e[i]},a.addEvent=function(t,e,i,r){t.addEventListener(e,i,!!r)},a.removeEvent=function(t,e,i,r){t.removeEventListener(e,i,!!r)},a.prefixPointerEvent=function(e){return t.MSPointerEvent?"MSPointer"+e.charAt(9).toUpperCase()+e.substr(10):e},a.momentum=function(t,e,r,a,o,n){var s,l,d=t-e,p=i.abs(d)/r;return n=void 0===n?6e-4:n,s=t+p*p/(2*n)*(d<0?-1:1),l=p/n,s<a?(s=o?a-o/2.5*(p/8):a,d=i.abs(s-t),l=d/p):s>0&&(s=o?o/2.5*(p/8):0,d=i.abs(t)+s,l=d/p),{destination:i.round(s),duration:l}};var s=r("transform");return a.extend(a,{hasTransform:s!==!1,hasPerspective:r("perspective")in o,hasTouch:"ontouchstart"in t,hasPointer:t.PointerEvent||t.MSPointerEvent,hasTransition:r("transition")in o}),a.isBadAndroid=/Android /.test(t.navigator.appVersion)&&!/Chrome\/\d/.test(t.navigator.appVersion),a.extend(a.style={},{transform:s,transitionTimingFunction:r("transitionTimingFunction"),transitionDuration:r("transitionDuration"),transitionDelay:r("transitionDelay"),transformOrigin:r("transformOrigin")}),a.hasClass=function(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")!=-1},a.addClass=function(t,e){if(!a.hasClass(t,e)){var i=t.className.split(" ");i.push(e),t.className=i.join(" ")}},a.removeClass=function(t,e){if(a.hasClass(t,e)){var i=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(i," ")}},a.offset=function(t){for(var e=-t.offsetLeft,i=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,i-=t.offsetTop;return{left:e,top:i}},a.preventDefaultException=function(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1},a.extend(a.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),a.extend(a.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return i.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){var e=4;return(t-=1)*t*((e+1)*t+e)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){var e=.22,r=.4;return 0===t?0:1==t?1:r*i.pow(2,-10*t)*i.sin((t-e/4)*(2*i.PI)/e)+1}}}),a.tap=function(t,i){var r=e.createEvent("Event");r.initEvent(i,!0,!0),r.pageX=t.pageX,r.pageY=t.pageY,t.target.dispatchEvent(r)},a.click=function(t){var i,r=t.target;/(SELECT|INPUT|TEXTAREA)/i.test(r.tagName)||(i=e.createEvent("MouseEvents"),i.initMouseEvent("click",!0,!0,t.view,1,r.screenX,r.screenY,r.clientX,r.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),i._constructed=!0,r.dispatchEvent(i))},a}();r.prototype={version:"5.1.3",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if((1==s.eventType[t.type]||0===t.button)&&this.enabled&&(!this.initiated||s.eventType[t.type]===this.initiated)){!this.options.preventDefault||s.isBadAndroid||s.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var e,r=t.touches?t.touches[0]:t;this.initiated=s.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=s.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,e=this.getComputedPosition(),this._translate(i.round(e.x),i.round(e.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=r.pageX,this.pointY=r.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&s.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,r,a,o,n=t.touches?t.touches[0]:t,l=n.pageX-this.pointX,d=n.pageY-this.pointY,p=s.getTime();if(this.pointX=n.pageX,this.pointY=n.pageY,this.distX+=l,this.distY+=d,a=i.abs(this.distX),o=i.abs(this.distY),!(p-this.endTime>300&&a<10&&o<10)){if(this.directionLocked||this.options.freeScroll||(a>o+this.options.directionLockThreshold?this.directionLocked="h":o>=a+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);d=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);l=0}l=this.hasHorizontalScroll?l:0,d=this.hasVerticalScroll?d:0,e=this.x+l,r=this.y+d,(e>0||e<this.maxScrollX)&&(e=this.options.bounce?this.x+l/3:e>0?0:this.maxScrollX),(r>0||r<this.maxScrollY)&&(r=this.options.bounce?this.y+d/3:r>0?0:this.maxScrollY),this.directionX=l>0?-1:l<0?1:0,this.directionY=d>0?-1:d<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,r),p-this.startTime>300&&(this.startTime=p,this.startX=this.x,this.startY=this.y,1==this.options.probeType&&this._execEvent("scroll")),this.options.probeType>1&&this._execEvent("scroll")}}},silieUpDown:function(){var t=this.y;!this.hasVerticalScroll||t>0?this._execEvent("slideDown"):t<this.maxScrollY&&this._execEvent("slideUp")},_end:function(t){if(this.enabled&&s.eventType[t.type]===this.initiated){this.options.preventDefault&&!s.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var e,r,a=(t.changedTouches?t.changedTouches[0]:t,s.getTime()-this.startTime),o=i.round(this.x),n=i.round(this.y),l=i.abs(o-this.startX),d=i.abs(n-this.startY),p=0,c="";if(this.isInTransition=0,this.initiated=0,this.endTime=s.getTime(),this.resetPosition(this.options.bounceTime))return void this.silieUpDown();if(this.scrollTo(o,n),!this.moved)return this.options.tap&&s.tap(t,this.options.tap),this.options.click&&s.click(t),void this._execEvent("scrollCancel");if(this._events.flick&&a<200&&l<100&&d<100)return void this._execEvent("flick");if(this.options.momentum&&a<300&&(e=this.hasHorizontalScroll?s.momentum(this.x,this.startX,a,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:o,duration:0},r=this.hasVerticalScroll?s.momentum(this.y,this.startY,a,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:n,duration:0},o=e.destination,n=r.destination,p=i.max(e.duration,r.duration),this.isInTransition=1),this.options.snap){var m=this._nearestSnap(o,n);this.currentPage=m,p=this.options.snapSpeed||i.max(i.max(i.min(i.abs(o-m.x),1e3),i.min(i.abs(n-m.y),1e3)),300),o=m.x,n=m.y,this.directionX=0,this.directionY=0,c=this.options.bounceEasing}return o!=this.x||n!=this.y?((o>0||o<this.maxScrollX||n>0||n<this.maxScrollY)&&(c=s.ease.quadratic),void this.scrollTo(o,n,p,c)):void this._execEvent("scrollEnd")}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,i=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),(e!=this.x||i!=this.y)&&(this.scrollTo(e,i,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=s.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var i=this._events[t].indexOf(e);i>-1&&this._events[t].splice(i,1)}},_execEvent:function(t){if(this._events[t]){var e=0,i=this._events[t].length;if(i)for(;e<i;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,i,r){t=this.x+t,e=this.y+e,i=i||0,this.scrollTo(t,e,i,r)},scrollTo:function(t,e,i,r){r=r||s.ease.circular,this.isInTransition=this.options.useTransition&&i>0,!i||this.options.useTransition&&r.style?(this._transitionTimingFunction(r.style),this._transitionTime(i),this._translate(t,e)):this._animate(t,e,i,r.fn)},scrollToElement:function(t,e,r,a,o){if(t=t.nodeType?t:this.scroller.querySelector(t)){var n=s.offset(t);n.left-=this.wrapperOffset.left,n.top-=this.wrapperOffset.top,r===!0&&(r=i.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),a===!0&&(a=i.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),n.left-=r||0,n.top-=a||0,n.left=n.left>0?0:n.left<this.maxScrollX?this.maxScrollX:n.left,n.top=n.top>0?0:n.top<this.maxScrollY?this.maxScrollY:n.top,e=void 0===e||null===e||"auto"===e?i.max(i.abs(this.x-n.left),i.abs(this.y-n.top)):e,this.scrollTo(n.left,n.top,e,o)}},_transitionTime:function(t){if(t=t||0,this.scrollerStyle[s.style.transitionDuration]=t+"ms",!t&&s.isBadAndroid&&(this.scrollerStyle[s.style.transitionDuration]="0.001s"),this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTime(t)},_transitionTimingFunction:function(t){if(this.scrollerStyle[s.style.transitionTimingFunction]=t,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_translate:function(t,e){if(this.options.useTransform?this.scrollerStyle[s.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=i.round(t),e=i.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e,this.indicators)for(var r=this.indicators.length;r--;)this.indicators[r].updatePosition()},_initEvents:function(e){var i=e?s.removeEvent:s.addEvent,r=this.options.bindToWrapper?this.wrapper:t;i(t,"orientationchange",this),i(t,"resize",this),this.options.click&&i(this.wrapper,"click",this,!0),this.options.disableMouse||(i(this.wrapper,"mousedown",this),i(r,"mousemove",this),i(r,"mousecancel",this),i(r,"mouseup",this)),s.hasPointer&&!this.options.disablePointer&&(i(this.wrapper,s.prefixPointerEvent("pointerdown"),this),i(r,s.prefixPointerEvent("pointermove"),this),i(r,s.prefixPointerEvent("pointercancel"),this),i(r,s.prefixPointerEvent("pointerup"),this)),s.hasTouch&&!this.options.disableTouch&&(i(this.wrapper,"touchstart",this),i(r,"touchmove",this),i(r,"touchcancel",this),i(r,"touchend",this)),i(this.scroller,"transitionend",this),i(this.scroller,"webkitTransitionEnd",this),i(this.scroller,"oTransitionEnd",this),i(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var e,i,r=t.getComputedStyle(this.scroller,null);return this.options.useTransform?(r=r[s.style.transform].split(")")[0].split(", "),e=+(r[12]||r[4]),i=+(r[13]||r[5])):(e=+r.left.replace(/[^-\d.]/g,""),i=+r.top.replace(/[^-\d.]/g,"")),{x:e,y:i}},_initIndicators:function(){function t(t){for(var e=s.indicators.length;e--;)t.call(s.indicators[e])}var e,i=this.options.interactiveScrollbars,r="string"!=typeof this.options.scrollbars,n=[],s=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(e={el:a("v",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:r,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(e.el),n.push(e)),this.options.scrollX&&(e={el:a("h",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:r,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(e.el),n.push(e))),this.options.indicators&&(n=n.concat(this.options.indicators));for(var l=n.length;l--;)this.indicators.push(new o(this,n[l]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){t(function(){this.fade()})}),this.on("scrollCancel",function(){t(function(){this.fade()})}),this.on("scrollStart",function(){t(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){t(function(){this.fade(1,!0)})})),this.on("refresh",function(){t(function(){this.refresh()})}),this.on("destroy",function(){t(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){s.addEvent(this.wrapper,"wheel",this),s.addEvent(this.wrapper,"mousewheel",this),s.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){s.removeEvent(this.wrapper,"wheel",this),s.removeEvent(this.wrapper,"mousewheel",this),s.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(t){if(this.enabled){t.preventDefault(),t.stopPropagation();var e,r,a,o,n=this;if(void 0===this.wheelTimeout&&n._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){n._execEvent("scrollEnd"),n.wheelTimeout=void 0},400),"deltaX"in t)1===t.deltaMode?(e=-t.deltaX*this.options.mouseWheelSpeed,r=-t.deltaY*this.options.mouseWheelSpeed):(e=-t.deltaX,r=-t.deltaY);else if("wheelDeltaX"in t)e=t.wheelDeltaX/120*this.options.mouseWheelSpeed,r=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)e=r=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;e=r=-t.detail/3*this.options.mouseWheelSpeed}if(e*=this.options.invertWheelDirection,r*=this.options.invertWheelDirection,this.hasVerticalScroll||(e=r,r=0),this.options.snap)return a=this.currentPage.pageX,o=this.currentPage.pageY,e>0?a--:e<0&&a++,r>0?o--:r<0&&o++,void this.goToPage(a,o);a=this.x+i.round(this.hasHorizontalScroll?e:0),o=this.y+i.round(this.hasVerticalScroll?r:0),a>0?a=0:a<this.maxScrollX&&(a=this.maxScrollX),o>0?o=0:o<this.maxScrollY&&(o=this.maxScrollY),this.scrollTo(a,o,0),this.options.probeType>1&&this._execEvent("scroll")}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t,e,r,a,o,n,s=0,l=0,d=0,p=this.options.snapStepX||this.wrapperWidth,c=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(r=i.round(p/2),a=i.round(c/2);d>-this.scrollerWidth;){for(this.pages[s]=[],t=0,o=0;o>-this.scrollerHeight;)this.pages[s][t]={x:i.max(d,this.maxScrollX),y:i.max(o,this.maxScrollY),width:p,height:c,cx:d-r,cy:o-a},o-=c,t++;d-=p,s++}else for(n=this.options.snap,t=n.length,e=-1;s<t;s++)(0===s||n[s].offsetLeft<=n[s-1].offsetLeft)&&(l=0,e++),this.pages[l]||(this.pages[l]=[]),d=i.max(-n[s].offsetLeft,this.maxScrollX),o=i.max(-n[s].offsetTop,this.maxScrollY),r=d-i.round(n[s].offsetWidth/2),a=o-i.round(n[s].offsetHeight/2),this.pages[l][e]={x:d,y:o,width:n[s].offsetWidth,height:n[s].offsetHeight,cx:r,cy:a},d>this.maxScrollX&&l++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var t=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.x-this.startX),1e3),i.min(i.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var r=0,a=this.pages.length,o=0;if(i.abs(t-this.absStartX)<this.snapThresholdX&&i.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;for(t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),e>0?e=0:e<this.maxScrollY&&(e=this.maxScrollY);r<a;r++)if(t>=this.pages[r][0].cx){t=this.pages[r][0].x;break}for(a=this.pages[r].length;o<a;o++)if(e>=this.pages[0][o].cy){e=this.pages[0][o].y;break}return r==this.currentPage.pageX&&(r+=this.directionX,r<0?r=0:r>=this.pages.length&&(r=this.pages.length-1),t=this.pages[r][0].x),o==this.currentPage.pageY&&(o+=this.directionY,o<0?o=0:o>=this.pages[0].length&&(o=this.pages[0].length-1),e=this.pages[0][o].y),{x:t,y:e,pageX:r,pageY:o}},goToPage:function(t,e,r,a){a=a||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:t<0&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:e<0&&(e=0);var o=this.pages[t][e].x,n=this.pages[t][e].y;r=void 0===r?this.options.snapSpeed||i.max(i.max(i.min(i.abs(o-this.x),1e3),i.min(i.abs(n-this.y),1e3)),300):r,this.currentPage={x:o,y:n,pageX:t,pageY:e},this.scrollTo(o,n,r,a)},next:function(t,e){var i=this.currentPage.pageX,r=this.currentPage.pageY;i++,i>=this.pages.length&&this.hasVerticalScroll&&(i=0,r++),this.goToPage(i,r,t,e)},prev:function(t,e){var i=this.currentPage.pageX,r=this.currentPage.pageY;i--,i<0&&this.hasVerticalScroll&&(i=0,r--),this.goToPage(i,r,t,e)},_initKeys:function(e){var i,r={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(i in this.options.keyBindings)"string"==typeof this.options.keyBindings[i]&&(this.options.keyBindings[i]=this.options.keyBindings[i].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(i in r)this.options.keyBindings[i]=this.options.keyBindings[i]||r[i];s.addEvent(t,"keydown",this),this.on("destroy",function(){s.removeEvent(t,"keydown",this)})},_key:function(t){if(this.enabled){var e,r=this.options.snap,a=r?this.currentPage.pageX:this.x,o=r?this.currentPage.pageY:this.y,n=s.getTime(),l=this.keyTime||0,d=.25;switch(this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(i.round(e.x),i.round(e.y)),this.isInTransition=!1),this.keyAcceleration=n-l<200?i.min(this.keyAcceleration+d,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?a+=r?1:this.wrapperWidth:o+=r?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?a-=r?1:this.wrapperWidth:o-=r?1:this.wrapperHeight;break;case this.options.keyBindings.end:a=r?this.pages.length-1:this.maxScrollX,o=r?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:a=0,o=0;break;case this.options.keyBindings.left:a+=r?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:o+=r?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:a-=r?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:o-=r?1:5+this.keyAcceleration>>0;break;default:return}if(r)return void this.goToPage(a,o);a>0?(a=0,this.keyAcceleration=0):a<this.maxScrollX&&(a=this.maxScrollX,this.keyAcceleration=0),o>0?(o=0,this.keyAcceleration=0):o<this.maxScrollY&&(o=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(a,o,0),this.keyTime=n}},_animate:function(t,e,i,r){function a(){var m,h,u,f=s.getTime();return f>=c?(o.isAnimating=!1,o._translate(t,e),void(o.resetPosition(o.options.bounceTime)||o._execEvent("scrollEnd"))):(f=(f-p)/i,u=r(f),m=(t-l)*u+l,h=(e-d)*u+d,o._translate(m,h),o.isAnimating&&n(a),void(3==o.options.probeType&&o._execEvent("scroll")))}var o=this,l=this.x,d=this.y,p=s.getTime(),c=p+i;this.isAnimating=!0,a()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":t._constructed||(t.preventDefault(),t.stopPropagation())}}},o.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},destroy:function(){this.options.interactive&&(s.removeEvent(this.indicator,"touchstart",this),s.removeEvent(this.indicator,s.prefixPointerEvent("pointerdown"),this),s.removeEvent(this.indicator,"mousedown",this),s.removeEvent(t,"touchmove",this),s.removeEvent(t,s.prefixPointerEvent("pointermove"),this),s.removeEvent(t,"mousemove",this),s.removeEvent(t,"touchend",this),s.removeEvent(t,s.prefixPointerEvent("pointerup"),this),s.removeEvent(t,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(e){var i=e.touches?e.touches[0]:e;e.preventDefault(),e.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=i.pageX,this.lastPointY=i.pageY,this.startTime=s.getTime(),this.options.disableTouch||s.addEvent(t,"touchmove",this),this.options.disablePointer||s.addEvent(t,s.prefixPointerEvent("pointermove"),this),this.options.disableMouse||s.addEvent(t,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(t){var e,i,r,a,o=t.touches?t.touches[0]:t,n=s.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,e=o.pageX-this.lastPointX,this.lastPointX=o.pageX,i=o.pageY-this.lastPointY,this.lastPointY=o.pageY,r=this.x+e,a=this.y+i,this._pos(r,a),1==this.scroller.options.probeType&&n-this.startTime>300?(this.startTime=n,this.scroller._execEvent("scroll")):this.scroller.options.probeType>1&&this.scroller._execEvent("scroll"),t.preventDefault(),t.stopPropagation()},_end:function(e){if(this.initiated){if(this.initiated=!1,e.preventDefault(),e.stopPropagation(),s.removeEvent(t,"touchmove",this),s.removeEvent(t,s.prefixPointerEvent("pointermove"),this),s.removeEvent(t,"mousemove",this),this.scroller.options.snap){var r=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),a=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.scroller.x-r.x),1e3),i.min(i.abs(this.scroller.y-r.y),1e3)),300);this.scroller.x==r.x&&this.scroller.y==r.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=r,this.scroller.scrollTo(r.x,r.y,a,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(t){t=t||0,this.indicatorStyle[s.style.transitionDuration]=t+"ms",!t&&s.isBadAndroid&&(this.indicatorStyle[s.style.transitionDuration]="0.001s")},transitionTimingFunction:function(t){this.indicatorStyle[s.style.transitionTimingFunction]=t},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(s.addClass(this.wrapper,"iScrollBothScrollbars"),s.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(s.removeClass(this.wrapper,"iScrollBothScrollbars"),s.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=i.max(i.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=i.max(i.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&i.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&i.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(t<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=i.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px"),t=this.minBoundaryX):t>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=i.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",t=this.maxPosX+this.indicatorWidth-this.width):t=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),e<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=i.max(this.indicatorHeight+3*e,8),this.indicatorStyle.height=this.height+"px"),e=this.minBoundaryY):e>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=i.max(this.indicatorHeight-3*(e-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",e=this.maxPosY+this.indicatorHeight-this.height):e=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=t,this.y=e,this.scroller.options.useTransform?this.indicatorStyle[s.style.transform]="translate("+t+"px,"+e+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=t+"px",this.indicatorStyle.top=e+"px")},_pos:function(t,e){t<0?t=0:t>this.maxPosX&&(t=this.maxPosX),e<0?e=0:e>this.maxPosY&&(e=this.maxPosY),
t=this.options.listenX?i.round(t/this.sizeRatioX):this.scroller.x,e=this.options.listenY?i.round(e/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,e)},fade:function(t,e){if(!e||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var i=t?250:500,r=t?0:300;t=t?"1":"0",this.wrapperStyle[s.style.transitionDuration]=i+"ms",this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),r)}}},r.utils=s,"undefined"!=typeof module&&module.exports?module.exports=r:t.IScroll=r}(window,document,Math),!function(t,e){"function"==typeof define&&(define.amd||define.cmd)?define(function(){return e(t)}):e(t,!0)}(this,function(t,e){function i(e,i,r){t.WeixinJSBridge?WeixinJSBridge.invoke(e,a(i),function(t){n(e,t,r)}):d(e,r)}function r(e,i,r){t.WeixinJSBridge?WeixinJSBridge.on(e,function(t){r&&r.trigger&&r.trigger(t),n(e,t,i)}):r?d(e,r):d(e,i)}function a(t){return t=t||{},t.appId=M.appId,t.verifyAppId=M.appId,t.verifySignType="sha1",t.verifyTimestamp=M.timestamp+"",t.verifyNonceStr=M.nonceStr,t.verifySignature=M.signature,t}function o(t){return{timeStamp:t.timestamp+"",nonceStr:t.nonceStr,package:t.package,paySign:t.paySign,signType:t.signType||"SHA1"}}function n(t,e,i){var r,a,o;switch(delete e.err_code,delete e.err_desc,delete e.err_detail,r=e.errMsg,r||(r=e.err_msg,delete e.err_msg,r=s(t,r),e.errMsg=r),i=i||{},i._complete&&(i._complete(e),delete i._complete),r=e.errMsg||"",M.debug&&!i.isInnerInvoke&&alert(JSON.stringify(e)),a=r.indexOf(":"),o=r.substring(a+1)){case"ok":i.success&&i.success(e);break;case"cancel":i.cancel&&i.cancel(e);break;default:i.fail&&i.fail(e)}i.complete&&i.complete(e)}function s(t,e){var i,r,a=t,o=f[a];return o&&(a=o),i="ok",e&&(r=e.indexOf(":"),i=e.substring(r+1),"confirm"==i&&(i="ok"),"failed"==i&&(i="fail"),-1!=i.indexOf("failed_")&&(i=i.substring(7)),-1!=i.indexOf("fail_")&&(i=i.substring(5)),i=i.replace(/_/g," "),i=i.toLowerCase(),("access denied"==i||"no permission to execute"==i)&&(i="permission denied"),"config"==a&&"function not exist"==i&&(i="ok"),""==i&&(i="fail")),e=a+":"+i}function l(t){var e,i,r,a;if(t){for(e=0,i=t.length;i>e;++e)r=t[e],a=u[r],a&&(t[e]=a);return t}}function d(t,e){if(!(!M.debug||e&&e.isInnerInvoke)){var i=f[t];i&&(t=i),e&&e._complete&&delete e._complete,console.log('"'+t+'",',e||"")}}function p(){y||w||M.debug||"6.0.2">C||H.systemType<0||E||(E=!0,H.appId=M.appId,H.initTime=P.initEndTime-P.initStartTime,H.preVerifyTime=P.preVerifyEndTime-P.preVerifyStartTime,D.getNetworkType({isInnerInvoke:!0,success:function(t){var e,i;H.networkType=t.networkType,e="http://open.weixin.qq.com/sdk/report?v="+H.version+"&o="+H.isPreVerifyOk+"&s="+H.systemType+"&c="+H.clientVersion+"&a="+H.appId+"&n="+H.networkType+"&i="+H.initTime+"&p="+H.preVerifyTime+"&u="+H.url,i=new Image,i.src=e}}))}function c(){return(new Date).getTime()}function m(e){T&&(t.WeixinJSBridge?e():b.addEventListener&&b.addEventListener("WeixinJSBridgeReady",e,!1))}function h(){D.invoke||(D.invoke=function(e,i,r){t.WeixinJSBridge&&WeixinJSBridge.invoke(e,a(i),r)},D.on=function(e,i){t.WeixinJSBridge&&WeixinJSBridge.on(e,i)})}var u,f,b,v,g,k,y,w,T,x,S,C,E,$,P,H,M,I,B,D;if(!t.jWeixin)return u={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest"},f=function(){var t,e={};for(t in u)e[u[t]]=t;return e}(),b=t.document,v=b.title,g=navigator.userAgent.toLowerCase(),k=navigator.platform.toLowerCase(),y=!(!k.match("mac")&&!k.match("win")),w=-1!=g.indexOf("wxdebugger"),T=-1!=g.indexOf("micromessenger"),x=-1!=g.indexOf("android"),S=-1!=g.indexOf("iphone")||-1!=g.indexOf("ipad"),C=function(){var t=g.match(/micromessenger\/(\d+\.\d+\.\d+)/)||g.match(/micromessenger\/(\d+\.\d+)/);return t?t[1]:""}(),E=!1,$=!1,P={initStartTime:c(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},H={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:S?1:x?2:-1,clientVersion:C,url:encodeURIComponent(location.href)},M={},I={_completes:[]},B={state:0,data:{}},m(function(){P.initEndTime=c()}),D={config:function(t){M=t,d("config",t);var e=M.check!==!1;m(function(){var t,r,a;if(e)i(u.config,{verifyJsApiList:l(M.jsApiList)},function(){I._complete=function(t){P.preVerifyEndTime=c(),B.state=1,B.data=t},I.success=function(){H.isPreVerifyOk=0},I.fail=function(t){I._fail?I._fail(t):B.state=-1};var t=I._completes;return t.push(function(){p()}),I.complete=function(){for(var e=0,i=t.length;i>e;++e)t[e]();I._completes=[]},I}()),P.preVerifyStartTime=c();else{for(B.state=1,t=I._completes,r=0,a=t.length;a>r;++r)t[r]();I._completes=[]}}),M.beta&&h()},ready:function(t){0!=B.state?t():(I._completes.push(t),!T&&M.debug&&t())},error:function(t){"6.0.2">C||$||($=!0,-1==B.state?t(B.data):I._fail=t)},checkJsApi:function(t){var e=function(t){var e,i,r=t.checkResult;for(e in r)i=f[e],i&&(r[i]=r[e],delete r[e]);return t};i("checkJsApi",{jsApiList:l(t.jsApiList)},function(){return t._complete=function(t){if(x){var i=t.checkResult;i&&(t.checkResult=JSON.parse(i))}t=e(t)},t}())},onMenuShareTimeline:function(t){r(u.onMenuShareTimeline,{complete:function(){i("shareTimeline",{title:t.title||v,desc:t.title||v,img_url:t.imgUrl||"",link:t.link||location.href,type:t.type||"link",data_url:t.dataUrl||""},t)}},t)},onMenuShareAppMessage:function(t){r(u.onMenuShareAppMessage,{complete:function(){i("sendAppMessage",{title:t.title||v,desc:t.desc||"",link:t.link||location.href,img_url:t.imgUrl||"",type:t.type||"link",data_url:t.dataUrl||""},t)}},t)},onMenuShareQQ:function(t){r(u.onMenuShareQQ,{complete:function(){i("shareQQ",{title:t.title||v,desc:t.desc||"",img_url:t.imgUrl||"",link:t.link||location.href},t)}},t)},onMenuShareWeibo:function(t){r(u.onMenuShareWeibo,{complete:function(){i("shareWeiboApp",{title:t.title||v,desc:t.desc||"",img_url:t.imgUrl||"",link:t.link||location.href},t)}},t)},onMenuShareQZone:function(t){r(u.onMenuShareQZone,{complete:function(){i("shareQZone",{title:t.title||v,desc:t.desc||"",img_url:t.imgUrl||"",link:t.link||location.href},t)}},t)},startRecord:function(t){i("startRecord",{},t)},stopRecord:function(t){i("stopRecord",{},t)},onVoiceRecordEnd:function(t){r("onVoiceRecordEnd",t)},playVoice:function(t){i("playVoice",{localId:t.localId},t)},pauseVoice:function(t){i("pauseVoice",{localId:t.localId},t)},stopVoice:function(t){i("stopVoice",{localId:t.localId},t)},onVoicePlayEnd:function(t){r("onVoicePlayEnd",t)},uploadVoice:function(t){i("uploadVoice",{localId:t.localId,isShowProgressTips:0==t.isShowProgressTips?0:1},t)},downloadVoice:function(t){i("downloadVoice",{serverId:t.serverId,isShowProgressTips:0==t.isShowProgressTips?0:1},t)},translateVoice:function(t){i("translateVoice",{localId:t.localId,isShowProgressTips:0==t.isShowProgressTips?0:1},t)},chooseImage:function(t){i("chooseImage",{scene:"1|2",count:t.count||9,sizeType:t.sizeType||["original","compressed"],sourceType:t.sourceType||["album","camera"]},function(){return t._complete=function(t){if(x){var e=t.localIds;e&&(t.localIds=JSON.parse(e))}},t}())},previewImage:function(t){i(u.previewImage,{current:t.current,urls:t.urls},t)},uploadImage:function(t){i("uploadImage",{localId:t.localId,isShowProgressTips:0==t.isShowProgressTips?0:1},t)},downloadImage:function(t){i("downloadImage",{serverId:t.serverId,isShowProgressTips:0==t.isShowProgressTips?0:1},t)},getNetworkType:function(t){var e=function(t){var e,i,r,a=t.errMsg;if(t.errMsg="getNetworkType:ok",e=t.subtype,delete t.subtype,e)t.networkType=e;else switch(i=a.indexOf(":"),r=a.substring(i+1)){case"wifi":case"edge":case"wwan":t.networkType=r;break;default:t.errMsg="getNetworkType:fail"}return t};i("getNetworkType",{},function(){return t._complete=function(t){t=e(t)},t}())},openLocation:function(t){i("openLocation",{latitude:t.latitude,longitude:t.longitude,name:t.name||"",address:t.address||"",scale:t.scale||28,infoUrl:t.infoUrl||""},t)},getLocation:function(t){t=t||{},i(u.getLocation,{type:t.type||"wgs84"},function(){return t._complete=function(t){delete t.type},t}())},hideOptionMenu:function(t){i("hideOptionMenu",{},t)},showOptionMenu:function(t){i("showOptionMenu",{},t)},closeWindow:function(t){t=t||{},i("closeWindow",{},t)},hideMenuItems:function(t){i("hideMenuItems",{menuList:t.menuList},t)},showMenuItems:function(t){i("showMenuItems",{menuList:t.menuList},t)},hideAllNonBaseMenuItem:function(t){i("hideAllNonBaseMenuItem",{},t)},showAllNonBaseMenuItem:function(t){i("showAllNonBaseMenuItem",{},t)},scanQRCode:function(t){t=t||{},i("scanQRCode",{needResult:t.needResult||0,scanType:t.scanType||["qrCode","barCode"]},function(){return t._complete=function(t){var e,i;S&&(e=t.resultStr,e&&(i=JSON.parse(e),t.resultStr=i&&i.scan_code&&i.scan_code.scan_result))},t}())},openProductSpecificView:function(t){i(u.openProductSpecificView,{pid:t.productId,view_type:t.viewType||0,ext_info:t.extInfo},t)},addCard:function(t){var e,r,a,o,n=t.cardList,s=[];for(e=0,r=n.length;r>e;++e)a=n[e],o={card_id:a.cardId,card_ext:a.cardExt},s.push(o);i(u.addCard,{card_list:s},function(){return t._complete=function(t){var e,i,r,a=t.card_list;if(a){for(a=JSON.parse(a),e=0,i=a.length;i>e;++e)r=a[e],r.cardId=r.card_id,r.cardExt=r.card_ext,r.isSuccess=!!r.is_succ,delete r.card_id,delete r.card_ext,delete r.is_succ;t.cardList=a,delete t.card_list}},t}())},chooseCard:function(t){i("chooseCard",{app_id:M.appId,location_id:t.shopId||"",sign_type:t.signType||"SHA1",card_id:t.cardId||"",card_type:t.cardType||"",card_sign:t.cardSign,time_stamp:t.timestamp+"",nonce_str:t.nonceStr},function(){return t._complete=function(t){t.cardList=t.choose_card_info,delete t.choose_card_info},t}())},openCard:function(t){var e,r,a,o,n=t.cardList,s=[];for(e=0,r=n.length;r>e;++e)a=n[e],o={card_id:a.cardId,code:a.code},s.push(o);i(u.openCard,{card_list:s},t)},chooseWXPay:function(t){i(u.chooseWXPay,o(t),t)}},e&&(t.wx=t.jWeixin=D),D}),!function(){"use strict";function t(t){t.fn.swiper=function(e){var r;return t(this).each(function(){var t=new i(this,e);r||(r=t)}),r}}var e,i=function(t,r){function a(t){return Math.floor(t)}function o(){k.autoplayTimeoutId=setTimeout(function(){k.params.loop?(k.fixLoop(),k._slideNext(),k.emit("onAutoplay",k)):k.isEnd?r.autoplayStopOnLast?k.stopAutoplay():(k._slideTo(0),k.emit("onAutoplay",k)):(k._slideNext(),k.emit("onAutoplay",k))},k.params.autoplay)}function n(t,i){var r=e(t.target);if(!r.is(i))if("string"==typeof i)r=r.parents(i);else if(i.nodeType){var a;return r.parents().each(function(t,e){e===i&&(a=i)}),a?i:void 0}if(0!==r.length)return r[0]}function s(t,e){e=e||{};var i=window.MutationObserver||window.WebkitMutationObserver,r=new i(function(t){t.forEach(function(t){k.onResize(!0),k.emit("onObserverUpdate",k,t)})});r.observe(t,{attributes:"undefined"==typeof e.attributes||e.attributes,childList:"undefined"==typeof e.childList||e.childList,characterData:"undefined"==typeof e.characterData||e.characterData}),k.observers.push(r)}function l(t){t.originalEvent&&(t=t.originalEvent);var e=t.keyCode||t.charCode;if(!k.params.allowSwipeToNext&&(k.isHorizontal()&&39===e||!k.isHorizontal()&&40===e))return!1;if(!k.params.allowSwipeToPrev&&(k.isHorizontal()&&37===e||!k.isHorizontal()&&38===e))return!1;if(!(t.shiftKey||t.altKey||t.ctrlKey||t.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===e||39===e||38===e||40===e){var i=!1;if(k.container.parents(".swiper-slide").length>0&&0===k.container.parents(".swiper-slide-active").length)return;var r={left:window.pageXOffset,top:window.pageYOffset},a=window.innerWidth,o=window.innerHeight,n=k.container.offset();k.rtl&&(n.left=n.left-k.container[0].scrollLeft);for(var s=[[n.left,n.top],[n.left+k.width,n.top],[n.left,n.top+k.height],[n.left+k.width,n.top+k.height]],l=0;l<s.length;l++){var d=s[l];d[0]>=r.left&&d[0]<=r.left+a&&d[1]>=r.top&&d[1]<=r.top+o&&(i=!0)}if(!i)return}k.isHorizontal()?((37===e||39===e)&&(t.preventDefault?t.preventDefault():t.returnValue=!1),(39===e&&!k.rtl||37===e&&k.rtl)&&k.slideNext(),(37===e&&!k.rtl||39===e&&k.rtl)&&k.slidePrev()):((38===e||40===e)&&(t.preventDefault?t.preventDefault():t.returnValue=!1),40===e&&k.slideNext(),38===e&&k.slidePrev())}}function d(t){t.originalEvent&&(t=t.originalEvent);var e=k.mousewheel.event,i=0,r=k.rtl?-1:1;if("mousewheel"===e)if(k.params.mousewheelForceToAxis)if(k.isHorizontal()){if(!(Math.abs(t.wheelDeltaX)>Math.abs(t.wheelDeltaY)))return;i=t.wheelDeltaX*r}else{if(!(Math.abs(t.wheelDeltaY)>Math.abs(t.wheelDeltaX)))return;i=t.wheelDeltaY}else i=Math.abs(t.wheelDeltaX)>Math.abs(t.wheelDeltaY)?-t.wheelDeltaX*r:-t.wheelDeltaY;else if("DOMMouseScroll"===e)i=-t.detail;else if("wheel"===e)if(k.params.mousewheelForceToAxis)if(k.isHorizontal()){if(!(Math.abs(t.deltaX)>Math.abs(t.deltaY)))return;i=-t.deltaX*r}else{if(!(Math.abs(t.deltaY)>Math.abs(t.deltaX)))return;i=-t.deltaY}else i=Math.abs(t.deltaX)>Math.abs(t.deltaY)?-t.deltaX*r:-t.deltaY;if(0!==i){if(k.params.mousewheelInvert&&(i=-i),k.params.freeMode){var a=k.getWrapperTranslate()+i*k.params.mousewheelSensitivity,o=k.isBeginning,n=k.isEnd;if(a>=k.minTranslate()&&(a=k.minTranslate()),a<=k.maxTranslate()&&(a=k.maxTranslate()),k.setWrapperTransition(0),k.setWrapperTranslate(a),k.updateProgress(),k.updateActiveIndex(),(!o&&k.isBeginning||!n&&k.isEnd)&&k.updateClasses(),k.params.freeModeSticky?(clearTimeout(k.mousewheel.timeout),k.mousewheel.timeout=setTimeout(function(){k.slideReset()},300)):k.params.lazyLoading&&k.lazy&&k.lazy.load(),0===a||a===k.maxTranslate())return}else{if((new window.Date).getTime()-k.mousewheel.lastScrollTime>60)if(0>i)if(k.isEnd&&!k.params.loop||k.animating){if(k.params.mousewheelReleaseOnEdges)return!0}else k.slideNext();else if(k.isBeginning&&!k.params.loop||k.animating){if(k.params.mousewheelReleaseOnEdges)return!0}else k.slidePrev();k.mousewheel.lastScrollTime=(new window.Date).getTime()}return k.params.autoplay&&k.stopAutoplay(),t.preventDefault?t.preventDefault():t.returnValue=!1,!1}}function p(t,i){t=e(t);var r,a,o,n=k.rtl?-1:1;r=t.attr("data-swiper-parallax")||"0",a=t.attr("data-swiper-parallax-x"),o=t.attr("data-swiper-parallax-y"),a||o?(a=a||"0",o=o||"0"):k.isHorizontal()?(a=r,o="0"):(o=r,a="0"),a=a.indexOf("%")>=0?parseInt(a,10)*i*n+"%":a*i*n+"px",o=o.indexOf("%")>=0?parseInt(o,10)*i+"%":o*i+"px",t.transform("translate3d("+a+", "+o+",0px)")}function c(t){return 0!==t.indexOf("on")&&(t=t[0]!==t[0].toUpperCase()?"on"+t[0].toUpperCase()+t.substring(1):"on"+t),t}if(!(this instanceof i))return new i(t,r);var m={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flip:{slideShadows:!0,limitRotation:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,hashnav:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,uniqueNavElements:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},h=r&&r.virtualTranslate;r=r||{};var u={};for(var f in r)if("object"!=typeof r[f]||null===r[f]||r[f].nodeType||r[f]===window||r[f]===document||"undefined"!=typeof Dom7&&r[f]instanceof Dom7||"undefined"!=typeof jQuery&&r[f]instanceof jQuery)u[f]=r[f];else{u[f]={};for(var b in r[f])u[f][b]=r[f][b]}for(var v in m)if("undefined"==typeof r[v])r[v]=m[v];else if("object"==typeof r[v])for(var g in m[v])"undefined"==typeof r[v][g]&&(r[v][g]=m[v][g]);var k=this;if(k.params=r,k.originalParams=u,k.classNames=[],"undefined"!=typeof e&&"undefined"!=typeof Dom7&&(e=Dom7),("undefined"!=typeof e||(e="undefined"==typeof Dom7?window.Dom7||window.Zepto||window.jQuery:Dom7))&&(k.$=e,k.currentBreakpoint=void 0,k.getActiveBreakpoint=function(){if(!k.params.breakpoints)return!1;var t,e=!1,i=[];for(t in k.params.breakpoints)k.params.breakpoints.hasOwnProperty(t)&&i.push(t);i.sort(function(t,e){return parseInt(t,10)>parseInt(e,10)});for(var r=0;r<i.length;r++)t=i[r],t>=window.innerWidth&&!e&&(e=t);return e||"max"},k.setBreakpoint=function(){var t=k.getActiveBreakpoint();if(t&&k.currentBreakpoint!==t){var e=t in k.params.breakpoints?k.params.breakpoints[t]:k.originalParams,i=k.params.loop&&e.slidesPerView!==k.params.slidesPerView;for(var r in e)k.params[r]=e[r];k.currentBreakpoint=t,i&&k.destroyLoop&&k.reLoop(!0)}},k.params.breakpoints&&k.setBreakpoint(),k.container=e(t),0!==k.container.length)){if(k.container.length>1){var y=[];return k.container.each(function(){y.push(new i(this,r))}),y}k.container[0].swiper=k,k.container.data("swiper",k),k.classNames.push("swiper-container-"+k.params.direction),k.params.freeMode&&k.classNames.push("swiper-container-free-mode"),k.support.flexbox||(k.classNames.push("swiper-container-no-flexbox"),k.params.slidesPerColumn=1),k.params.autoHeight&&k.classNames.push("swiper-container-autoheight"),(k.params.parallax||k.params.watchSlidesVisibility)&&(k.params.watchSlidesProgress=!0),["cube","coverflow","flip"].indexOf(k.params.effect)>=0&&(k.support.transforms3d?(k.params.watchSlidesProgress=!0,k.classNames.push("swiper-container-3d")):k.params.effect="slide"),"slide"!==k.params.effect&&k.classNames.push("swiper-container-"+k.params.effect),"cube"===k.params.effect&&(k.params.resistanceRatio=0,k.params.slidesPerView=1,k.params.slidesPerColumn=1,k.params.slidesPerGroup=1,k.params.centeredSlides=!1,k.params.spaceBetween=0,k.params.virtualTranslate=!0,k.params.setWrapperSize=!1),("fade"===k.params.effect||"flip"===k.params.effect)&&(k.params.slidesPerView=1,k.params.slidesPerColumn=1,k.params.slidesPerGroup=1,k.params.watchSlidesProgress=!0,k.params.spaceBetween=0,k.params.setWrapperSize=!1,"undefined"==typeof h&&(k.params.virtualTranslate=!0)),k.params.grabCursor&&k.support.touch&&(k.params.grabCursor=!1),k.wrapper=k.container.children("."+k.params.wrapperClass),k.params.pagination&&(k.paginationContainer=e(k.params.pagination),k.params.uniqueNavElements&&"string"==typeof k.params.pagination&&k.paginationContainer.length>1&&1===k.container.find(k.params.pagination).length&&(k.paginationContainer=k.container.find(k.params.pagination)),"bullets"===k.params.paginationType&&k.params.paginationClickable?k.paginationContainer.addClass("swiper-pagination-clickable"):k.params.paginationClickable=!1,k.paginationContainer.addClass("swiper-pagination-"+k.params.paginationType)),(k.params.nextButton||k.params.prevButton)&&(k.params.nextButton&&(k.nextButton=e(k.params.nextButton),k.params.uniqueNavElements&&"string"==typeof k.params.nextButton&&k.nextButton.length>1&&1===k.container.find(k.params.nextButton).length&&(k.nextButton=k.container.find(k.params.nextButton))),k.params.prevButton&&(k.prevButton=e(k.params.prevButton),k.params.uniqueNavElements&&"string"==typeof k.params.prevButton&&k.prevButton.length>1&&1===k.container.find(k.params.prevButton).length&&(k.prevButton=k.container.find(k.params.prevButton)))),k.isHorizontal=function(){return"horizontal"===k.params.direction},k.rtl=k.isHorizontal()&&("rtl"===k.container[0].dir.toLowerCase()||"rtl"===k.container.css("direction")),k.rtl&&k.classNames.push("swiper-container-rtl"),k.rtl&&(k.wrongRTL="-webkit-box"===k.wrapper.css("display")),k.params.slidesPerColumn>1&&k.classNames.push("swiper-container-multirow"),k.device.android&&k.classNames.push("swiper-container-android"),k.container.addClass(k.classNames.join(" ")),k.translate=0,k.progress=0,k.velocity=0,k.lockSwipeToNext=function(){k.params.allowSwipeToNext=!1},k.lockSwipeToPrev=function(){k.params.allowSwipeToPrev=!1},k.lockSwipes=function(){k.params.allowSwipeToNext=k.params.allowSwipeToPrev=!1},k.unlockSwipeToNext=function(){k.params.allowSwipeToNext=!0},k.unlockSwipeToPrev=function(){k.params.allowSwipeToPrev=!0},k.unlockSwipes=function(){k.params.allowSwipeToNext=k.params.allowSwipeToPrev=!0},k.params.grabCursor&&(k.container[0].style.cursor="move",k.container[0].style.cursor="-webkit-grab",k.container[0].style.cursor="-moz-grab",k.container[0].style.cursor="grab"),k.imagesToLoad=[],k.imagesLoaded=0,k.loadImage=function(t,e,i,r,a){function o(){a&&a()}var n;t.complete&&r?o():e?(n=new window.Image,n.onload=o,n.onerror=o,i&&(n.srcset=i),e&&(n.src=e)):o()},k.preloadImages=function(){function t(){"undefined"!=typeof k&&null!==k&&(void 0!==k.imagesLoaded&&k.imagesLoaded++,k.imagesLoaded===k.imagesToLoad.length&&(k.params.updateOnImagesReady&&k.update(),k.emit("onImagesReady",k)))}k.imagesToLoad=k.container.find("img");for(var e=0;e<k.imagesToLoad.length;e++)k.loadImage(k.imagesToLoad[e],k.imagesToLoad[e].currentSrc||k.imagesToLoad[e].getAttribute("src"),k.imagesToLoad[e].srcset||k.imagesToLoad[e].getAttribute("srcset"),!0,t)},k.autoplayTimeoutId=void 0,k.autoplaying=!1,k.autoplayPaused=!1,k.startAutoplay=function(){return"undefined"==typeof k.autoplayTimeoutId&&(!!k.params.autoplay&&(!k.autoplaying&&(k.autoplaying=!0,k.emit("onAutoplayStart",k),void o())))},k.stopAutoplay=function(t){k.autoplayTimeoutId&&(k.autoplayTimeoutId&&clearTimeout(k.autoplayTimeoutId),k.autoplaying=!1,k.autoplayTimeoutId=void 0,k.emit("onAutoplayStop",k))},k.pauseAutoplay=function(t){k.autoplayPaused||(k.autoplayTimeoutId&&clearTimeout(k.autoplayTimeoutId),k.autoplayPaused=!0,0===t?(k.autoplayPaused=!1,o()):k.wrapper.transitionEnd(function(){k&&(k.autoplayPaused=!1,k.autoplaying?o():k.stopAutoplay())}))},k.minTranslate=function(){return-k.snapGrid[0]},k.maxTranslate=function(){return-k.snapGrid[k.snapGrid.length-1]},k.updateAutoHeight=function(){var t=k.slides.eq(k.activeIndex)[0];if("undefined"!=typeof t){var e=t.offsetHeight;e&&k.wrapper.css("height",e+"px")}},k.updateContainerSize=function(){var t,e;t="undefined"!=typeof k.params.width?k.params.width:k.container[0].clientWidth,e="undefined"!=typeof k.params.height?k.params.height:k.container[0].clientHeight,0===t&&k.isHorizontal()||0===e&&!k.isHorizontal()||(t=t-parseInt(k.container.css("padding-left"),10)-parseInt(k.container.css("padding-right"),10),e=e-parseInt(k.container.css("padding-top"),10)-parseInt(k.container.css("padding-bottom"),10),k.width=t,k.height=e,k.size=k.isHorizontal()?k.width:k.height)},k.updateSlidesSize=function(){k.slides=k.wrapper.children("."+k.params.slideClass),k.snapGrid=[],k.slidesGrid=[],k.slidesSizesGrid=[];var t,e=k.params.spaceBetween,i=-k.params.slidesOffsetBefore,r=0,o=0;if("undefined"!=typeof k.size){"string"==typeof e&&e.indexOf("%")>=0&&(e=parseFloat(e.replace("%",""))/100*k.size),k.virtualSize=-e,k.rtl?k.slides.css({marginLeft:"",marginTop:""}):k.slides.css({marginRight:"",marginBottom:""});var n;k.params.slidesPerColumn>1&&(n=Math.floor(k.slides.length/k.params.slidesPerColumn)===k.slides.length/k.params.slidesPerColumn?k.slides.length:Math.ceil(k.slides.length/k.params.slidesPerColumn)*k.params.slidesPerColumn,"auto"!==k.params.slidesPerView&&"row"===k.params.slidesPerColumnFill&&(n=Math.max(n,k.params.slidesPerView*k.params.slidesPerColumn)));var s,l=k.params.slidesPerColumn,d=n/l,p=d-(k.params.slidesPerColumn*d-k.slides.length);for(t=0;t<k.slides.length;t++){s=0;var c=k.slides.eq(t);if(k.params.slidesPerColumn>1){var m,h,u;"column"===k.params.slidesPerColumnFill?(h=Math.floor(t/l),u=t-h*l,(h>p||h===p&&u===l-1)&&++u>=l&&(u=0,h++),m=h+u*n/l,c.css({"-webkit-box-ordinal-group":m,"-moz-box-ordinal-group":m,"-ms-flex-order":m,"-webkit-order":m,order:m})):(u=Math.floor(t/d),h=t-u*d),c.css({"margin-top":0!==u&&k.params.spaceBetween&&k.params.spaceBetween+"px"}).attr("data-swiper-column",h).attr("data-swiper-row",u)}"none"!==c.css("display")&&("auto"===k.params.slidesPerView?(s=k.isHorizontal()?c.outerWidth(!0):c.outerHeight(!0),k.params.roundLengths&&(s=a(s))):(s=(k.size-(k.params.slidesPerView-1)*e)/k.params.slidesPerView,k.params.roundLengths&&(s=a(s)),k.isHorizontal()?k.slides[t].style.width=s+"px":k.slides[t].style.height=s+"px"),k.slides[t].swiperSlideSize=s,k.slidesSizesGrid.push(s),k.params.centeredSlides?(i=i+s/2+r/2+e,0===t&&(i=i-k.size/2-e),Math.abs(i)<.001&&(i=0),o%k.params.slidesPerGroup===0&&k.snapGrid.push(i),k.slidesGrid.push(i)):(o%k.params.slidesPerGroup===0&&k.snapGrid.push(i),k.slidesGrid.push(i),i=i+s+e),k.virtualSize+=s+e,r=s,o++)}k.virtualSize=Math.max(k.virtualSize,k.size)+k.params.slidesOffsetAfter;var f;if(k.rtl&&k.wrongRTL&&("slide"===k.params.effect||"coverflow"===k.params.effect)&&k.wrapper.css({width:k.virtualSize+k.params.spaceBetween+"px"}),(!k.support.flexbox||k.params.setWrapperSize)&&(k.isHorizontal()?k.wrapper.css({width:k.virtualSize+k.params.spaceBetween+"px"}):k.wrapper.css({height:k.virtualSize+k.params.spaceBetween+"px"})),k.params.slidesPerColumn>1&&(k.virtualSize=(s+k.params.spaceBetween)*n,k.virtualSize=Math.ceil(k.virtualSize/k.params.slidesPerColumn)-k.params.spaceBetween,k.wrapper.css({width:k.virtualSize+k.params.spaceBetween+"px"}),k.params.centeredSlides)){for(f=[],t=0;t<k.snapGrid.length;t++)k.snapGrid[t]<k.virtualSize+k.snapGrid[0]&&f.push(k.snapGrid[t]);k.snapGrid=f}if(!k.params.centeredSlides){for(f=[],t=0;t<k.snapGrid.length;t++)k.snapGrid[t]<=k.virtualSize-k.size&&f.push(k.snapGrid[t]);k.snapGrid=f,Math.floor(k.virtualSize-k.size)-Math.floor(k.snapGrid[k.snapGrid.length-1])>1&&k.snapGrid.push(k.virtualSize-k.size)}0===k.snapGrid.length&&(k.snapGrid=[0]),0!==k.params.spaceBetween&&(k.isHorizontal()?k.rtl?k.slides.css({marginLeft:e+"px"}):k.slides.css({marginRight:e+"px"}):k.slides.css({marginBottom:e+"px"})),k.params.watchSlidesProgress&&k.updateSlidesOffset()}},k.updateSlidesOffset=function(){for(var t=0;t<k.slides.length;t++)k.slides[t].swiperSlideOffset=k.isHorizontal()?k.slides[t].offsetLeft:k.slides[t].offsetTop},k.updateSlidesProgress=function(t){if("undefined"==typeof t&&(t=k.translate||0),0!==k.slides.length){"undefined"==typeof k.slides[0].swiperSlideOffset&&k.updateSlidesOffset();var e=-t;k.rtl&&(e=t),k.slides.removeClass(k.params.slideVisibleClass);for(var i=0;i<k.slides.length;i++){var r=k.slides[i],a=(e-r.swiperSlideOffset)/(r.swiperSlideSize+k.params.spaceBetween);if(k.params.watchSlidesVisibility){var o=-(e-r.swiperSlideOffset),n=o+k.slidesSizesGrid[i],s=o>=0&&o<k.size||n>0&&n<=k.size||0>=o&&n>=k.size;s&&k.slides.eq(i).addClass(k.params.slideVisibleClass)}r.progress=k.rtl?-a:a}}},k.updateProgress=function(t){"undefined"==typeof t&&(t=k.translate||0);var e=k.maxTranslate()-k.minTranslate(),i=k.isBeginning,r=k.isEnd;0===e?(k.progress=0,k.isBeginning=k.isEnd=!0):(k.progress=(t-k.minTranslate())/e,k.isBeginning=k.progress<=0,k.isEnd=k.progress>=1),k.isBeginning&&!i&&k.emit("onReachBeginning",k),k.isEnd&&!r&&k.emit("onReachEnd",k),k.params.watchSlidesProgress&&k.updateSlidesProgress(t),k.emit("onProgress",k,k.progress)},k.updateActiveIndex=function(){var t,e,i,r=k.rtl?k.translate:-k.translate;for(e=0;e<k.slidesGrid.length;e++)"undefined"!=typeof k.slidesGrid[e+1]?r>=k.slidesGrid[e]&&r<k.slidesGrid[e+1]-(k.slidesGrid[e+1]-k.slidesGrid[e])/2?t=e:r>=k.slidesGrid[e]&&r<k.slidesGrid[e+1]&&(t=e+1):r>=k.slidesGrid[e]&&(t=e);(0>t||"undefined"==typeof t)&&(t=0),i=Math.floor(t/k.params.slidesPerGroup),i>=k.snapGrid.length&&(i=k.snapGrid.length-1),t!==k.activeIndex&&(k.snapIndex=i,k.previousIndex=k.activeIndex,k.activeIndex=t,k.updateClasses())},k.updateClasses=function(){k.slides.removeClass(k.params.slideActiveClass+" "+k.params.slideNextClass+" "+k.params.slidePrevClass);var t=k.slides.eq(k.activeIndex);t.addClass(k.params.slideActiveClass);var i=t.next("."+k.params.slideClass).addClass(k.params.slideNextClass);k.params.loop&&0===i.length&&k.slides.eq(0).addClass(k.params.slideNextClass);var r=t.prev("."+k.params.slideClass).addClass(k.params.slidePrevClass);if(k.params.loop&&0===r.length&&k.slides.eq(-1).addClass(k.params.slidePrevClass),k.paginationContainer&&k.paginationContainer.length>0){var a,o=k.params.loop?Math.ceil((k.slides.length-2*k.loopedSlides)/k.params.slidesPerGroup):k.snapGrid.length;if(k.params.loop?(a=Math.ceil((k.activeIndex-k.loopedSlides)/k.params.slidesPerGroup),a>k.slides.length-1-2*k.loopedSlides&&(a-=k.slides.length-2*k.loopedSlides),a>o-1&&(a-=o),0>a&&"bullets"!==k.params.paginationType&&(a=o+a)):a="undefined"!=typeof k.snapIndex?k.snapIndex:k.activeIndex||0,"bullets"===k.params.paginationType&&k.bullets&&k.bullets.length>0&&(k.bullets.removeClass(k.params.bulletActiveClass),k.paginationContainer.length>1?k.bullets.each(function(){e(this).index()===a&&e(this).addClass(k.params.bulletActiveClass)}):k.bullets.eq(a).addClass(k.params.bulletActiveClass)),"fraction"===k.params.paginationType&&(k.paginationContainer.find("."+k.params.paginationCurrentClass).text(a+1),k.paginationContainer.find("."+k.params.paginationTotalClass).text(o)),"progress"===k.params.paginationType){var n=(a+1)/o,s=n,l=1;k.isHorizontal()||(l=n,s=1),k.paginationContainer.find("."+k.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+s+") scaleY("+l+")").transition(k.params.speed)}"custom"===k.params.paginationType&&k.params.paginationCustomRender&&(k.paginationContainer.html(k.params.paginationCustomRender(k,a+1,o)),k.emit("onPaginationRendered",k,k.paginationContainer[0]))}k.params.loop||(k.params.prevButton&&k.prevButton&&k.prevButton.length>0&&(k.isBeginning?(k.prevButton.addClass(k.params.buttonDisabledClass),k.params.a11y&&k.a11y&&k.a11y.disable(k.prevButton)):(k.prevButton.removeClass(k.params.buttonDisabledClass),k.params.a11y&&k.a11y&&k.a11y.enable(k.prevButton))),k.params.nextButton&&k.nextButton&&k.nextButton.length>0&&(k.isEnd?(k.nextButton.addClass(k.params.buttonDisabledClass),
k.params.a11y&&k.a11y&&k.a11y.disable(k.nextButton)):(k.nextButton.removeClass(k.params.buttonDisabledClass),k.params.a11y&&k.a11y&&k.a11y.enable(k.nextButton))))},k.updatePagination=function(){if(k.params.pagination&&k.paginationContainer&&k.paginationContainer.length>0){var t="";if("bullets"===k.params.paginationType){for(var e=k.params.loop?Math.ceil((k.slides.length-2*k.loopedSlides)/k.params.slidesPerGroup):k.snapGrid.length,i=0;e>i;i++)t+=k.params.paginationBulletRender?k.params.paginationBulletRender(i,k.params.bulletClass):"<"+k.params.paginationElement+' class="'+k.params.bulletClass+'"></'+k.params.paginationElement+">";k.paginationContainer.html(t),k.bullets=k.paginationContainer.find("."+k.params.bulletClass),k.params.paginationClickable&&k.params.a11y&&k.a11y&&k.a11y.initPagination()}"fraction"===k.params.paginationType&&(t=k.params.paginationFractionRender?k.params.paginationFractionRender(k,k.params.paginationCurrentClass,k.params.paginationTotalClass):'<span class="'+k.params.paginationCurrentClass+'"></span> / <span class="'+k.params.paginationTotalClass+'"></span>',k.paginationContainer.html(t)),"progress"===k.params.paginationType&&(t=k.params.paginationProgressRender?k.params.paginationProgressRender(k,k.params.paginationProgressbarClass):'<span class="'+k.params.paginationProgressbarClass+'"></span>',k.paginationContainer.html(t)),"custom"!==k.params.paginationType&&k.emit("onPaginationRendered",k,k.paginationContainer[0])}},k.update=function(t){function e(){r=Math.min(Math.max(k.translate,k.maxTranslate()),k.minTranslate()),k.setWrapperTranslate(r),k.updateActiveIndex(),k.updateClasses()}if(k.updateContainerSize(),k.updateSlidesSize(),k.updateProgress(),k.updatePagination(),k.updateClasses(),k.params.scrollbar&&k.scrollbar&&k.scrollbar.set(),t){var i,r;k.controller&&k.controller.spline&&(k.controller.spline=void 0),k.params.freeMode?(e(),k.params.autoHeight&&k.updateAutoHeight()):(i=("auto"===k.params.slidesPerView||k.params.slidesPerView>1)&&k.isEnd&&!k.params.centeredSlides?k.slideTo(k.slides.length-1,0,!1,!0):k.slideTo(k.activeIndex,0,!1,!0),i||e())}else k.params.autoHeight&&k.updateAutoHeight()},k.onResize=function(t){k.params.breakpoints&&k.setBreakpoint();var e=k.params.allowSwipeToPrev,i=k.params.allowSwipeToNext;k.params.allowSwipeToPrev=k.params.allowSwipeToNext=!0,k.updateContainerSize(),k.updateSlidesSize(),("auto"===k.params.slidesPerView||k.params.freeMode||t)&&k.updatePagination(),k.params.scrollbar&&k.scrollbar&&k.scrollbar.set(),k.controller&&k.controller.spline&&(k.controller.spline=void 0);var r=!1;if(k.params.freeMode){var a=Math.min(Math.max(k.translate,k.maxTranslate()),k.minTranslate());k.setWrapperTranslate(a),k.updateActiveIndex(),k.updateClasses(),k.params.autoHeight&&k.updateAutoHeight()}else k.updateClasses(),r=("auto"===k.params.slidesPerView||k.params.slidesPerView>1)&&k.isEnd&&!k.params.centeredSlides?k.slideTo(k.slides.length-1,0,!1,!0):k.slideTo(k.activeIndex,0,!1,!0);k.params.lazyLoading&&!r&&k.lazy&&k.lazy.load(),k.params.allowSwipeToPrev=e,k.params.allowSwipeToNext=i};var w=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?w=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(w=["MSPointerDown","MSPointerMove","MSPointerUp"]),k.touchEvents={start:k.support.touch||!k.params.simulateTouch?"touchstart":w[0],move:k.support.touch||!k.params.simulateTouch?"touchmove":w[1],end:k.support.touch||!k.params.simulateTouch?"touchend":w[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===k.params.touchEventsTarget?k.container:k.wrapper).addClass("swiper-wp8-"+k.params.direction),k.initEvents=function(t){var e=t?"off":"on",i=t?"removeEventListener":"addEventListener",a="container"===k.params.touchEventsTarget?k.container[0]:k.wrapper[0],o=k.support.touch?a:document,n=!!k.params.nested;k.browser.ie?(a[i](k.touchEvents.start,k.onTouchStart,!1),o[i](k.touchEvents.move,k.onTouchMove,n),o[i](k.touchEvents.end,k.onTouchEnd,!1)):(k.support.touch&&(a[i](k.touchEvents.start,k.onTouchStart,!1),a[i](k.touchEvents.move,k.onTouchMove,n),a[i](k.touchEvents.end,k.onTouchEnd,!1)),!r.simulateTouch||k.device.ios||k.device.android||(a[i]("mousedown",k.onTouchStart,!1),document[i]("mousemove",k.onTouchMove,n),document[i]("mouseup",k.onTouchEnd,!1))),window[i]("resize",k.onResize),k.params.nextButton&&k.nextButton&&k.nextButton.length>0&&(k.nextButton[e]("click",k.onClickNext),k.params.a11y&&k.a11y&&k.nextButton[e]("keydown",k.a11y.onEnterKey)),k.params.prevButton&&k.prevButton&&k.prevButton.length>0&&(k.prevButton[e]("click",k.onClickPrev),k.params.a11y&&k.a11y&&k.prevButton[e]("keydown",k.a11y.onEnterKey)),k.params.pagination&&k.params.paginationClickable&&(k.paginationContainer[e]("click","."+k.params.bulletClass,k.onClickIndex),k.params.a11y&&k.a11y&&k.paginationContainer[e]("keydown","."+k.params.bulletClass,k.a11y.onEnterKey)),(k.params.preventClicks||k.params.preventClicksPropagation)&&a[i]("click",k.preventClicks,!0)},k.attachEvents=function(){k.initEvents()},k.detachEvents=function(){k.initEvents(!0)},k.allowClick=!0,k.preventClicks=function(t){k.allowClick||(k.params.preventClicks&&t.preventDefault(),k.params.preventClicksPropagation&&k.animating&&(t.stopPropagation(),t.stopImmediatePropagation()))},k.onClickNext=function(t){t.preventDefault(),(!k.isEnd||k.params.loop)&&k.slideNext()},k.onClickPrev=function(t){t.preventDefault(),(!k.isBeginning||k.params.loop)&&k.slidePrev()},k.onClickIndex=function(t){t.preventDefault();var i=e(this).index()*k.params.slidesPerGroup;k.params.loop&&(i+=k.loopedSlides),k.slideTo(i)},k.updateClickedSlide=function(t){var i=n(t,"."+k.params.slideClass),r=!1;if(i)for(var a=0;a<k.slides.length;a++)k.slides[a]===i&&(r=!0);if(!i||!r)return k.clickedSlide=void 0,void(k.clickedIndex=void 0);if(k.clickedSlide=i,k.clickedIndex=e(i).index(),k.params.slideToClickedSlide&&void 0!==k.clickedIndex&&k.clickedIndex!==k.activeIndex){var o,s=k.clickedIndex;if(k.params.loop){if(k.animating)return;o=e(k.clickedSlide).attr("data-swiper-slide-index"),k.params.centeredSlides?s<k.loopedSlides-k.params.slidesPerView/2||s>k.slides.length-k.loopedSlides+k.params.slidesPerView/2?(k.fixLoop(),s=k.wrapper.children("."+k.params.slideClass+'[data-swiper-slide-index="'+o+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){k.slideTo(s)},0)):k.slideTo(s):s>k.slides.length-k.params.slidesPerView?(k.fixLoop(),s=k.wrapper.children("."+k.params.slideClass+'[data-swiper-slide-index="'+o+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){k.slideTo(s)},0)):k.slideTo(s)}else k.slideTo(s)}};var T,x,S,C,E,$,P,H,M,I,B="input, select, textarea, button",D=Date.now(),L=[];k.animating=!1,k.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var z,A;if(k.onTouchStart=function(t){if(t.originalEvent&&(t=t.originalEvent),z="touchstart"===t.type,z||!("which"in t)||3!==t.which){if(k.params.noSwiping&&n(t,"."+k.params.noSwipingClass))return void(k.allowClick=!0);if(!k.params.swipeHandler||n(t,k.params.swipeHandler)){var i=k.touches.currentX="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,r=k.touches.currentY="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY;if(!(k.device.ios&&k.params.iOSEdgeSwipeDetection&&i<=k.params.iOSEdgeSwipeThreshold)){if(T=!0,x=!1,S=!0,E=void 0,A=void 0,k.touches.startX=i,k.touches.startY=r,C=Date.now(),k.allowClick=!0,k.updateContainerSize(),k.swipeDirection=void 0,k.params.threshold>0&&(H=!1),"touchstart"!==t.type){var a=!0;e(t.target).is(B)&&(a=!1),document.activeElement&&e(document.activeElement).is(B)&&document.activeElement.blur(),a&&t.preventDefault()}k.emit("onTouchStart",k,t)}}}},k.onTouchMove=function(t){if(t.originalEvent&&(t=t.originalEvent),!z||"mousemove"!==t.type){if(t.preventedByNestedSwiper)return k.touches.startX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,void(k.touches.startY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY);if(k.params.onlyExternal)return k.allowClick=!1,void(T&&(k.touches.startX=k.touches.currentX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,k.touches.startY=k.touches.currentY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,C=Date.now()));if(z&&document.activeElement&&t.target===document.activeElement&&e(t.target).is(B))return x=!0,void(k.allowClick=!1);if(S&&k.emit("onTouchMove",k,t),!(t.targetTouches&&t.targetTouches.length>1)){if(k.touches.currentX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,k.touches.currentY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,"undefined"==typeof E){var i=180*Math.atan2(Math.abs(k.touches.currentY-k.touches.startY),Math.abs(k.touches.currentX-k.touches.startX))/Math.PI;E=k.isHorizontal()?i>k.params.touchAngle:90-i>k.params.touchAngle}if(E&&k.emit("onTouchMoveOpposite",k,t),"undefined"==typeof A&&k.browser.ieTouch&&(k.touches.currentX!==k.touches.startX||k.touches.currentY!==k.touches.startY)&&(A=!0),T){if(E)return void(T=!1);if(A||!k.browser.ieTouch){k.allowClick=!1,k.emit("onSliderMove",k,t),t.preventDefault(),k.params.touchMoveStopPropagation&&!k.params.nested&&t.stopPropagation(),x||(r.loop&&k.fixLoop(),P=k.getWrapperTranslate(),k.setWrapperTransition(0),k.animating&&k.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),k.params.autoplay&&k.autoplaying&&(k.params.autoplayDisableOnInteraction?k.stopAutoplay():k.pauseAutoplay()),I=!1,k.params.grabCursor&&(k.container[0].style.cursor="move",k.container[0].style.cursor="-webkit-grabbing",k.container[0].style.cursor="-moz-grabbin",k.container[0].style.cursor="grabbing")),x=!0;var a=k.touches.diff=k.isHorizontal()?k.touches.currentX-k.touches.startX:k.touches.currentY-k.touches.startY;a*=k.params.touchRatio,k.rtl&&(a=-a),k.swipeDirection=a>0?"prev":"next",$=a+P;var o=!0;if(a>0&&$>k.minTranslate()?(o=!1,k.params.resistance&&($=k.minTranslate()-1+Math.pow(-k.minTranslate()+P+a,k.params.resistanceRatio))):0>a&&$<k.maxTranslate()&&(o=!1,k.params.resistance&&($=k.maxTranslate()+1-Math.pow(k.maxTranslate()-P-a,k.params.resistanceRatio))),o&&(t.preventedByNestedSwiper=!0),!k.params.allowSwipeToNext&&"next"===k.swipeDirection&&P>$&&($=P),!k.params.allowSwipeToPrev&&"prev"===k.swipeDirection&&$>P&&($=P),k.params.followFinger){if(k.params.threshold>0){if(!(Math.abs(a)>k.params.threshold||H))return void($=P);if(!H)return H=!0,k.touches.startX=k.touches.currentX,k.touches.startY=k.touches.currentY,$=P,void(k.touches.diff=k.isHorizontal()?k.touches.currentX-k.touches.startX:k.touches.currentY-k.touches.startY)}(k.params.freeMode||k.params.watchSlidesProgress)&&k.updateActiveIndex(),k.params.freeMode&&(0===L.length&&L.push({position:k.touches[k.isHorizontal()?"startX":"startY"],time:C}),L.push({position:k.touches[k.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})),k.updateProgress($),k.setWrapperTranslate($)}}}}}},k.onTouchEnd=function(t){if(t.originalEvent&&(t=t.originalEvent),S&&k.emit("onTouchEnd",k,t),S=!1,T){k.params.grabCursor&&x&&T&&(k.container[0].style.cursor="move",k.container[0].style.cursor="-webkit-grab",k.container[0].style.cursor="-moz-grab",k.container[0].style.cursor="grab");var i=Date.now(),r=i-C;if(k.allowClick&&(k.updateClickedSlide(t),k.emit("onTap",k,t),300>r&&i-D>300&&(M&&clearTimeout(M),M=setTimeout(function(){k&&(k.params.paginationHide&&k.paginationContainer.length>0&&!e(t.target).hasClass(k.params.bulletClass)&&k.paginationContainer.toggleClass(k.params.paginationHiddenClass),k.emit("onClick",k,t))},300)),300>r&&300>i-D&&(M&&clearTimeout(M),k.emit("onDoubleTap",k,t))),D=Date.now(),setTimeout(function(){k&&(k.allowClick=!0)},0),!T||!x||!k.swipeDirection||0===k.touches.diff||$===P)return void(T=x=!1);T=x=!1;var a;if(a=k.params.followFinger?k.rtl?k.translate:-k.translate:-$,k.params.freeMode){if(a<-k.minTranslate())return void k.slideTo(k.activeIndex);if(a>-k.maxTranslate())return void(k.slides.length<k.snapGrid.length?k.slideTo(k.snapGrid.length-1):k.slideTo(k.slides.length-1));if(k.params.freeModeMomentum){if(L.length>1){var o=L.pop(),n=L.pop(),s=o.position-n.position,l=o.time-n.time;k.velocity=s/l,k.velocity=k.velocity/2,Math.abs(k.velocity)<k.params.freeModeMinimumVelocity&&(k.velocity=0),(l>150||(new window.Date).getTime()-o.time>300)&&(k.velocity=0)}else k.velocity=0;L.length=0;var d=1e3*k.params.freeModeMomentumRatio,p=k.velocity*d,c=k.translate+p;k.rtl&&(c=-c);var m,h=!1,u=20*Math.abs(k.velocity)*k.params.freeModeMomentumBounceRatio;if(c<k.maxTranslate())k.params.freeModeMomentumBounce?(c+k.maxTranslate()<-u&&(c=k.maxTranslate()-u),m=k.maxTranslate(),h=!0,I=!0):c=k.maxTranslate();else if(c>k.minTranslate())k.params.freeModeMomentumBounce?(c-k.minTranslate()>u&&(c=k.minTranslate()+u),m=k.minTranslate(),h=!0,I=!0):c=k.minTranslate();else if(k.params.freeModeSticky){var f,b=0;for(b=0;b<k.snapGrid.length;b+=1)if(k.snapGrid[b]>-c){f=b;break}c=Math.abs(k.snapGrid[f]-c)<Math.abs(k.snapGrid[f-1]-c)||"next"===k.swipeDirection?k.snapGrid[f]:k.snapGrid[f-1],k.rtl||(c=-c)}if(0!==k.velocity)d=k.rtl?Math.abs((-c-k.translate)/k.velocity):Math.abs((c-k.translate)/k.velocity);else if(k.params.freeModeSticky)return void k.slideReset();k.params.freeModeMomentumBounce&&h?(k.updateProgress(m),k.setWrapperTransition(d),k.setWrapperTranslate(c),k.onTransitionStart(),k.animating=!0,k.wrapper.transitionEnd(function(){k&&I&&(k.emit("onMomentumBounce",k),k.setWrapperTransition(k.params.speed),k.setWrapperTranslate(m),k.wrapper.transitionEnd(function(){k&&k.onTransitionEnd()}))})):k.velocity?(k.updateProgress(c),k.setWrapperTransition(d),k.setWrapperTranslate(c),k.onTransitionStart(),k.animating||(k.animating=!0,k.wrapper.transitionEnd(function(){k&&k.onTransitionEnd()}))):k.updateProgress(c),k.updateActiveIndex()}return void((!k.params.freeModeMomentum||r>=k.params.longSwipesMs)&&(k.updateProgress(),k.updateActiveIndex()))}var v,g=0,y=k.slidesSizesGrid[0];for(v=0;v<k.slidesGrid.length;v+=k.params.slidesPerGroup)"undefined"!=typeof k.slidesGrid[v+k.params.slidesPerGroup]?a>=k.slidesGrid[v]&&a<k.slidesGrid[v+k.params.slidesPerGroup]&&(g=v,y=k.slidesGrid[v+k.params.slidesPerGroup]-k.slidesGrid[v]):a>=k.slidesGrid[v]&&(g=v,y=k.slidesGrid[k.slidesGrid.length-1]-k.slidesGrid[k.slidesGrid.length-2]);var w=(a-k.slidesGrid[g])/y;if(r>k.params.longSwipesMs){if(!k.params.longSwipes)return void k.slideTo(k.activeIndex);"next"===k.swipeDirection&&(w>=k.params.longSwipesRatio?k.slideTo(g+k.params.slidesPerGroup):k.slideTo(g)),"prev"===k.swipeDirection&&(w>1-k.params.longSwipesRatio?k.slideTo(g+k.params.slidesPerGroup):k.slideTo(g))}else{if(!k.params.shortSwipes)return void k.slideTo(k.activeIndex);"next"===k.swipeDirection&&k.slideTo(g+k.params.slidesPerGroup),"prev"===k.swipeDirection&&k.slideTo(g)}}},k._slideTo=function(t,e){return k.slideTo(t,e,!0,!0)},k.slideTo=function(t,e,i,r){"undefined"==typeof i&&(i=!0),"undefined"==typeof t&&(t=0),0>t&&(t=0),k.snapIndex=Math.floor(t/k.params.slidesPerGroup),k.snapIndex>=k.snapGrid.length&&(k.snapIndex=k.snapGrid.length-1);var a=-k.snapGrid[k.snapIndex];k.params.autoplay&&k.autoplaying&&(r||!k.params.autoplayDisableOnInteraction?k.pauseAutoplay(e):k.stopAutoplay()),k.updateProgress(a);for(var o=0;o<k.slidesGrid.length;o++)-Math.floor(100*a)>=Math.floor(100*k.slidesGrid[o])&&(t=o);return!(!k.params.allowSwipeToNext&&a<k.translate&&a<k.minTranslate())&&(!(!k.params.allowSwipeToPrev&&a>k.translate&&a>k.maxTranslate()&&(k.activeIndex||0)!==t)&&("undefined"==typeof e&&(e=k.params.speed),k.previousIndex=k.activeIndex||0,k.activeIndex=t,k.rtl&&-a===k.translate||!k.rtl&&a===k.translate?(k.params.autoHeight&&k.updateAutoHeight(),k.updateClasses(),"slide"!==k.params.effect&&k.setWrapperTranslate(a),!1):(k.updateClasses(),k.onTransitionStart(i),0===e?(k.setWrapperTranslate(a),k.setWrapperTransition(0),k.onTransitionEnd(i)):(k.setWrapperTranslate(a),k.setWrapperTransition(e),k.animating||(k.animating=!0,k.wrapper.transitionEnd(function(){k&&k.onTransitionEnd(i)}))),!0)))},k.onTransitionStart=function(t){"undefined"==typeof t&&(t=!0),k.params.autoHeight&&k.updateAutoHeight(),k.lazy&&k.lazy.onTransitionStart(),t&&(k.emit("onTransitionStart",k),k.activeIndex!==k.previousIndex&&(k.emit("onSlideChangeStart",k),k.activeIndex>k.previousIndex?k.emit("onSlideNextStart",k):k.emit("onSlidePrevStart",k)))},k.onTransitionEnd=function(t){k.animating=!1,k.setWrapperTransition(0),"undefined"==typeof t&&(t=!0),k.lazy&&k.lazy.onTransitionEnd(),t&&(k.emit("onTransitionEnd",k),k.activeIndex!==k.previousIndex&&(k.emit("onSlideChangeEnd",k),k.activeIndex>k.previousIndex?k.emit("onSlideNextEnd",k):k.emit("onSlidePrevEnd",k))),k.params.hashnav&&k.hashnav&&k.hashnav.setHash()},k.slideNext=function(t,e,i){return k.params.loop?!k.animating&&(k.fixLoop(),k.container[0].clientLeft,k.slideTo(k.activeIndex+k.params.slidesPerGroup,e,t,i)):k.slideTo(k.activeIndex+k.params.slidesPerGroup,e,t,i)},k._slideNext=function(t){return k.slideNext(!0,t,!0)},k.slidePrev=function(t,e,i){return k.params.loop?!k.animating&&(k.fixLoop(),k.container[0].clientLeft,k.slideTo(k.activeIndex-1,e,t,i)):k.slideTo(k.activeIndex-1,e,t,i)},k._slidePrev=function(t){return k.slidePrev(!0,t,!0)},k.slideReset=function(t,e,i){return k.slideTo(k.activeIndex,e,t)},k.setWrapperTransition=function(t,e){k.wrapper.transition(t),"slide"!==k.params.effect&&k.effects[k.params.effect]&&k.effects[k.params.effect].setTransition(t),k.params.parallax&&k.parallax&&k.parallax.setTransition(t),k.params.scrollbar&&k.scrollbar&&k.scrollbar.setTransition(t),k.params.control&&k.controller&&k.controller.setTransition(t,e),k.emit("onSetTransition",k,t)},k.setWrapperTranslate=function(t,e,i){var r=0,o=0,n=0;k.isHorizontal()?r=k.rtl?-t:t:o=t,k.params.roundLengths&&(r=a(r),o=a(o)),k.params.virtualTranslate||(k.support.transforms3d?k.wrapper.transform("translate3d("+r+"px, "+o+"px, "+n+"px)"):k.wrapper.transform("translate("+r+"px, "+o+"px)")),k.translate=k.isHorizontal()?r:o;var s,l=k.maxTranslate()-k.minTranslate();s=0===l?0:(t-k.minTranslate())/l,s!==k.progress&&k.updateProgress(t),e&&k.updateActiveIndex(),"slide"!==k.params.effect&&k.effects[k.params.effect]&&k.effects[k.params.effect].setTranslate(k.translate),k.params.parallax&&k.parallax&&k.parallax.setTranslate(k.translate),k.params.scrollbar&&k.scrollbar&&k.scrollbar.setTranslate(k.translate),k.params.control&&k.controller&&k.controller.setTranslate(k.translate,i),k.emit("onSetTranslate",k,k.translate)},k.getTranslate=function(t,e){var i,r,a,o;return"undefined"==typeof e&&(e="x"),k.params.virtualTranslate?k.rtl?-k.translate:k.translate:(a=window.getComputedStyle(t,null),window.WebKitCSSMatrix?(r=a.transform||a.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(function(t){return t.replace(",",".")}).join(", ")),o=new window.WebKitCSSMatrix("none"===r?"":r)):(o=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=o.toString().split(",")),"x"===e&&(r=window.WebKitCSSMatrix?o.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===e&&(r=window.WebKitCSSMatrix?o.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),k.rtl&&r&&(r=-r),r||0)},k.getWrapperTranslate=function(t){return"undefined"==typeof t&&(t=k.isHorizontal()?"x":"y"),k.getTranslate(k.wrapper[0],t)},k.observers=[],k.initObservers=function(){if(k.params.observeParents)for(var t=k.container.parents(),e=0;e<t.length;e++)s(t[e]);s(k.container[0],{childList:!1}),s(k.wrapper[0],{attributes:!1})},k.disconnectObservers=function(){for(var t=0;t<k.observers.length;t++)k.observers[t].disconnect();k.observers=[]},k.createLoop=function(){k.wrapper.children("."+k.params.slideClass+"."+k.params.slideDuplicateClass).remove();var t=k.wrapper.children("."+k.params.slideClass);"auto"!==k.params.slidesPerView||k.params.loopedSlides||(k.params.loopedSlides=t.length),k.loopedSlides=parseInt(k.params.loopedSlides||k.params.slidesPerView,10),k.loopedSlides=k.loopedSlides+k.params.loopAdditionalSlides,k.loopedSlides>t.length&&(k.loopedSlides=t.length);var i,r=[],a=[];for(t.each(function(i,o){var n=e(this);i<k.loopedSlides&&a.push(o),i<t.length&&i>=t.length-k.loopedSlides&&r.push(o),n.attr("data-swiper-slide-index",i)}),i=0;i<a.length;i++)k.wrapper.append(e(a[i].cloneNode(!0)).addClass(k.params.slideDuplicateClass));for(i=r.length-1;i>=0;i--)k.wrapper.prepend(e(r[i].cloneNode(!0)).addClass(k.params.slideDuplicateClass))},k.destroyLoop=function(){k.wrapper.children("."+k.params.slideClass+"."+k.params.slideDuplicateClass).remove(),k.slides.removeAttr("data-swiper-slide-index")},k.reLoop=function(t){var e=k.activeIndex-k.loopedSlides;k.destroyLoop(),k.createLoop(),k.updateSlidesSize(),t&&k.slideTo(e+k.loopedSlides,0,!1)},k.fixLoop=function(){var t;k.activeIndex<k.loopedSlides?(t=k.slides.length-3*k.loopedSlides+k.activeIndex,t+=k.loopedSlides,k.slideTo(t,0,!1,!0)):("auto"===k.params.slidesPerView&&k.activeIndex>=2*k.loopedSlides||k.activeIndex>k.slides.length-2*k.params.slidesPerView)&&(t=-k.slides.length+k.activeIndex+k.loopedSlides,t+=k.loopedSlides,k.slideTo(t,0,!1,!0))},k.appendSlide=function(t){if(k.params.loop&&k.destroyLoop(),"object"==typeof t&&t.length)for(var e=0;e<t.length;e++)t[e]&&k.wrapper.append(t[e]);else k.wrapper.append(t);k.params.loop&&k.createLoop(),k.params.observer&&k.support.observer||k.update(!0)},k.prependSlide=function(t){k.params.loop&&k.destroyLoop();var e=k.activeIndex+1;if("object"==typeof t&&t.length){for(var i=0;i<t.length;i++)t[i]&&k.wrapper.prepend(t[i]);e=k.activeIndex+t.length}else k.wrapper.prepend(t);k.params.loop&&k.createLoop(),k.params.observer&&k.support.observer||k.update(!0),k.slideTo(e,0,!1)},k.removeSlide=function(t){k.params.loop&&(k.destroyLoop(),k.slides=k.wrapper.children("."+k.params.slideClass));var e,i=k.activeIndex;if("object"==typeof t&&t.length){for(var r=0;r<t.length;r++)e=t[r],k.slides[e]&&k.slides.eq(e).remove(),i>e&&i--;i=Math.max(i,0)}else e=t,k.slides[e]&&k.slides.eq(e).remove(),i>e&&i--,i=Math.max(i,0);k.params.loop&&k.createLoop(),k.params.observer&&k.support.observer||k.update(!0),k.params.loop?k.slideTo(i+k.loopedSlides,0,!1):k.slideTo(i,0,!1)},k.removeAllSlides=function(){for(var t=[],e=0;e<k.slides.length;e++)t.push(e);k.removeSlide(t)},k.effects={fade:{setTranslate:function(){for(var t=0;t<k.slides.length;t++){var e=k.slides.eq(t),i=e[0].swiperSlideOffset,r=-i;k.params.virtualTranslate||(r-=k.translate);var a=0;k.isHorizontal()||(a=r,r=0);var o=k.params.fade.crossFade?Math.max(1-Math.abs(e[0].progress),0):1+Math.min(Math.max(e[0].progress,-1),0);e.css({opacity:o}).transform("translate3d("+r+"px, "+a+"px, 0px)")}},setTransition:function(t){if(k.slides.transition(t),k.params.virtualTranslate&&0!==t){var e=!1;k.slides.transitionEnd(function(){if(!e&&k){e=!0,k.animating=!1;for(var t=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=0;i<t.length;i++)k.wrapper.trigger(t[i])}})}}},flip:{setTranslate:function(){for(var t=0;t<k.slides.length;t++){var i=k.slides.eq(t),r=i[0].progress;k.params.flip.limitRotation&&(r=Math.max(Math.min(i[0].progress,1),-1));var a=i[0].swiperSlideOffset,o=-180*r,n=o,s=0,l=-a,d=0;if(k.isHorizontal()?k.rtl&&(n=-n):(d=l,l=0,s=-n,n=0),i[0].style.zIndex=-Math.abs(Math.round(r))+k.slides.length,k.params.flip.slideShadows){var p=k.isHorizontal()?i.find(".swiper-slide-shadow-left"):i.find(".swiper-slide-shadow-top"),c=k.isHorizontal()?i.find(".swiper-slide-shadow-right"):i.find(".swiper-slide-shadow-bottom");0===p.length&&(p=e('<div class="swiper-slide-shadow-'+(k.isHorizontal()?"left":"top")+'"></div>'),i.append(p)),0===c.length&&(c=e('<div class="swiper-slide-shadow-'+(k.isHorizontal()?"right":"bottom")+'"></div>'),i.append(c)),p.length&&(p[0].style.opacity=Math.max(-r,0)),c.length&&(c[0].style.opacity=Math.max(r,0))}i.transform("translate3d("+l+"px, "+d+"px, 0px) rotateX("+s+"deg) rotateY("+n+"deg)")}},setTransition:function(t){if(k.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),k.params.virtualTranslate&&0!==t){var i=!1;k.slides.eq(k.activeIndex).transitionEnd(function(){if(!i&&k&&e(this).hasClass(k.params.slideActiveClass)){i=!0,k.animating=!1;for(var t=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],r=0;r<t.length;r++)k.wrapper.trigger(t[r])}})}}},cube:{setTranslate:function(){var t,i=0;k.params.cube.shadow&&(k.isHorizontal()?(t=k.wrapper.find(".swiper-cube-shadow"),0===t.length&&(t=e('<div class="swiper-cube-shadow"></div>'),k.wrapper.append(t)),t.css({height:k.width+"px"})):(t=k.container.find(".swiper-cube-shadow"),0===t.length&&(t=e('<div class="swiper-cube-shadow"></div>'),k.container.append(t))));for(var r=0;r<k.slides.length;r++){var a=k.slides.eq(r),o=90*r,n=Math.floor(o/360);k.rtl&&(o=-o,n=Math.floor(-o/360));var s=Math.max(Math.min(a[0].progress,1),-1),l=0,d=0,p=0;r%4===0?(l=4*-n*k.size,p=0):(r-1)%4===0?(l=0,p=4*-n*k.size):(r-2)%4===0?(l=k.size+4*n*k.size,p=k.size):(r-3)%4===0&&(l=-k.size,p=3*k.size+4*k.size*n),k.rtl&&(l=-l),k.isHorizontal()||(d=l,l=0);var c="rotateX("+(k.isHorizontal()?0:-o)+"deg) rotateY("+(k.isHorizontal()?o:0)+"deg) translate3d("+l+"px, "+d+"px, "+p+"px)";if(1>=s&&s>-1&&(i=90*r+90*s,k.rtl&&(i=90*-r-90*s)),a.transform(c),k.params.cube.slideShadows){var m=k.isHorizontal()?a.find(".swiper-slide-shadow-left"):a.find(".swiper-slide-shadow-top"),h=k.isHorizontal()?a.find(".swiper-slide-shadow-right"):a.find(".swiper-slide-shadow-bottom");0===m.length&&(m=e('<div class="swiper-slide-shadow-'+(k.isHorizontal()?"left":"top")+'"></div>'),a.append(m)),0===h.length&&(h=e('<div class="swiper-slide-shadow-'+(k.isHorizontal()?"right":"bottom")+'"></div>'),a.append(h)),m.length&&(m[0].style.opacity=Math.max(-s,0)),h.length&&(h[0].style.opacity=Math.max(s,0))}}if(k.wrapper.css({"-webkit-transform-origin":"50% 50% -"+k.size/2+"px","-moz-transform-origin":"50% 50% -"+k.size/2+"px","-ms-transform-origin":"50% 50% -"+k.size/2+"px","transform-origin":"50% 50% -"+k.size/2+"px"}),k.params.cube.shadow)if(k.isHorizontal())t.transform("translate3d(0px, "+(k.width/2+k.params.cube.shadowOffset)+"px, "+-k.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+k.params.cube.shadowScale+")");else{var u=Math.abs(i)-90*Math.floor(Math.abs(i)/90),f=1.5-(Math.sin(2*u*Math.PI/360)/2+Math.cos(2*u*Math.PI/360)/2),b=k.params.cube.shadowScale,v=k.params.cube.shadowScale/f,g=k.params.cube.shadowOffset;t.transform("scale3d("+b+", 1, "+v+") translate3d(0px, "+(k.height/2+g)+"px, "+-k.height/2/v+"px) rotateX(-90deg)")}var y=k.isSafari||k.isUiWebView?-k.size/2:0;k.wrapper.transform("translate3d(0px,0,"+y+"px) rotateX("+(k.isHorizontal()?0:i)+"deg) rotateY("+(k.isHorizontal()?-i:0)+"deg)")},setTransition:function(t){k.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),k.params.cube.shadow&&!k.isHorizontal()&&k.container.find(".swiper-cube-shadow").transition(t)}},coverflow:{setTranslate:function(){for(var t=k.translate,i=k.isHorizontal()?-t+k.width/2:-t+k.height/2,r=k.isHorizontal()?k.params.coverflow.rotate:-k.params.coverflow.rotate,a=k.params.coverflow.depth,o=0,n=k.slides.length;n>o;o++){var s=k.slides.eq(o),l=k.slidesSizesGrid[o],d=s[0].swiperSlideOffset,p=(i-d-l/2)/l*k.params.coverflow.modifier,c=k.isHorizontal()?r*p:0,m=k.isHorizontal()?0:r*p,h=-a*Math.abs(p),u=k.isHorizontal()?0:k.params.coverflow.stretch*p,f=k.isHorizontal()?k.params.coverflow.stretch*p:0;Math.abs(f)<.001&&(f=0),Math.abs(u)<.001&&(u=0),Math.abs(h)<.001&&(h=0),Math.abs(c)<.001&&(c=0),Math.abs(m)<.001&&(m=0);var b="translate3d("+f+"px,"+u+"px,"+h+"px)  rotateX("+m+"deg) rotateY("+c+"deg)";if(s.transform(b),s[0].style.zIndex=-Math.abs(Math.round(p))+1,k.params.coverflow.slideShadows){var v=k.isHorizontal()?s.find(".swiper-slide-shadow-left"):s.find(".swiper-slide-shadow-top"),g=k.isHorizontal()?s.find(".swiper-slide-shadow-right"):s.find(".swiper-slide-shadow-bottom");0===v.length&&(v=e('<div class="swiper-slide-shadow-'+(k.isHorizontal()?"left":"top")+'"></div>'),s.append(v)),0===g.length&&(g=e('<div class="swiper-slide-shadow-'+(k.isHorizontal()?"right":"bottom")+'"></div>'),s.append(g)),v.length&&(v[0].style.opacity=p>0?p:0),g.length&&(g[0].style.opacity=-p>0?-p:0)}}if(k.browser.ie){var y=k.wrapper[0].style;y.perspectiveOrigin=i+"px 50%"}},setTransition:function(t){k.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t)}}},k.lazy={initialImageLoaded:!1,loadImageInSlide:function(t,i){if("undefined"!=typeof t&&("undefined"==typeof i&&(i=!0),0!==k.slides.length)){var r=k.slides.eq(t),a=r.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");!r.hasClass("swiper-lazy")||r.hasClass("swiper-lazy-loaded")||r.hasClass("swiper-lazy-loading")||(a=a.add(r[0])),0!==a.length&&a.each(function(){var t=e(this);t.addClass("swiper-lazy-loading");var a=t.attr("data-background"),o=t.attr("data-src"),n=t.attr("data-srcset");k.loadImage(t[0],o||a,n,!1,function(){if(a?(t.css("background-image",'url("'+a+'")'),t.removeAttr("data-background")):(n&&(t.attr("srcset",n),t.removeAttr("data-srcset")),o&&(t.attr("src",o),t.removeAttr("data-src"))),t.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),r.find(".swiper-lazy-preloader, .preloader").remove(),k.params.loop&&i){var e=r.attr("data-swiper-slide-index");if(r.hasClass(k.params.slideDuplicateClass)){var s=k.wrapper.children('[data-swiper-slide-index="'+e+'"]:not(.'+k.params.slideDuplicateClass+")");k.lazy.loadImageInSlide(s.index(),!1)}else{var l=k.wrapper.children("."+k.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]');k.lazy.loadImageInSlide(l.index(),!1)}}k.emit("onLazyImageReady",k,r[0],t[0])}),k.emit("onLazyImageLoad",k,r[0],t[0])})}},load:function(){var t;if(k.params.watchSlidesVisibility)k.wrapper.children("."+k.params.slideVisibleClass).each(function(){k.lazy.loadImageInSlide(e(this).index())});else if(k.params.slidesPerView>1)for(t=k.activeIndex;t<k.activeIndex+k.params.slidesPerView;t++)k.slides[t]&&k.lazy.loadImageInSlide(t);else k.lazy.loadImageInSlide(k.activeIndex);if(k.params.lazyLoadingInPrevNext)if(k.params.slidesPerView>1||k.params.lazyLoadingInPrevNextAmount&&k.params.lazyLoadingInPrevNextAmount>1){var i=k.params.lazyLoadingInPrevNextAmount,r=k.params.slidesPerView,a=Math.min(k.activeIndex+r+Math.max(i,r),k.slides.length),o=Math.max(k.activeIndex-Math.max(r,i),0);for(t=k.activeIndex+k.params.slidesPerView;a>t;t++)k.slides[t]&&k.lazy.loadImageInSlide(t);for(t=o;t<k.activeIndex;t++)k.slides[t]&&k.lazy.loadImageInSlide(t)}else{var n=k.wrapper.children("."+k.params.slideNextClass);n.length>0&&k.lazy.loadImageInSlide(n.index());var s=k.wrapper.children("."+k.params.slidePrevClass);s.length>0&&k.lazy.loadImageInSlide(s.index())}},onTransitionStart:function(){k.params.lazyLoading&&(k.params.lazyLoadingOnTransitionStart||!k.params.lazyLoadingOnTransitionStart&&!k.lazy.initialImageLoaded)&&k.lazy.load()},onTransitionEnd:function(){k.params.lazyLoading&&!k.params.lazyLoadingOnTransitionStart&&k.lazy.load()}},k.scrollbar={isTouched:!1,setDragPosition:function(t){var e=k.scrollbar,i=k.isHorizontal()?"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].pageX:t.pageX||t.clientX:"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].pageY:t.pageY||t.clientY,r=i-e.track.offset()[k.isHorizontal()?"left":"top"]-e.dragSize/2,a=-k.minTranslate()*e.moveDivider,o=-k.maxTranslate()*e.moveDivider;a>r?r=a:r>o&&(r=o),r=-r/e.moveDivider,k.updateProgress(r),k.setWrapperTranslate(r,!0)},dragStart:function(t){var e=k.scrollbar;e.isTouched=!0,t.preventDefault(),t.stopPropagation(),e.setDragPosition(t),clearTimeout(e.dragTimeout),e.track.transition(0),k.params.scrollbarHide&&e.track.css("opacity",1),k.wrapper.transition(100),e.drag.transition(100),k.emit("onScrollbarDragStart",k);
},dragMove:function(t){var e=k.scrollbar;e.isTouched&&(t.preventDefault?t.preventDefault():t.returnValue=!1,e.setDragPosition(t),k.wrapper.transition(0),e.track.transition(0),e.drag.transition(0),k.emit("onScrollbarDragMove",k))},dragEnd:function(t){var e=k.scrollbar;e.isTouched&&(e.isTouched=!1,k.params.scrollbarHide&&(clearTimeout(e.dragTimeout),e.dragTimeout=setTimeout(function(){e.track.css("opacity",0),e.track.transition(400)},1e3)),k.emit("onScrollbarDragEnd",k),k.params.scrollbarSnapOnRelease&&k.slideReset())},enableDraggable:function(){var t=k.scrollbar,i=k.support.touch?t.track:document;e(t.track).on(k.touchEvents.start,t.dragStart),e(i).on(k.touchEvents.move,t.dragMove),e(i).on(k.touchEvents.end,t.dragEnd)},disableDraggable:function(){var t=k.scrollbar,i=k.support.touch?t.track:document;e(t.track).off(k.touchEvents.start,t.dragStart),e(i).off(k.touchEvents.move,t.dragMove),e(i).off(k.touchEvents.end,t.dragEnd)},set:function(){if(k.params.scrollbar){var t=k.scrollbar;t.track=e(k.params.scrollbar),k.params.uniqueNavElements&&"string"==typeof k.params.scrollbar&&t.track.length>1&&1===k.container.find(k.params.scrollbar).length&&(t.track=k.container.find(k.params.scrollbar)),t.drag=t.track.find(".swiper-scrollbar-drag"),0===t.drag.length&&(t.drag=e('<div class="swiper-scrollbar-drag"></div>'),t.track.append(t.drag)),t.drag[0].style.width="",t.drag[0].style.height="",t.trackSize=k.isHorizontal()?t.track[0].offsetWidth:t.track[0].offsetHeight,t.divider=k.size/k.virtualSize,t.moveDivider=t.divider*(t.trackSize/k.size),t.dragSize=t.trackSize*t.divider,k.isHorizontal()?t.drag[0].style.width=t.dragSize+"px":t.drag[0].style.height=t.dragSize+"px",t.divider>=1?t.track[0].style.display="none":t.track[0].style.display="",k.params.scrollbarHide&&(t.track[0].style.opacity=0)}},setTranslate:function(){if(k.params.scrollbar){var t,e=k.scrollbar,i=(k.translate||0,e.dragSize);t=(e.trackSize-e.dragSize)*k.progress,k.rtl&&k.isHorizontal()?(t=-t,t>0?(i=e.dragSize-t,t=0):-t+e.dragSize>e.trackSize&&(i=e.trackSize+t)):0>t?(i=e.dragSize+t,t=0):t+e.dragSize>e.trackSize&&(i=e.trackSize-t),k.isHorizontal()?(k.support.transforms3d?e.drag.transform("translate3d("+t+"px, 0, 0)"):e.drag.transform("translateX("+t+"px)"),e.drag[0].style.width=i+"px"):(k.support.transforms3d?e.drag.transform("translate3d(0px, "+t+"px, 0)"):e.drag.transform("translateY("+t+"px)"),e.drag[0].style.height=i+"px"),k.params.scrollbarHide&&(clearTimeout(e.timeout),e.track[0].style.opacity=1,e.timeout=setTimeout(function(){e.track[0].style.opacity=0,e.track.transition(400)},1e3))}},setTransition:function(t){k.params.scrollbar&&k.scrollbar.drag.transition(t)}},k.controller={LinearSpline:function(t,e){this.x=t,this.y=e,this.lastIndex=t.length-1;var i,r;this.x.length,this.interpolate=function(t){return t?(r=a(this.x,t),i=r-1,(t-this.x[i])*(this.y[r]-this.y[i])/(this.x[r]-this.x[i])+this.y[i]):0};var a=function(){var t,e,i;return function(r,a){for(e=-1,t=r.length;t-e>1;)r[i=t+e>>1]<=a?e=i:t=i;return t}}()},getInterpolateFunction:function(t){k.controller.spline||(k.controller.spline=k.params.loop?new k.controller.LinearSpline(k.slidesGrid,t.slidesGrid):new k.controller.LinearSpline(k.snapGrid,t.snapGrid))},setTranslate:function(t,e){function r(e){t=e.rtl&&"horizontal"===e.params.direction?-k.translate:k.translate,"slide"===k.params.controlBy&&(k.controller.getInterpolateFunction(e),o=-k.controller.spline.interpolate(-t)),o&&"container"!==k.params.controlBy||(a=(e.maxTranslate()-e.minTranslate())/(k.maxTranslate()-k.minTranslate()),o=(t-k.minTranslate())*a+e.minTranslate()),k.params.controlInverse&&(o=e.maxTranslate()-o),e.updateProgress(o),e.setWrapperTranslate(o,!1,k),e.updateActiveIndex()}var a,o,n=k.params.control;if(k.isArray(n))for(var s=0;s<n.length;s++)n[s]!==e&&n[s]instanceof i&&r(n[s]);else n instanceof i&&e!==n&&r(n)},setTransition:function(t,e){function r(e){e.setWrapperTransition(t,k),0!==t&&(e.onTransitionStart(),e.wrapper.transitionEnd(function(){o&&(e.params.loop&&"slide"===k.params.controlBy&&e.fixLoop(),e.onTransitionEnd())}))}var a,o=k.params.control;if(k.isArray(o))for(a=0;a<o.length;a++)o[a]!==e&&o[a]instanceof i&&r(o[a]);else o instanceof i&&e!==o&&r(o)}},k.hashnav={init:function(){if(k.params.hashnav){k.hashnav.initialized=!0;var t=document.location.hash.replace("#","");if(t)for(var e=0,i=0,r=k.slides.length;r>i;i++){var a=k.slides.eq(i),o=a.attr("data-hash");if(o===t&&!a.hasClass(k.params.slideDuplicateClass)){var n=a.index();k.slideTo(n,e,k.params.runCallbacksOnInit,!0)}}}},setHash:function(){k.hashnav.initialized&&k.params.hashnav&&(document.location.hash=k.slides.eq(k.activeIndex).attr("data-hash")||"")}},k.disableKeyboardControl=function(){k.params.keyboardControl=!1,e(document).off("keydown",l)},k.enableKeyboardControl=function(){k.params.keyboardControl=!0,e(document).on("keydown",l)},k.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},k.params.mousewheelControl){try{new window.WheelEvent("wheel"),k.mousewheel.event="wheel"}catch(t){(window.WheelEvent||k.container[0]&&"wheel"in k.container[0])&&(k.mousewheel.event="wheel")}!k.mousewheel.event&&window.WheelEvent,k.mousewheel.event||void 0===document.onmousewheel||(k.mousewheel.event="mousewheel"),k.mousewheel.event||(k.mousewheel.event="DOMMouseScroll")}k.disableMousewheelControl=function(){return!!k.mousewheel.event&&(k.container.off(k.mousewheel.event,d),!0)},k.enableMousewheelControl=function(){return!!k.mousewheel.event&&(k.container.on(k.mousewheel.event,d),!0)},k.parallax={setTranslate:function(){k.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){p(this,k.progress)}),k.slides.each(function(){var t=e(this);t.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var e=Math.min(Math.max(t[0].progress,-1),1);p(this,e)})})},setTransition:function(t){"undefined"==typeof t&&(t=k.params.speed),k.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var i=e(this),r=parseInt(i.attr("data-swiper-parallax-duration"),10)||t;0===t&&(r=0),i.transition(r)})}},k._plugins=[];for(var N in k.plugins){var _=k.plugins[N](k,k.params[N]);_&&k._plugins.push(_)}return k.callPlugins=function(t){for(var e=0;e<k._plugins.length;e++)t in k._plugins[e]&&k._plugins[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},k.emitterEventListeners={},k.emit=function(t){k.params[t]&&k.params[t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var e;if(k.emitterEventListeners[t])for(e=0;e<k.emitterEventListeners[t].length;e++)k.emitterEventListeners[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);k.callPlugins&&k.callPlugins(t,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},k.on=function(t,e){return t=c(t),k.emitterEventListeners[t]||(k.emitterEventListeners[t]=[]),k.emitterEventListeners[t].push(e),k},k.off=function(t,e){var i;if(t=c(t),"undefined"==typeof e)return k.emitterEventListeners[t]=[],k;if(k.emitterEventListeners[t]&&0!==k.emitterEventListeners[t].length){for(i=0;i<k.emitterEventListeners[t].length;i++)k.emitterEventListeners[t][i]===e&&k.emitterEventListeners[t].splice(i,1);return k}},k.once=function(t,e){t=c(t);var i=function(){e(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),k.off(t,i)};return k.on(t,i),k},k.a11y={makeFocusable:function(t){return t.attr("tabIndex","0"),t},addRole:function(t,e){return t.attr("role",e),t},addLabel:function(t,e){return t.attr("aria-label",e),t},disable:function(t){return t.attr("aria-disabled",!0),t},enable:function(t){return t.attr("aria-disabled",!1),t},onEnterKey:function(t){13===t.keyCode&&(e(t.target).is(k.params.nextButton)?(k.onClickNext(t),k.isEnd?k.a11y.notify(k.params.lastSlideMessage):k.a11y.notify(k.params.nextSlideMessage)):e(t.target).is(k.params.prevButton)&&(k.onClickPrev(t),k.isBeginning?k.a11y.notify(k.params.firstSlideMessage):k.a11y.notify(k.params.prevSlideMessage)),e(t.target).is("."+k.params.bulletClass)&&e(t.target)[0].click())},liveRegion:e('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(t){var e=k.a11y.liveRegion;0!==e.length&&(e.html(""),e.html(t))},init:function(){k.params.nextButton&&k.nextButton&&k.nextButton.length>0&&(k.a11y.makeFocusable(k.nextButton),k.a11y.addRole(k.nextButton,"button"),k.a11y.addLabel(k.nextButton,k.params.nextSlideMessage)),k.params.prevButton&&k.prevButton&&k.prevButton.length>0&&(k.a11y.makeFocusable(k.prevButton),k.a11y.addRole(k.prevButton,"button"),k.a11y.addLabel(k.prevButton,k.params.prevSlideMessage)),e(k.container).append(k.a11y.liveRegion)},initPagination:function(){k.params.pagination&&k.params.paginationClickable&&k.bullets&&k.bullets.length&&k.bullets.each(function(){var t=e(this);k.a11y.makeFocusable(t),k.a11y.addRole(t,"button"),k.a11y.addLabel(t,k.params.paginationBulletMessage.replace(/{{index}}/,t.index()+1))})},destroy:function(){k.a11y.liveRegion&&k.a11y.liveRegion.length>0&&k.a11y.liveRegion.remove()}},k.init=function(){k.params.loop&&k.createLoop(),k.updateContainerSize(),k.updateSlidesSize(),k.updatePagination(),k.params.scrollbar&&k.scrollbar&&(k.scrollbar.set(),k.params.scrollbarDraggable&&k.scrollbar.enableDraggable()),"slide"!==k.params.effect&&k.effects[k.params.effect]&&(k.params.loop||k.updateProgress(),k.effects[k.params.effect].setTranslate()),k.params.loop?k.slideTo(k.params.initialSlide+k.loopedSlides,0,k.params.runCallbacksOnInit):(k.slideTo(k.params.initialSlide,0,k.params.runCallbacksOnInit),0===k.params.initialSlide&&(k.parallax&&k.params.parallax&&k.parallax.setTranslate(),k.lazy&&k.params.lazyLoading&&(k.lazy.load(),k.lazy.initialImageLoaded=!0))),k.attachEvents(),k.params.observer&&k.support.observer&&k.initObservers(),k.params.preloadImages&&!k.params.lazyLoading&&k.preloadImages(),k.params.autoplay&&k.startAutoplay(),k.params.keyboardControl&&k.enableKeyboardControl&&k.enableKeyboardControl(),k.params.mousewheelControl&&k.enableMousewheelControl&&k.enableMousewheelControl(),k.params.hashnav&&k.hashnav&&k.hashnav.init(),k.params.a11y&&k.a11y&&k.a11y.init(),k.emit("onInit",k)},k.cleanupStyles=function(){k.container.removeClass(k.classNames.join(" ")).removeAttr("style"),k.wrapper.removeAttr("style"),k.slides&&k.slides.length&&k.slides.removeClass([k.params.slideVisibleClass,k.params.slideActiveClass,k.params.slideNextClass,k.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),k.paginationContainer&&k.paginationContainer.length&&k.paginationContainer.removeClass(k.params.paginationHiddenClass),k.bullets&&k.bullets.length&&k.bullets.removeClass(k.params.bulletActiveClass),k.params.prevButton&&e(k.params.prevButton).removeClass(k.params.buttonDisabledClass),k.params.nextButton&&e(k.params.nextButton).removeClass(k.params.buttonDisabledClass),k.params.scrollbar&&k.scrollbar&&(k.scrollbar.track&&k.scrollbar.track.length&&k.scrollbar.track.removeAttr("style"),k.scrollbar.drag&&k.scrollbar.drag.length&&k.scrollbar.drag.removeAttr("style"))},k.destroy=function(t,e){k.detachEvents(),k.stopAutoplay(),k.params.scrollbar&&k.scrollbar&&k.params.scrollbarDraggable&&k.scrollbar.disableDraggable(),k.params.loop&&k.destroyLoop(),e&&k.cleanupStyles(),k.disconnectObservers(),k.params.keyboardControl&&k.disableKeyboardControl&&k.disableKeyboardControl(),k.params.mousewheelControl&&k.disableMousewheelControl&&k.disableMousewheelControl(),k.params.a11y&&k.a11y&&k.a11y.destroy(),k.emit("onDestroy"),t!==!1&&(k=null)},k.init(),k}};i.prototype={isSafari:function(){var t=navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(t){return"[object Array]"===Object.prototype.toString.apply(t)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var t=navigator.userAgent,e=t.match(/(Android);?[\s\/]+([\d.]+)?/),i=t.match(/(iPad).*OS\s([\d_]+)/),r=t.match(/(iPod)(.*OS\s([\d_]+))?/),a=!i&&t.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:i||a||r,android:e}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var t=document.createElement("div").style;return"webkitPerspective"in t||"MozPerspective"in t||"OPerspective"in t||"MsPerspective"in t||"perspective"in t}(),flexbox:function(){for(var t=document.createElement("div").style,e="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),i=0;i<e.length;i++)if(e[i]in t)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}};for(var r=["jQuery","Zepto","Dom7"],a=0;a<r.length;a++)window[r[a]]&&t(window[r[a]]);var o;o="undefined"==typeof Dom7?window.Dom7||window.Zepto||window.jQuery:Dom7,o&&("transitionEnd"in o.fn||(o.fn.transitionEnd=function(t){function e(o){if(o.target===this)for(t.call(this,o),i=0;i<r.length;i++)a.off(r[i],e)}var i,r=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],a=this;if(t)for(i=0;i<r.length;i++)a.on(r[i],e);return this}),"transform"in o.fn||(o.fn.transform=function(t){for(var e=0;e<this.length;e++){var i=this[e].style;i.webkitTransform=i.MsTransform=i.msTransform=i.MozTransform=i.OTransform=i.transform=t}return this}),"transition"in o.fn||(o.fn.transition=function(t){"string"!=typeof t&&(t+="ms");for(var e=0;e<this.length;e++){var i=this[e].style;i.webkitTransitionDuration=i.MsTransitionDuration=i.msTransitionDuration=i.MozTransitionDuration=i.OTransitionDuration=i.transitionDuration=t}return this})),window.Swiper=i}(),"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define([],function(){"use strict";return window.Swiper}),function(t){t.init=function(t){rbk.pageInfo()}}(jQuery);var rbk={};rbk.suffix="rbk-",rbk.ready=function(t){var e={};e.firstTime=!1;var i=function(){rbk.init(),t&&t(e),$(".rbk-content").show()};window.plus?i():(e.firstTime=!0,window.onload=i)},rbk.getAppMsg=function(t){$.isFunction(t)&&(window.getJson=t)},rbk.getCmp=function(t){return rbk.getDownCmp(t)},rbk.curView=null,rbk.getView=function(){return null==rbk.curView&&(rbk.curView=new rbk.view),rbk.curView},rbk.implInterface=function(t,e){if(null==e||rbk.isEmpty(e.interfaceName))throw"接口未申明或接口名称未定义";null==t.prototype.interfaces&&(t.prototype.interfaces={}),t.prototype.interfaces[e.interfaceName]=e},rbk.hasInterface=function(t,e){return null!=t&&null!=e&&!rbk.isEmpty(e.interfaceName)&&(null==t.interfaces&&(t.interfaces={}),t.interfaces[e.interfaceName]==e)},rbk.guid=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}var e=function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()};return e().toUpperCase()},rbk.guid_=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}var e=function(){return"f"+t()+t()+"_"+t()+"_"+t()+"_"+t()+"_"+t()+t()+t()};return e().toUpperCase()},rbk.format=function(t,e){if(arguments.length>1){var i=t;if(2==arguments.length&&"object"==typeof e)for(var r in e){var a=new RegExp("({"+r+"})","g");i=i.replace(a,e[r])}else for(var o=1;o<arguments.length;o++){if(void 0==arguments[o])return"";var a=new RegExp("({["+(o-1)+"]})","g");i=i.replace(a,arguments[o])}return i}return t},rbk.pageInfo=function(){var t=$(window).height();"native"==rbk.platform.getPlatform().platform?($(".rbk-content").css("padding-top","0px"),$(".rbk-titlebar").css("display","none"),rbk.isNotEmpty($(".rbk-scroll"))&&$(".rbk-scroll").css("height",t)):rbk.isNotEmpty($(".rbk-scroll"))&&($(".rbk-scroll").css("height",t-44),$(".rbk-scroll").css("top",44),$(".rbk-scroll>.rbk-content").css("padding-top","0px"))},rbk.titleClose=function(){var t=$(window).height();$(".rbk-content").css("padding-top","0px"),$(".rbk-titlebar").hide(),rbk.isNotEmpty($(".rbk-scroll"))&&$(".rbk-scroll").css("height",t),rbk.isNotEmpty($(".rbk-floortab"))&&($(".rbk-floortab").find(".rbk-segmented-control").css("height",t),$(".rbk-floortab").find(".rbk-content-padded").css("height",t).css("top","0px"))},rbk.colToArr=function(t){for(var e=[],i=0,r=t.length;i<r;i++)e.push(t[i]);return e},rbk.applyJson=function(t,e,i){if(rbk.isEmpty(t)&&(t={}),i&&(t=rbk.applyJson(t,i)),t&&e&&"object"==typeof e){var r;for(r in e)"object"==typeof e[r]?t[r]=rbk.applyJson(t[r],e[r]):t[r]=e[r]}return t},rbk.isEmpty=function(t,e){return null===t||void 0===t||!e&&""===t||$.isArray(t)&&0===t.length},rbk.isNotEmpty=function(t,e){return!rbk.isEmpty(t,e)},rbk.cookie={get:function(t){var e,i=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return(e=document.cookie.match(i))?unescape(e[2]):null},del:function(t,e,i){var r=new Date;r.setTime(r.getTime()-1);var a=rbk.cookie.get(t);null!=a&&(document.cookie=t+"="+a+";expires="+r.toGMTString())},set:function(t,e,i){rbk.isEmpty(i)&&(i="d30");var r=rbk.cookie.getTime(i),a=new Date;a.setTime(a.getTime()+1*r),document.cookie=t+"="+escape(e)+";expires="+a.toGMTString()},getTime:function(t){var e=1*t.substring(1,t.length),i=t.substring(0,1);return"s"==i?1e3*e:"h"==i?60*e*60*1e3:"d"==i?24*e*60*60*1e3:void 0}},rbk.sessionStorage={get:function(t){return sessionStorage.getItem(t)},set:function(t,e){sessionStorage.setItem(t,e)},del:function(t){sessionStorage.removeItem(t)}};var iFormCmp={interfaceName:"iFormCmp",defFormCmpHtml:"",labelName:function(){},doLayout:function(t,e){},setVal:function(t){},getVal:function(){},resetVal:function(){},emphasis:function(){}},iBindLayoutCmp={interfaceName:"iBindLayoutCmp",doLayout:function(t){}},iTpl={interfaceName:"iTpl",defTplTag:""};rbk.domShell=function(t){this.dom=t},rbk.domShell.prototype.dom=null,rbk.domShell.prototype.css=function(){if("string"==typeof arguments[0]){if(2!=arguments.length)return this.dom.style[arguments[0]];this.dom.style[arguments[0]]=arguments[1]}else if("object"==typeof arguments[0])for(var t in arguments[0])this.dom.style[t]=arguments[0][t]},rbk.domShell.prototype.setClass=function(){var t=this;if($.isArray(arguments[0]))$.each(arguments[0],function(e,i){t.existClass(i)||t.dom.classList.add(i)});else{if(t.existClass(arguments[0]))return;t.dom.classList.add(arguments[0])}},rbk.domShell.prototype.removeClass=function(){if("string"==typeof arguments[0])this.dom.classList.remove(arguments[0]);else if($.isArray(arguments[0])){var t=this;$.each(arguments[0],function(e,i){t.dom.classList.remove(i)})}},rbk.domShell.prototype.toggleClass=function(){"string"==typeof arguments[0]?this.dom.classList.toggle(arguments[0]):$.isArray(arguments[0])&&$.each(arguments[0],function(t,e){this.dom.classList.toggle(e)})},rbk.domShell.prototype.existClass=function(t){return this.dom.classList.contains(t)},rbk.domShell.prototype.attr=function(){if(null!=this.dom)if("string"==typeof arguments[0]){if(2!=arguments.length)return this.dom.getAttribute(arguments[0]);null==arguments[1]?this.dom.removeAttribute(arguments[0]):this.dom.setAttribute(arguments[0],arguments[1])}else if("object"==typeof arguments[0])for(var t in arguments[0])this.attr(t,arguments[0][t])},rbk.domShell.prototype.pullLeft=function(){var t=this;t.removeClass("rbk-pull-right"),t.setClass("rbk-pull-left")},rbk.domShell.prototype.pullRight=function(){var t=this;t.removeClass("rbk-pull-left"),t.setClass("rbk-pull-right")},rbk.domShell.prototype.visible=function(){var t=this;return arguments.length>0&&t.css("display",arguments[0]?"":"none"),t.css("display")},rbk.domShell.prototype.name=function(){return arguments.length>0&&this.dom.setAttribute("name",arguments[0]),this.dom.getAttribute("name")},rbk.domShell.prototype.id=function(){return arguments.length>0&&(this.dom.id=arguments[0]),this.dom.id},rbk.domShell.prototype.text=function(){for(var t=this,e=null,i=0;i<t.dom.childNodes.length;i++){var r=t.dom.childNodes[i];if(3==r.nodeType){e=r;break}}return null==e&&(e=document.createTextNode(""),t.dom.appendChild(e)),arguments.length>0&&(e.data=arguments[0]),e.data.trim()},rbk.domShell.prototype.val=function(){return arguments.length>0&&(this.dom.value=arguments[0]),this.dom.value},rbk.domShell.prototype.offset=function(){return{top:this.dom.offsetTop,left:this.dom.offsetLeft}},rbk.domShell.prototype.appendChild=function(t){var e=this;if("string"==typeof t){var i=rbk.strToHtmlDom(t),r=[];return $.each(i,function(t,i){r.push(e.dom.appendChild(i)),i.parentNode=e.dom}),r}if(t instanceof HTMLElement)return e.dom.appendChild(t)},rbk.domShell.prototype.insertBefore=function(t){var e=this;if(0==e.dom.childNodes.length)return e.appendChild(t);if("string"==typeof t){var i=rbk.strToHtmlDom(t);i=i.reverse();var r=[];return $.each(i,function(t,i){r.push(e.dom.insertBefore(i,e.dom.firstChild))}),r}return t instanceof HTMLElement?e.dom.insertBefore(t,e.dom.firstChild):void 0},rbk.domShell.prototype.removeSelf=function(){var t=this;!rbk.isEmpty(t.dom)&&t.dom.parentNode&&t.dom.parentNode.removeChild(t.dom)},rbk.domShell.prototype.removeAll=function(){for(;this.dom.hasChildNodes();){var t=this.dom.firstChild,e=rbk.getObjRef(t);null!=e&&(e.removeAll(),e.dispose(),delete e),this.dom.removeChild(t)}},rbk.domShell.prototype.preBindClick=null,rbk.domShell.prototype.bindClick=function(t){var e=this,i=$(e.dom);i.on("touchstart",function(){i.addClass("rbk-btnactive")});var r=function(){i.hasClass("rbk-btnactive")&&(i.removeClass("rbk-btnactive"),$.isFunction(t)&&t(e))};i.on("tap touchend",r),i.on("touchmove",function(){i.removeClass("rbk-btnactive")}),$.isFunction(e.preBindClick)&&i.on("tap touchend",e.preBindClick),e.preBindClick=r},rbk.domShell.prototype.dispose=function(){rbk.delObjRef(this.dom),$(this.dom).bind("tap",this.preBindClick),this.dom=null},rbk.cmp=function(){},rbk.cmp.prototype=new rbk.domShell,rbk.cmp.prototype.ctype="cmp",rbk.cmp.prototype.defCls="",rbk.cmp.prototype.defHtmlTag='<div class="rbk-cmp"></div>',rbk.cmp.prototype.init=function(){},rbk.cmp.prototype.get$Obj=function(){return $("",this.dom)},rbk.cmp.prototype.reStructHtmlTag=function(){var t=this,e=t.defCls,i=t.getRoleName();rbk.isEmpty(i)||rbk.isEmpty(t.roles)||rbk.isEmpty(t.roles[i])||(e=t.roles[i]);var r=[];rbk.isEmpty(e)||(r=e.split(/\s+/)),$.each(r,function(e,i){t.dom.classList.remove(i),t.dom.classList.add(i)})},rbk.cmp.prototype.roles={},rbk.cmp.prototype.getRoleName=function(){return this.attr("rbk-role")},rbk.cmp.prototype.tpl=function(){var t=this;return arguments.length>0&&(arguments[0]?t.attr("tpl","tpl"):t.attr("tpl",null)),"tpl"==t.attr("tpl")},rbk.cmp.prototype.childCmps=function(t,e){rbk.isEmpty(t)&&(t=!0);var i=this,r=[],a=function(i){$.each(i.childNodes,function(i,o){if(1==o.nodeType){var n=rbk.domToCmp(o);null!=n&&(rbk.isEmpty(e)||"cmp"==e?r.push(n):n.ctype==e&&r.push(n)),t||a(o)}})};return a(i.dom),r},rbk.cmp.prototype.up=function(t){var e=this;if(rbk.isEmpty(t)&&(t='*[class*="'+rbk.suffix+'"]'),rbk.isCtype(t)){var i=rbk.suffix+t;t='*[class*="'+i+'"]'}for(var r=$(t),a=e.dom.parentNode;a;){for(var o=0;o<r.length;o++)if(a==r[o]&&null!=rbk.getDomCtype(a))return rbk.domToCmp(a);a=a.parentNode}return null},rbk.cmp.prototype.down=function(t){return rbk.getDownCmp(t,this.dom)},rbk.cmp.prototype.next=function(t){var e=this;if(rbk.isEmpty(t)&&(t='*[class*="'+rbk.suffix+'"]'),rbk.isCtype(t)){var i=rbk.suffix+t;t='*[class*="'+i+'"]'}for(var r=$(t),a=e.dom.nextSibling;a;){if(1==a.nodeType)for(var o=0;o<r.length;o++)if(a==r[o]&&null!=rbk.getDomCtype(a))return rbk.domToCmp(a);a=a.nextSibling}return null},rbk.cmp.prototype.pre=function(t){var e=this;if(rbk.isEmpty(t)&&(t='*[class*="'+rbk.suffix+'"]'),rbk.isCtype(t)){var i=rbk.suffix+t;t='*[class*="'+i+'"]'}for(var r=$(t),a=e.dom.previousSibling;a;){if(1==a.nodeType)for(var o=0;o<r.length;o++)if(a==r[o]&&null!=rbk.getDomCtype(a))return rbk.domToCmp(a);a=a.previousSibling}return null},rbk.cmp.prototype.add=function(t){var e=this,i=e.appendChild(t),r=[];return $.each(i,function(t,e){var i=rbk.domToCmp(e);null!=i&&(i.reStructHtmlTag(),r.push(i))}),r},rbk.cmp.prototype.addBefore=function(t){var e=this,i=e.insertBefore(t),r=[];return $.each(i,function(t,e){var i=rbk.domToCmp(e);null!=i&&(i.reStructHtmlTag(),r.push(i))}),r},rbk.cmp.prototype.disabled=function(){var t=this;return arguments.length>0&&(arguments[0]?t.setClass("rbk-disabled"):t.removeClass("rbk-disabled")),t.existClass("rbk-disabled")},rbk.cmp.prototype.dispose=function(){this.ctype="",this.raw="",rbk.domShell.prototype.dispose.call(this)},function initPrivFunc(){rbk.init=function(){$.init(),rbk.reStructHtmlTag(),rbk.restructDomNavUrl()},rbk.createCmpObj=function(ctype){try{var cmp=eval(rbk.format("new rbk.{0}()",ctype));return cmp.ctype=ctype,cmp}catch(t){throw rbk.format("创建组件[{0}]对象异常:{1}",ctype,t)}},rbk.domToCmp=function(t,e){if(rbk.isEmpty(e)&&(e=rbk.getDomCtype(t)),rbk.isEmpty(e))return null;var i=rbk.getObjRef(t);if(!rbk.isEmpty(i))return i;var r=rbk.createCmpObj(e);return r.dom=t,r.init(),r.tpl()||rbk.setObjRef(r),r},rbk.domToShell=function(t){var e=rbk.getObjRef(t);return rbk.isEmpty(e)?(e=rbk.domToCmp(t))?e:(e=new rbk.domShell(t),rbk.setObjRef(e),e):e},rbk.getDomCtype=function(t){for(var e=t.classList,i=0;i<e.length;i++){var r=e[i];if(!(r.indexOf(rbk.suffix)<0)){var a=r.substr(rbk.suffix.length,r.length-rbk.suffix.length);if(rbk.isCtype(a))return a}}return null},rbk.reStructHtmlTag=function(t){for(var e=$('*[class*="'+rbk.suffix+'"]',t),i=0;i<e.length;i++){var t=e[i],r=rbk.domToCmp(t);null!=r&&r.reStructHtmlTag()}},rbk.restructDomNavUrl=function(t){var e=$("*[navurl]",t);$.each(e,function(t,e){var i=rbk.domToShell(e),r=i.attr("navurl");rbk.isEmpty(r)||"tpl"!=i.attr("tpl")&&(i.attr("navurl",null),$(i.dom).bind("tap",function(){var t=new rbk.view;t.open(r)}))})},rbk.isCtype=function(name){if(rbk.isEmpty(name))return!1;try{return!!$.isFunction(eval(rbk.format("rbk.{0}",name)))}catch(t){return!1}},rbk.cmpMemonry={},rbk.setObjRef=function(t){var e=rbk.guid().toLowerCase();t.dom.setAttribute("docuniqueid",e),rbk.cmpMemonry[e]=t},rbk.getObjRef=function(t){if(1!=t.nodeType)return null;var e=t.getAttribute("docuniqueid");return rbk.isEmpty(e)?null:rbk.cmpMemonry[e]},rbk.delObjRef=function(t){if(1==t.nodeType&&null!=t){var e=t.getAttribute("docuniqueid");t.removeAttribute("docuniqueid"),rbk.isEmpty(e)||(rbk.cmpMemonry[e]=null)}},rbk.clearAllObjRef=function(t){for(var e=$("*[docuniqueid]",t),i=0;i<e.length;i++)rbk.delObjRef(e[i])},rbk.strToHtmlDom=function(t){var e=document.createElement("div");return e.innerHTML=t,delete e,rbk.colToArr(e.childNodes)},rbk.getDownCmp=function(t,e){if(rbk.isEmpty(t)&&(t='*[class*="'+rbk.suffix+'"]'),rbk.isCtype(t)){var i=t,r=rbk.suffix+i,a=$('*[class*="'+r+'"]',e);return 0==a.length?null:rbk.domToCmp(a[0],i)}var a=$(t,e);if(0==a.length)return null;for(var o=0;o<a.length;o++){var n=rbk.domToCmp(a[o]);if(null!=n)return n}return null}}(),function(t){var e="rbk-popover-arrow",i="rbk-popover-action",r="rbk-backdrop",a="rbk-bar-popover",o="rbk-bar-backdrop",n="rbk-backdrop-action",s="rbk-active",l="rbk-bottom",d=function(t){},p=function(e){this.removeEventListener("webkitTransitionEnd",p),this.addEventListener("touchmove",t.preventDefault)},c=function(e){f(this,"none"),this.removeEventListener("webkitTransitionEnd",c),this.removeEventListener("touchmove",t.preventDefault),d(!1)},m=function(){var e=document.createElement("div");return e.classList.add(r),e.addEventListener("touchmove",t.preventDefault),e.addEventListener("tap",function(e){var i=t.targets._popover;i&&(i.addEventListener("webkitTransitionEnd",c),i.classList.remove(s),h(i),document.body.setAttribute("style",""))}),e}(),h=function(e){m.setAttribute("style","opacity:0"),t.targets.popover=t.targets._popover=null,setTimeout(function(){!e.classList.contains(s)&&m.parentNode&&m.parentNode===document.body&&document.body.removeChild(m)},350)};window.addEventListener("tap",function(e){if(t.targets.popover){for(var i=!1,r=e.target;r&&r!==document;r=r.parentNode)r===t.targets.popover&&(i=!0);i&&(e.detail.gesture.preventDefault(),u(t.targets._popover,t.targets.popover))}});var u=function(t,e){t.removeEventListener("webkitTransitionEnd",p),t.removeEventListener("webkitTransitionEnd",c),m.classList.remove(o),m.classList.remove(n);var r=document.querySelector(".rbk-popover.rbk-active");if(r&&(r.addEventListener("webkitTransitionEnd",c),r.classList.remove(s),t===r))return void h(r);var l=!1;(t.classList.contains(a)||t.classList.contains(i))&&(t.classList.contains(i)?(l=!0,m.classList.add(n)):m.classList.add(o)),f(t,"block"),t.offsetHeight,t.classList.add(s),m.setAttribute("style",""),document.body.appendChild(m),d(!0),b(t,e,l),m.classList.add(s),t.addEventListener("webkitTransitionEnd",p)},f=function(t,e,i,r){var a=t.style;"undefined"!=typeof e&&(a.display=e),"undefined"!=typeof i&&(a.top=i+"px"),"undefined"!=typeof r&&(a.left=r+"px")},b=function(r,a,o){if(r&&a){var n=window.innerWidth,s=window.innerHeight,d=r.offsetWidth,p=r.offsetHeight;if(o)return void f(r,"block",s-p+window.pageYOffset,(n-d)/2);var c=a.offsetWidth,m=a.offsetHeight,h=t.offset(a),u=r.querySelector("."+e);u||(u=document.createElement("div"),u.className=e,r.appendChild(u));var b=u&&u.offsetWidth/2||0,v=0,g=0,k=0,y=0,w=r.classList.contains(i)?0:5,T="top";p+b<h.top-window.pageYOffset?v=h.top-p-b:p+b<s-(h.top-window.pageYOffset)-m?(T="bottom",v=h.top+m+b):(T="middle",v=Math.max((s-p)/2+window.pageYOffset,0),g=Math.max((n-d)/2+window.pageXOffset,0)),"top"===T||"bottom"===T?(g=c/2+h.left-d/2,k=g,g<w&&(g=w),g+d>n&&(g=n-d-w),u&&("top"===T?u.classList.add(l):u.classList.remove(l),k-=g,y=d/2-b/2+k,y=Math.max(Math.min(y,d-2*b-6),6),u.setAttribute("style","left:"+y+"px"))):"middle"===T&&u.setAttribute("style","display:none"),f(r,"block",v,g)}};t.createMask=function(e){var i=document.createElement("div");i.classList.add(r),i.addEventListener("touchmove",t.preventDefault),i.addEventListener("tap",function(){a.close()});var a=[i];return a._show=!1,a.show=function(){return a._show=!0,i.setAttribute("style","opacity:1"),document.body.appendChild(i),a},a._remove=function(){return a._show&&(a._show=!1,i.setAttribute("style","opacity:0"),setTimeout(function(){document.body.removeChild(i)},350)),a},a.close=function(){e?e()!==!1&&a._remove():a._remove()},a},t.fn.popover=function(){var e=arguments;this.each(function(){t.targets._popover=this,"show"!==e[0]&&"hide"!==e[0]&&"toggle"!==e[0]||u(this,e[1])})}}(jQuery),function(){$(document).on("touchstart",function(t){var e=$(t.target);console.log(e),e.hasClass("disable")||e.data("isMoved",0)}),$(document).on("touchmove",function(t){var e=$(t.target);console.log(e),e.hasClass("disable")||e.data("isMoved",1)}),$(document).on("touchend",function(t){var e=$(t.target);console.log(e),e.hasClass("disable")||0!=e.data("isMoved")||e.trigger("tap")})}(jQuery),!function(t){"use strict";var e=document,i="querySelectorAll",r="getElementsByClassName",a=function(t){return e[i](t)},o={type:0,shade:!0,shadeClose:!0,fixed:!0,anim:!0},n={extend:function(t){var e=JSON.parse(JSON.stringify(o));for(var i in t)e[i]=t[i];return e},timer:{},end:{}};n.touch=function(t,e){var i;return/Android|iPhone|SymbianOS|Windows Phone|iPad|iPod/.test(navigator.userAgent)?(t.addEventListener("touchmove",function(){i=!0},!1),void t.addEventListener("touchend",function(t){t.preventDefault(),i||e.call(this,t),i=!1},!1)):t.addEventListener("click",function(t){e.call(this,t)},!1)};var s=0,l=["rbklayermbox"],d=function(t){var e=this;e.config=n.extend(t),e.view()};d.prototype.view=function(){var t=this,i=t.config,o=e.createElement("div");t.id=o.id=l[0]+s,o.setAttribute("class",l[0]+" "+l[0]+(i.type||0)),
o.setAttribute("index",s);var n=function(){var t="object"==typeof i.title;return i.title?'<h3 style="'+(t?i.title[1]:"")+'">'+(t?i.title[0]:i.title)+'</h3><button class="rbklayermend"></button>':""}(),d=function(){var t,e=(i.btn||[]).length;return 0!==e&&i.btn?(t='<span type="1">'+i.btn[0]+"</span>",2===e&&(t='<span type="0">'+i.btn[1]+"</span>"+t),'<div class="rbklayermbtn">'+t+"</div>"):""}();if(i.fixed||(i.top=i.hasOwnProperty("top")?i.top:100,i.style=i.style||"",i.style+=" top:"+(e.body.scrollTop+i.top)+"px"),2===i.type&&(i.content='<i></i><i class="laymloadtwo"></i><i></i>'),o.innerHTML=(i.shade?"<div "+("string"==typeof i.shade?'style="'+i.shade+'"':"")+' class="laymshade"></div>':"")+'<div class="rbklayermmain" '+(i.fixed?"":'style="position:static;"')+'><div class="section"><div class="rbklayermchild '+(i.className?i.className:"")+" "+(i.type||i.shade?"":"rbklayermborder ")+(i.anim?"rbklayermanim":"")+'" '+(i.style?'style="'+i.style+'"':"")+">"+n+'<div class="rbklayermcont">'+i.content+"</div>"+d+"</div></div></div>",!i.type||2===i.type){var p=e[r](l[0]+i.type),c=p.length;c>=1&&rbklayer.close(p[0].getAttribute("index"))}document.body.appendChild(o);var m=t.elem=a("#"+t.id)[0];i.success&&i.success(m),t.index=s++,t.action(i,m)},d.prototype.action=function(t,e){var i=this;if(t.time&&(n.timer[i.index]=setTimeout(function(){rbklayer.close(i.index)},1e3*t.time)),t.title){var a=e[r]("rbklayermend")[0],o=function(){t.cancel&&t.cancel(),rbklayer.close(i.index)};n.touch(a,o)}var s=function(){var e=this.getAttribute("type");0==e?(t.no&&t.no(),rbklayer.close(i.index)):t.yes?t.yes(i.index):rbklayer.close(i.index)};if(t.btn)for(var l=e[r]("rbklayermbtn")[0].children,d=l.length,p=0;d>p;p++)n.touch(l[p],s);if(t.shade&&t.shadeClose){var c=e[r]("laymshade")[0];n.touch(c,function(){rbklayer.close(i.index,t.end)})}t.end&&(n.end[i.index]=t.end)},t.rbklayer={v:"1.7",index:s,open:function(t){var e=new d(t||{});if(e.config.btn){var i=e.config.btn.length;1==i?$(e.elem).addClass("rbklayeralert"):2==i&&$(e.elem).addClass("rbklayerconfirm")}return e.index},close:function(t){var i=a("#"+l[0]+t)[0];i&&(i.innerHTML="",e.body.removeChild(i),clearTimeout(n.timer[t]),delete n.timer[t],"function"==typeof n.end[t]&&n.end[t](),delete n.end[t])},closeAll:function(){for(var t=e[r](l[0]),i=0,a=t.length;a>i;i++)rbklayer.close(0|t[0].getAttribute("index"))}},"function"==typeof define?define(function(){return rbklayer}):function(){var t=document.scripts,e=t[t.length-1],i=e.src;i.substring(0,i.lastIndexOf("/")+1);e.getAttribute("merge")}()}(window),rbk.actsheet=function(){},rbk.actsheet.prototype=new rbk.cmp,rbk.actsheet.prototype.defCls="rbk-popover rbk-popover-action rbk-popover-bottom",rbk.actsheet.prototype.defHtmlTag='<div class="rbk-actsheet"></div>',rbk.actsheet.prototype.roles={fromtop:"rbk-popover rbk-popover-action rbk-popover-top"},rbk.actsheet.prototype.reStructHtmlTag=function(){var t=this;if(rbk.cmp.prototype.reStructHtmlTag.call(this),this.up("content"))throw"actsheet不能放在content里面";var e=$(".rbk-table-view > .rbk-table-view-cell",this.dom);$.each(e,function(e,i){rbk.domToShell(i).bindClick(function(e){t.switch(),$.isFunction(t.selCallback)&&t.selCallback(e)}),$(i).bind("touchstart",function(){$(i).addClass("rbk-active")}),$(i).bind("touchend",function(){$(i).removeClass("rbk-active")})})},rbk.actsheet.prototype.selCallback=function(t){},rbk.actsheet.prototype.switch=function(){$(this.dom).popover("toggle")},rbk.btn=function(){},rbk.btn.prototype=new rbk.cmp,rbk.btn.prototype.defCls="rbk-btn rbk-btn-primary rbk-btn-block",rbk.btn.prototype.defHtmlTag='<button class="rbk-btn"></button>',rbk.btn.prototype.roles={outred:"rbk-btn rbk-btn-block rbk-btn-outlined",outgray:"rbk-btn rbk-btn-block rbk-btn-outlined rbk-gray",outnormal:"rbk-btn rbk-btn-block rbk-btn-outlined rbk-prm",red:"rbk-btn rbk-btn-red rbk-btn-block",orange:"rbk-btn rbk-btn-orange rbk-btn-block",yellow:"rbk-btn rbk-btn-yellow rbk-btn-block",mini:"rbk-btn rbk-btn-primary",minired:"rbk-btn rbk-btn-red",miniorange:"rbk-btn rbk-btn-orange",miniyellow:"rbk-btn rbk-btn-yellow",minioutred:"rbk-btn rbk-btn-outlined",minioutgray:"rbk-btn rbk-btn-outlined rbk-gray",minioutnormal:"rbk-btn rbk-btn-outlined rbk-prm"},rbk.btn.prototype.block=function(){var t=this;if(arguments.length>0){var e=arguments[0];return(e&&!t.existClass("rbk-btn-block")||!e&&t.existClass("rbk-btn-block"))&&t.toggleClass("rbk-btn-block"),e}return t.existClass("rbk-btn-block")},rbk.btn.prototype.setIcon=function(t,e){var i=this,r=$("span[class*=rbk-icon]",this.dom);0!=r.length&&rbk.domToShell(r[0]).removeSelf();var a=null;a=e?rbk.domToShell(i.appendChild('<span class="rbk-icon"><span>')[0]):rbk.domToShell(i.insertBefore('<span class="rbk-icon"><span>')[0]),a.setClass(t)},window.tobottom=function(){myScroll.refresh(),myScroll.scrollTo(0,myScroll.maxScrollY,0)},rbk.chat=function(){},rbk.chat.prototype=new rbk.cmp,rbk.implInterface(rbk.chat,iBindLayoutCmp),rbk.chat.prototype.defCls="",rbk.chat.prototype.defHtmlTag='<div class="rbk-chat"></div>',rbk.chat.prototype.reStructHtmlTag=function(){var t=$(window).height()-59;if(rbk.isNotEmpty($(this.dom).html())){var e=$(this.dom).html();$(this.dom).html(""),this.add('<div class="rbk-scroll" style="height:'+t+'px;"><div class="chat-scroll rbk-cmp"><div class="preAddMsg rbk-cmp">'+e+"</div></div></div>")}else this.add('<div class="rbk-scroll" style="height:'+t+'px;"><div class="chat-scroll rbk-cmp"><div class="preAddMsg rbk-cmp"></div></div></div>');this.add('<div class="rbk-chatform"></div>'),setTimeout(function(){$(".chat-scroll").css("padding-bottom",20),tobottom()}),setTimeout(function(){tobottom()},500),rbk.cmp.prototype.reStructHtmlTag.call(this)},rbk.chat.prototype.itemRender=function(t,e){return rbk.format(t,e)},rbk.chat.prototype.doLayout=function(t){var e=this;if(!$.isArray(t))throw"eArr必须是数组对象";for(var i=null,r=e.childCmps(),a=0;a<r.length;a++)if("chatitem"==r[a].ctype&&r[a].tpl()&&rbk.hasInterface(r[a],iTpl)){i=r[a];break}var o="";null==i?o=rbk.chatitem.prototype.defTplTag:(o=i.dom.outerHTML.toString(),i.removeSelf(),i.dispose(),delete i),$.each(t,function(t,i){var r=null,a=rbk.domToCmp(e.down("scroll").down("cmp").down("cmp").appendChild(e.itemRender(o,i))[0],"chatitem");rbk.isEmpty(i.id)||(r=e.down("#"+i.id)),rbk.isEmpty(i.type)||"self"!=i.type||a.setClass("rbk-chatself"),rbk.isEmpty(i.type)||"system"!=i.type||a.setClass("rbk-chatsystem"),rbk.isEmpty(i.imgurl)||($(a.dom).find(".rbk-chattext").html('<img src="'+i.imgurl+'">'),setTimeout(function(){tobottom()},50)),rbk.isEmpty(i.time)&&$(a.dom).find(".rbk-chattime").hide(),null==r&&(a.tpl(!1),rbk.isEmpty(i.id)||a.id(i.id),a.reStructHtmlTag(),a.raw=i)}),tobottom()},rbk.chat.prototype.doLayoutBefore=function(t){var e=this;if(!$.isArray(t))throw"eArr必须是数组对象";for(var i=null,r=e.childCmps(),a=0;a<r.length;a++)if("chatitem"==r[a].ctype&&r[a].tpl()&&rbk.hasInterface(r[a],iTpl)){i=r[a];break}var o="";null==i?o=rbk.chatitem.prototype.defTplTag:(o=i.dom.outerHTML.toString(),i.removeSelf(),i.dispose(),delete i),t=t.reverse(),$.each(t,function(t,i){var r=null,a=rbk.domToCmp(e.down("scroll").down("cmp").down("cmp").insertBefore(e.itemRender(o,i))[0],"chatitem");rbk.isEmpty(i.id)||(r=e.down("#"+i.id)),rbk.isEmpty(i.type)||"self"!=i.type||a.setClass("rbk-chatself"),rbk.isEmpty(i.type)||"system"!=i.type||a.setClass("rbk-chatsystem"),rbk.isEmpty(i.imgurl)||($(a.dom).find(".rbk-chattext").html('<img src="'+i.imgurl+'">'),setTimeout(function(){myScroll.refresh()},50)),rbk.isEmpty(i.time)&&$(a.dom).find(".rbk-chattime").hide(),null==r&&(a.tpl(!1),rbk.isEmpty(i.id)||a.id(i.id),a.reStructHtmlTag(),a.raw=i)}),myScroll.refresh()},rbk.chat.prototype.addMsg=function(t){var e="object"==typeof t&&"[object object]"==Object.prototype.toString.call(t).toLowerCase()&&!t.length;if(!e)throw"dataJson必须是对象";for(var i=null,r=this,a=null,o=r.childCmps(),n=0;n<o.length;n++)if("chatitem"==o[n].ctype&&o[n].tpl()&&rbk.hasInterface(o[n],iTpl)){a=o[n];break}var s="";null==a?s=rbk.chatitem.prototype.defTplTag:(s=a.dom.outerHTML.toString(),a.removeSelf(),a.dispose(),delete a);var l=rbk.domToCmp(r.down("scroll").down("cmp").down("cmp").appendChild(r.itemRender(s,t))[0],"chatitem");rbk.isEmpty(t.id)||(i=r.down("#"+t.id)),rbk.isEmpty(t.type)||"self"!=t.type||l.setClass("rbk-chatself"),rbk.isEmpty(t.type)||"system"!=t.type||l.setClass("rbk-chatsystem"),rbk.isEmpty(t.imgurl)||($(l.dom).find(".rbk-chattext").html('<img src="'+t.imgurl+'">'),setTimeout(function(){tobottom()},500)),rbk.isEmpty(t.time)&&$(l.dom).find(".rbk-chattime").hide(),null==i&&(l.tpl(!1),rbk.isEmpty(t.id)||l.id(t.id),l.reStructHtmlTag(),l.raw=t,tobottom())},rbk.chat.prototype.addBeforeMsg=function(t){var e="object"==typeof t&&"[object object]"==Object.prototype.toString.call(t).toLowerCase()&&!t.length;if(!e)throw"dataJson必须是对象";for(var i=null,r=this,a=null,o=r.childCmps(),n=0;n<o.length;n++)if("chatitem"==o[n].ctype&&o[n].tpl()&&rbk.hasInterface(o[n],iTpl)){a=o[n];break}var s="";null==a?s=rbk.chatitem.prototype.defTplTag:(s=a.dom.outerHTML.toString(),a.removeSelf(),a.dispose(),delete a);var l=rbk.domToCmp(r.down("scroll").down("cmp").down("cmp").insertBefore(r.itemRender(s,t))[0],"chatitem");rbk.isEmpty(t.id)||(i=r.down("#"+t.id)),rbk.isEmpty(t.type)||"self"!=t.type||l.setClass("rbk-chatself"),rbk.isEmpty(t.type)||"system"!=t.type||l.setClass("rbk-chatsystem"),rbk.isEmpty(t.imgurl)||($(l.dom).find(".rbk-chattext").html('<img src="'+t.imgurl+'">'),setTimeout(function(){myScroll.refresh()},500)),rbk.isEmpty(t.time)&&$(l.dom).find(".rbk-chattime").hide(),null==i&&(l.tpl(!1),rbk.isEmpty(t.id)||l.id(t.id),l.reStructHtmlTag(),l.raw=t,myScroll.refresh())},rbk.chat.prototype.bindMsgFunc=function(t,e,i){var r=this,a=r.down("chatform").dom;$(a).find(".rbk-pass").bind("click",function(){var o=$(a).find("input[type=text]").val();return""==o||""==$.trim(o)?void alert("请输入内容"):(r.addMsg({type:"self",name:t,headImg:e,text:o}),$.isFunction(i(o))&&i.call(i(o)),void $(a).find("input[type=text]").val(""))})},rbk.chat.prototype.bindOffeFunc=function(t,e,i,r){var a=this,o=a.down("chatform").dom;$(o).find(".rbk-chatformbottom").append('<div id="'+i+'" class="rbk-chatoffer"><img src="'+e+'"><div>'+t+"</div><div>"),$.isFunction(r)&&$("#"+i).bind("click",function(){r.call(r)})},rbk.chat.prototype.preMsgBindClickFunc=function(t){},rbk.chat.prototype.preHeadBindClickFunc=function(t){},rbk.chat.prototype.bindMsgClick=function(t){$.isFunction(t)&&(this.preMsgBindClickFunc=t)},rbk.chat.prototype.bindHeadClick=function(t){$.isFunction(t)&&(this.preHeadBindClickFunc=t)},rbk.chat.prototype.title=function(t){document.title=t},rbk.chatform=function(){},rbk.chatform.prototype=new rbk.cmp,rbk.implInterface(rbk.chatform,iTpl),rbk.chatform.prototype.defCls="",rbk.chatform.prototype.defHtmlTag='<div class="rbk-chatform"></div>',rbk.chatform.prototype.defTplTag='<div class="rbk-chatform"></div>',rbk.chatform.prototype.reStructHtmlTag=function(){var t=this;t.add('<div class="rbk-chatformtext"><input type="text"><div class="rbk-btn rbk-pass">发送</div><div class="rbk-btn rbk-bsk"></div></div>'),t.add('<div class="rbk-chatformbottom"></div>');var e=$(t.dom).find(".rbk-chatformbottom");$(t.dom).find(".rbk-bsk").bind("click",function(){if("none"==e.css("display")){e.show();var t=$(".rbk-chatform").height();$(".chat-scroll").css("padding-bottom",t-39),tobottom()}else e.hide(),$(".chat-scroll").css("padding-bottom",20),tobottom()}),$(t.dom).find("input[type=text]").focus(function(){e.hide(),$(".chat-scroll").css("padding-bottom",20),tobottom(),$(".rbk-chatform").css("position","relative")}),$(t.dom).find("input[type=text]").blur(function(){$(".chat-scroll").css("padding-bottom",20),tobottom(),$(".rbk-chatform").css("position","fixed")})},rbk.chatitem=function(){},rbk.chatitem.prototype=new rbk.cmp,rbk.implInterface(rbk.chatitem,iTpl),rbk.chatitem.prototype.defCls="",rbk.chatitem.prototype.defHtmlTag='<div class="rbk-chatitem"></div>',rbk.chatitem.prototype.defTplTag='<div class="rbk-chatitem"><div class="rbk-chattime"><div><span>{time}</span></div></div><img class="rbk-chathead" src="{headImg}"><div class="rbk-chatname">{name}</div><div class="rbk-chattext">{text}</div></div>',rbk.chatitem.prototype.reStructHtmlTag=function(){rbk.cmp.prototype.reStructHtmlTag.call(this);var t=this;chat=rbk.domToCmp(t.dom.parentNode.parentNode.parentNode.parentNode,"chat"),$(t.dom).find(".rbk-chattext").on("tap",function(){rbk.isEmpty(chat.preMsgBindClickFunc)||chat.preMsgBindClickFunc(t)}),$(t.dom).find(".rbk-chathead").on("tap",function(){rbk.isEmpty(chat.preHeadBindClickFunc)||chat.preHeadBindClickFunc(t)})},rbk.checkbox=function(){},rbk.checkbox.prototype=new rbk.cmp,rbk.checkbox.prototype.defCls="rbk-input-row rbk-checkbox rbk-left",rbk.checkbox.prototype.defHtmlTag='<div class="rbk-checkbox"></div>',rbk.checkbox.prototype.reStructHtmlTag=function(){rbk.cmp.prototype.reStructHtmlTag.call(this);var t=this;if(0==$("label",this.dom).length){var e=document.createElement("label");e.innerText="",this.dom.appendChild(e)}if(0==$('input[type="checkbox"]',this.dom).length){var i=document.createElement("input");i.type="checkbox","checked"==t.attr("checked")&&i.setAttribute("checked","checked"),t.attr("name")&&i.setAttribute("name",t.attr("name")),t.attr("value")&&i.setAttribute("value",t.attr("value")),$("label",this.dom)[0].appendChild(i)}t.attr("direct")&&t.direct(t.attr("direct"))},rbk.checkbox.prototype.checked=function(){return arguments.length>0&&($("input",this.dom)[0].checked=arguments[0]),$("input",this.dom)[0].checked},rbk.checkbox.prototype.preBindChange=null,rbk.checkbox.prototype.bindChange=function(t){var e=this,i=function(){$.isFunction(t)&&t(e)},r=$('input[type="checkbox"]',e.dom)[0];r.addEventListener("change",i),$.isFunction(e.preBindChange)&&r.removeEventListener("tap",e.preBindChange),e.preBindChange=i},rbk.checkbox.prototype.text=function(){return arguments.length>0&&($("label",this.dom)[0].innerText=arguments[0]),$("label",this.dom)[0].innerText},rbk.checkbox.prototype.direct=function(){return arguments.length>0?(("left"==arguments[0]&&!this.dom.classList.contains("rbk-left")||"left"!=arguments[0]&&this.dom.classList.contains("rbk-left"))&&this.dom.classList.toggle("rbk-left"),"left"==arguments[0]):this.dom.classList.contains("rbk-left")?"left":"right"},rbk.collalist=function(){},rbk.collalist.prototype=new rbk.cmp,rbk.collalist.prototype.reStructHtmlTag=function(){rbk.cmp.prototype.reStructHtmlTag.call(this)},rbk.collalist.prototype.defCls="rbk-table-view rbk-table-view-chevron",rbk.collalist.prototype.defHtmlTag='<div class="rbk-collalist"></div>',rbk.collalist.prototype.roles={clock:"rbk-collalist rbk-table-view rbk-table-view-chevron rbk-clocklist"},rbk.collalist.prototype.itemRender=function(t,e){return rbk.format(t,e)},rbk.collalist.prototype.doLayout=function(t){var e=this;if(!$.isArray(t))throw"dataJsonArr必须是数组对象";for(var i=null,r=e.childCmps(),a=0;a<r.length;a++)if("collalistitem"==r[a].ctype&&r[a].tpl()){i=r[a];break}var o="";null==i?o=rbk.collalistitem.prototype.defTplTag:(o=i.dom.outerHTML.toString(),i.removeSelf(),i.dispose(),delete i),$.each(t,function(t,i){var r=null;if(rbk.isEmpty(i.id)||(r=e.down("#"+i.id)),null==r){var a=rbk.domToCmp(e.appendChild(e.itemRender(o,i))[0],"collalistitem");if(a.reStructHtmlTag(),a.tpl(!1),rbk.isEmpty(i.id)||a.id(i.id),a.raw=i,!rbk.isEmpty(i.cldCtype)&&rbk.isCtype(i.cldCtype)){var n=a.down(i.cldCtype);if(null==n){var n=rbk.createCmpObj(i.cldCtype);n.dom=a.appendChild(n.defHtmlTag)[0],n.reStructHtmlTag(),n.setClass("rbk-table-view-chevron"),rbk.setObjRef(n)}if(!rbk.hasInterface(n,iBindLayoutCmp))return;n.doLayout(i.clsData)}}})},rbk.collalistitem=function(){},rbk.collalistitem.prototype=new rbk.cmp,rbk.collalistitem.prototype.defCls="rbk-table-view-cell rbk-collapse",rbk.collalistitem.prototype.roles={fixedlist:"rbk-table-view-cell rbk-collapse rbk-fixedlist"},rbk.collalistitem.prototype.defHtmlTag='<div class="rbk-collalistitem"></div>',rbk.collalistitem.prototype.defTplTag='<div class="rbk-collalistitem" text="{text}"></div>',rbk.collalistitem.prototype.reStructHtmlTag=function(){if(rbk.cmp.prototype.reStructHtmlTag.call(this),0==$('a[class*="rbk-navigate-right"]',this.dom).length&&this.insertBefore('<a class="rbk-navigate-right"></a>'),this.text(this.attr("text")),$("div",this.dom).length>0){var t=rbk.domToShell($("div",this.dom)[0]);t.setClass("rbk-table-view-chevron"),t.setClass("rbk-table-view")}$(this.dom).children(".rbk-navigate-right").bind("tap",function(){$(this).parent().hasClass("rbk-active")?$(this).parent().removeClass("rbk-active"):($(this).parent().siblings().removeClass("rbk-active"),$(this).parent().addClass("rbk-active"))})},rbk.collalistitem.prototype.text=function(){return arguments.length>0&&($('a[class*="rbk-navigate-right"]',this.dom)[0].innerText=arguments[0]),$('a[class*="rbk-navigate-right"]',this.dom)[0].innerText},rbk.content=function(){},rbk.content.prototype=new rbk.cmp,rbk.content.prototype.defCls="rbk-content  rbk-content-padded",rbk.content.prototype.defHtmlTag='<div class="rbk-content"></div>',rbk.content.prototype.reStructHtmlTag=function(){var t=this;this.attr("tpl")&&t.attr("tpl",null)},rbk.content.prototype.changeBk=function(t){$("body").css("background",t)},rbk.dialog={},rbk.dialog.defTitle="Rubik",rbk.dialog.alert=function(){if(0!=arguments.length){var t=arguments[0],e=rbk.dialog.defTitle,i=function(){};2==arguments.length?$.isFunction(arguments[1])?i=arguments[1]:e=arguments[1]:3==arguments.length&&(e=arguments[1],i=arguments[2]),$.alert(t,e,i)}},rbk.dialog.yesNo=function(){if(!(arguments.length<2)){var t=arguments[0],e=rbk.dialog.defTitle,i=function(){};2==arguments.length?$.isFunction(arguments[1])?i=arguments[1]:e=arguments[1]:3==arguments.length&&(e=arguments[1],i=arguments[2]);var r=["否","是"];rbk.dialog.confirm(t,e,r,function(t){$.isFunction(i)&&i(1==t.index?!0:!1)})}},rbk.dialog.okCancel=function(){if(!(arguments.length<2)){var t=arguments[0],e=rbk.dialog.defTitle,i=function(){};2==arguments.length?$.isFunction(arguments[1])?i=arguments[1]:e=arguments[1]:3==arguments.length&&(e=arguments[1],i=arguments[2]);var r=["取消","确定"];rbk.dialog.confirm(t,e,r,function(t){$.isFunction(i)&&i(1==t.index?!0:!1)})}},rbk.dialog.confirm=function(){if(!(arguments.length<3)){var t=arguments[0],e=rbk.dialog.defTitle,i=[],r=function(){};3==arguments.length?(i=arguments[1],r=arguments[2]):(e=arguments[1],i=arguments[2],r=arguments[3]),$.confirm(t,e,i,r)}},rbk.dialog.prompt=function(){if(!(arguments.length<3)){var t=arguments[0],e=rbk.dialog.defTitle,i=[],r="请输入",a=function(){};3==arguments.length?(i=arguments[1],a=arguments[2]):4==arguments.length?(r=arguments[1],i=arguments[2],a=arguments[3]):(r=arguments[1],e=arguments[2],i=arguments[3],a=arguments[4]),$.prompt(t,r,e,i,a)}},rbk.dialog.toast=function(t){$.toast(t)},rbk.fixbtn=function(){},rbk.fixbtn.prototype=new rbk.cmp,rbk.fixbtn.prototype.defCls="",rbk.fixbtn.prototype.defHtmlTag='<div class="rbk-fixbtn"></div>',rbk.fixbtn.prototype.roles={payfix:"rbk-payfix"},rbk.fixbtn.prototype.reStructHtmlTag=function(){rbk.cmp.prototype.reStructHtmlTag.call(this);var t=this;setTimeout(function(){var e=$(t.dom).height();if($(t.dom).after("<div class='r-fixafter'></div>"),$(".r-fixafter").css("height",e),rbk.isNotEmpty($(".rbk-shrinkpanel"))){var i=$(window).height();"none"==$(".rbk-titlebar").css("display")?$(".rbk-shrinkpanel .rbk-yymodelinfo>div").css("overflow","auto").css("max-height",i-103-e):$(".rbk-shrinkpanel .rbk-yymodelinfo>div").css("overflow","auto").css("max-height",i-147-e)}})},rbk.form=function(){},rbk.form.prototype=new rbk.cmp,rbk.implInterface(rbk.form,iFormCmp),rbk.form.prototype.defCls="rbk-input-group rbk-table-view rbk-grid-9",rbk.form.prototype.defHtmlTag='<div class="rbk-form"></div>',rbk.form.prototype.roles={card:"rbk-input-group rbk-table-view rbk-grid-9 rbk-card"},rbk.form.prototype.doLayout=function(t){var e=this;$.each(t,function(t,i){if(!rbk.isEmpty(i.id)){var r=e.down("#"+i.id),a=e;if(null==r?(r=rbk.createCmpObj(i.ctype),rbk.isEmpty(i.ctnCmpID)||(a=e.down("#"+i.ctnCmpID))):a=r.up(),rbk.hasInterface(r,iFormCmp)){if(r.doLayout(a,i),"undefined"!=typeof i.disabled&&0!=r.dom.getElementsByTagName("input").length){var o=r.dom.getElementsByTagName("input")[0];o.setAttribute("disabled","disabled")}if("undefined"!=typeof i.timetext&&0!=r.dom.getElementsByTagName("input").length){var o=r.dom.getElementsByTagName("input")[0];if(o.setAttribute("readonly","readonly"),$(o).addClass("rbk-timetext"),"native"==rbk.platform.getPlatform().platform)$(o).bind("tap",function(t){rbk.platform.dateSelector(function(t){$(o).val(t.date)},$(o).val())});else{var n=(new Date).getFullYear(),s={};s.date={preset:"date"},s.datetime={preset:"datetime"},s.time={preset:"time"},s.default={theme:"android-ics light",display:"modal",mode:"scroller",dateFormat:"yyyy-mm-dd",lang:"zh",showNow:!0,nowText:"今天",endYear:n+10};var l=$.extend(s.date,s.default);$(o).mobiscroll(l)}}if("undefined"!=typeof i.clocktext&&0!=r.dom.getElementsByTagName("input").length){var o=r.dom.getElementsByTagName("input")[0];if(o.setAttribute("readonly","readonly"),$(o).addClass("rbk-timetext"),"native"==rbk.platform.getPlatform().platform)$(o).bind("tap",function(t){rbk.platform.timeSelector(function(t){$(o).val(t.time)},$(o).val())});else{var n=(new Date).getFullYear(),s={};s.date={preset:"date"},s.datetime={preset:"datetime"},s.time={preset:"time"},s.default={theme:"android-ics light",display:"modal",mode:"scroller",dateFormat:"yyyy-mm-dd",lang:"zh",showNow:!0,nowText:"现在",endYear:n+10};var d=$.extend(s.time,s.default);$(o).mobiscroll(d).time(d)}}if("undefined"!=typeof i.color&&(rbk.isNotEmpty($(r.dom).find(".color-gray"))&&$(r.dom).find(".color-gray").css("color",i.color),rbk.isNotEmpty($(r.dom).find(".rbk-input-clear"))&&$(r.dom).find(".rbk-input-clear").css("color",i.color)),"undefined"!=typeof i.readonly&&0!=r.dom.getElementsByTagName("input").length){var o=r.dom.getElementsByTagName("input")[0];o.setAttribute("readonly","readonly")}if("undefined"!=typeof i.psd&&0!=r.dom.getElementsByTagName("input").length){var o=r.dom.getElementsByTagName("input")[0];$(o).attr("type","password")}if("undefined"!=typeof i.placeholder)if(0!=r.dom.getElementsByTagName("input").length){var o=r.dom.getElementsByTagName("input")[0];o.setAttribute("placeholder",i.placeholder)}else if(0!=r.dom.getElementsByTagName("textarea").length){var p=r.dom.getElementsByTagName("textarea")[0];p.setAttribute("placeholder",i.placeholder)}if("undefined"!=typeof i.labelName&&r.labelName(i.labelName),"undefined"!=typeof i.defValue&&r.setVal(i.defValue),"undefined"!=typeof i.hasCode){var c='<div class="rbk-btn rbk-code-input"></div>';r.setClass("rbk-hascode"),r.appendChild(c),"native"==rbk.platform.getPlatform().platform&&$(r.dom).find(".rbk-code-input").on("tap",function(){rbk.platform.QRCodeScanning(function(t){var e=r.dom.getElementsByTagName("input")[0];$(e).val(t.code)})})}if("undefined"!=typeof i.hasImg&&(r.setClass("rbk-hasimg"),"head"==i.hasImg?r.setClass("rbk-headtext"):"code"==i.hasImg?r.setClass("rbk-codetext"):"phone"==i.hasImg?r.setClass("rbk-phonetext"):"password"==i.hasImg&&r.setClass("rbk-passwordtext")),"undefined"!=typeof i.hasBtn){var c='<div class="rbk-btn">'+i.hasBtn+"</div>";r.setClass("rbk-hasbtn"),rbk.isEmpty($(".rbk-btn",r.dom)[0])&&r.appendChild(c)}if("undefined"!=typeof i.codeLabel){var c='<div class="rbk-btn">'+i.codeLabel+"</div>";r.setClass("rbk-codelabel"),rbk.isEmpty($(".rbk-btn",r.dom)[0])&&r.appendChild(c)}}}})},rbk.form.prototype.setVal=function(t){var e=this;for(var i in t){var r=e.down("#"+i);null!=r&&rbk.hasInterface(r,iFormCmp)&&r.setVal(t[i])}},rbk.form.prototype.getVal=function(){for(var t=this.getAllFormCmp(),e={},i=0;i<t.length;i++)rbk.hasInterface(t[i],iFormCmp)&&(e[t[i].id()]=t[i].getVal());return e},rbk.form.prototype.resetVal=function(){var t=$("input",this.dom)[0];""==t.value},rbk.form.prototype.getAllFormCmp=function(){return this.childCmps(!1)},rbk.form.prototype.bindBtnClick=function(t,e){$("#"+t)&&$.isFunction(e)&&$("#"+t).find(".rbk-btn").bind("tap",function(){e($(this))})},rbk.frmact=function(){},rbk.frmact.prototype=new rbk.cmp,rbk.implInterface(rbk.frmact,iFormCmp),rbk.frmact.prototype.defCls="rbk-table-view-cell",rbk.frmact.prototype.reStructHtmlTag=function(){var t=this;if(rbk.cmp.prototype.reStructHtmlTag.call(this),0==$("label",this.dom).length){var e=document.createElement("label");this.dom.appendChild(e)}$("label",t.dom)[0].innerText=$("label",t.dom)[0].innerText,0==$("span",this.dom).length&&this.appendChild('<span class="color-gray frmact"></span>')},rbk.frmact.prototype.defHtmlTag='<div class="rbk-frmlbl"></div>',rbk.frmact.prototype.labelName=function(){arguments.length>0&&($("label",this.dom)[0].innerText=arguments[0]);var t=$("label",this.dom)[0].innerText;return t.substring(0,t.length-2)},rbk.frmact.prototype.doLayout=function(t,e){var i=this,r=$(window).height();null==i.dom&&(i.dom=t.appendChild(i.defHtmlTag)[0],rbk.setObjRef(i),i.id(e.id),i.data=e),i.reStructHtmlTag();var a=$(i.dom).find(".frmact");rbk.isNotEmpty($("#frm"+e.id))&&$("#frm"+e.id).remove();var o=$("body"),n='<div class="rbk-frmact" id="frm'+e.id+'"><ul class="rbk-table-view">';for(var s in e.options)n+='<li class="rbk-table-view-cell" v="'+e.options[s].value+'">'+e.options[s].text+"</li>";n+='</ul><ul class="rbk-table-view"><li class="rbk-table-view-cell disp">取消</li></ul></div>';var l=(o.append(n),$(".rbk-table-view > .rbk-table-view-cell",$("#frm"+e.id)[0]));$.each(l,function(t,e){rbk.domToShell(e).bindClick(function(t){}),$(e).bind("touchstart",function(){$(e).addClass("rbk-active")}),$(e).bind("touchend",function(){$(e).removeClass("rbk-active")})});var a=$(i.dom).find(".frmact");""==a.html()&&a.html("请选择"),a.on("tap",function(){$("body").css("overflow","hidden").css("height",r),$("#frm"+e.id).addClass("rbk-active"),$(":focus").blur(),rbk.isEmpty($("#bk"+e.id)[0])&&o.append('<div id="bk'+e.id+'" class="rbk-backdrop rbk-backdrop-action rbk-active"></div>'),$("#bk"+e.id).bind("tap",function(){$("body").css("overflow","auto").css("height","auto"),$("#frm"+e.id).removeClass("rbk-active"),$(this).css("opacity",0),setTimeout(function(){$("#bk"+e.id).remove()},400)})}),$("#frm"+e.id).find(".disp").on("tap",function(){$("body").css("overflow","auto").css("height","auto"),$("#frm"+e.id).removeClass("rbk-active"),$("#bk"+e.id).css("opacity",0),setTimeout(function(){$("#bk"+e.id).remove()},400)}),$("#frm"+e.id).find(".rbk-table-view-cell").not(".disp").on("tap",function(){a.html($(this).html()),a.attr("value",$(this).attr("v")),$("body").css("overflow","auto").css("height","auto"),$("#frm"+e.id).removeClass("rbk-active"),$("#bk"+e.id).css("opacity",0),setTimeout(function(){$("#bk"+e.id).remove()},400)})},rbk.frmact.prototype.setVal=function(t){var e,i,r=this,a=$(r.dom).find(".frmact");if("object"==typeof t)e=t.text,i=t.value;else if("string"==typeof t||"number"==typeof t)for(var o in r.data.options)r.data.options[o].value==t&&(e=r.data.options[o].text,i=r.data.options[o].value);a.html(e),a.attr("value",i)},rbk.frmact.prototype.getVal=function(){var t=this,e=$(t.dom).find(".frmact");return e.attr("value")},rbk.frmact.prototype.resetVal=function(){var t=this,e=$(t.dom).find(".frmact");e.attr("value",""),e.html("请选择")},rbk.frmlbl=function(){},rbk.frmlbl.prototype=new rbk.cmp,rbk.implInterface(rbk.frmlbl,iFormCmp),rbk.frmlbl.prototype.defCls="rbk-table-view-cell",rbk.frmlbl.prototype.reStructHtmlTag=function(){var t=this;if(rbk.cmp.prototype.reStructHtmlTag.call(this),0==$("label",this.dom).length){var e=document.createElement("label");this.dom.appendChild(e)}$("label",t.dom)[0].innerText=$("label",t.dom)[0].innerText,0==$("span",this.dom).length&&this.appendChild('<span class="color-gray"></span>')},rbk.frmlbl.prototype.defHtmlTag='<div class="rbk-frmlbl"></div>',rbk.frmlbl.prototype.labelName=function(){arguments.length>0&&($("label",this.dom)[0].innerText=arguments[0]);var t=$("label",this.dom)[0].innerText;return t.substring(0,t.length-2)},rbk.frmlbl.prototype.doLayout=function(t,e){var i=this;null==i.dom&&(i.dom=t.appendChild(i.defHtmlTag)[0],rbk.setObjRef(i),i.id(e.id)),i.reStructHtmlTag()},rbk.frmlbl.prototype.valFormat="{value}",rbk.frmlbl.prototype.setVal=function(t){var e=this;rbk.isEmpty(e.valFormat)&&(e.valFormat="{value}");var i=rbk.domToShell($("span",e.dom)[0]);i.text(rbk.format(e.valFormat,{value:t}))},rbk.frmlbl.prototype.getVal=function(){var t=this,e=rbk.domToShell($("span",t.dom)[0]);return e.text()},rbk.frmlbl.prototype.resetVal=function(){this.text("")},rbk.frmrdgrp=function(){},rbk.frmrdgrp.prototype=new rbk.cmp,rbk.implInterface(rbk.frmrdgrp,iFormCmp),rbk.frmrdgrp.prototype.defCls="rbk-table-view-cell rbk-grid-9",rbk.frmrdgrp.prototype.roles={outline:"rbk-table-view-cell rbk-grid-9 rbk-outline"},rbk.frmrdgrp.prototype.reStructHtmlTag=function(){var t=this;if(rbk.cmp.prototype.reStructHtmlTag.call(this),0==$("label",this.dom).length){var e=document.createElement("label");e.innerText="radio",this.dom.appendChild(e)}$("label",t.dom)[0].innerText=$("label",t.dom)[0].innerText},rbk.frmrdgrp.prototype.defHtmlTag='<div class="rbk-frmrdgrp"></div>',rbk.frmrdgrp.prototype.labelName=function(){arguments.length>0&&($("label",this.dom)[0].innerText=arguments[0]);var t=$("label",this.dom)[0].innerText;return t.substring(0,t.length-2)},rbk.frmrdgrp.prototype.doLayout=function(t,e){var i=this;if(null==i.dom&&(i.dom=t.appendChild(i.defHtmlTag)[0],rbk.setObjRef(i),i.id(e.id),rbk.isNotEmpty(e.role)&&i.attr("rbk-role",e.role)),i.reStructHtmlTag(),$.isArray(e.options)){var r='<div class="rbk-cmp"></div>';i.add(r),$.each(e.options,function(t,r){var a=i.down("cmp").add('<div class="rbk-radio"><label>'+r.name+"</label></div>")[0],o=a.getInputShell();o.name(e.id+a.ctype),o.val(r.val)})}},rbk.frmrdgrp.prototype.setVal=function(t){if(!rbk.isEmpty(t)){var e=this,i=e.childCmps()[0].childCmps();$.each(i,function(e,i){if("radio"==i.ctype){var r=i.getInputShell();return r.val()==t.toString()?(i.checked(!0),!1):void 0}})}},rbk.frmrdgrp.prototype.getVal=function(){var t=this,e=t.childCmps()[0].childCmps(),i=null;return $.each(e,function(t,e){"radio"==e.ctype&&e.checked()&&(i=e.getInputShell().val())}),i},rbk.frmrdgrp.prototype.resetVal=function(){this.text("")},rbk.frmsel=function(){},rbk.frmsel.prototype=new rbk.cmp,rbk.implInterface(rbk.frmsel,iFormCmp),rbk.frmsel.prototype.defCls="rbk-input-row",rbk.frmsel.prototype.reStructHtmlTag=function(){var t=this;if(rbk.cmp.prototype.reStructHtmlTag.call(this),0==$("label",this.dom).length){var e=document.createElement("label");t.insertBefore(e)}this.labelName(this.labelName());var i=t.down("select");null==i&&t.add(rbk.select.prototype.defHtmlTag)},rbk.frmsel.prototype.defHtmlTag='<div class="rbk-frmsel"></div>',rbk.frmsel.prototype.labelName=function(){arguments.length>0&&($("label",this.dom)[0].innerText=arguments[0]);var t=$("label",this.dom)[0].innerText;return t.indexOf(":")==t.length-1?t.substring(0,t.length-1):t},rbk.frmsel.prototype.doLayout=function(t,e){var i=this;null==i.dom&&(i.dom=t.appendChild(i.defHtmlTag)[0],rbk.setObjRef(i),i.id(e.id)),i.reStructHtmlTag(),i.down("select").bindData(e.options)},rbk.frmsel.prototype.setVal=function(t){var e=this.down("select");e.setVal(t)},rbk.frmsel.prototype.getVal=function(){var t=this.down("select");return t.getVal()},rbk.frmsel.prototype.resetVal=function(){var t=this.down("select");t.setVal(null)},rbk.frmswitcher=function(){};rbk.frmswitcher.prototype=new rbk.cmp;rbk.implInterface(rbk.frmswitcher,iFormCmp),rbk.frmswitcher.prototype.defCls="rbk-input-row",rbk.frmswitcher.prototype.reStructHtmlTag=function(){var t=this;if(rbk.cmp.prototype.reStructHtmlTag.call(this),0==$("label",this.dom).length){var e=document.createElement("label");t.insertBefore(e)}this.labelName(this.labelName());var i=t.down("switcher");null==i&&t.add(rbk.switcher.prototype.defHtmlTag)},rbk.frmswitcher.prototype.defHtmlTag='<div class="rbk-frmswitcher"></div>',rbk.frmswitcher.prototype.labelName=function(){
arguments.length>0&&($("label",this.dom)[0].innerText=arguments[0]);var t=$("label",this.dom)[0].innerText;return t.indexOf(":")==t.length-1?t.substring(0,t.length-1):t},rbk.frmswitcher.prototype.doLayout=function(t,e){var i=this;null==i.dom&&(i.dom=t.appendChild(i.defHtmlTag)[0],rbk.setObjRef(i),i.id(e.id)),i.reStructHtmlTag()},rbk.frmswitcher.prototype.setVal=function(t){var e=this.down("switcher");e.switch(t)},rbk.frmswitcher.prototype.getVal=function(){var t=this.down("switcher");return t.switch()},rbk.frmswitcher.prototype.resetVal=function(){var t=this.down("switcher");t.setVal(!1)},rbk.frmtxt=function(){},rbk.frmtxt.prototype=new rbk.cmp,rbk.implInterface(rbk.frmtxt,iFormCmp),rbk.frmtxt.prototype.defCls="rbk-input-row",rbk.frmtxt.prototype.defHtmlTag='<div class="rbk-frmtxt"></div>',rbk.frmtxt.prototype.roles={outline:"rbk-table-view-cell rbk-grid-9 rbk-outline"},rbk.frmtxt.prototype.reStructHtmlTag=function(){var t=this;if(rbk.cmp.prototype.reStructHtmlTag.call(this),0==$("label",this.dom).length){var e=document.createElement("label");t.insertBefore(e)}$("label",this.dom)[0].innerText=$("label",this.dom)[0].innerText,0==$("input",this.dom).length&&t.appendChild('<input type="text" class="rbk-input-clear"/>')},rbk.frmtxt.prototype.hasClearBtn=function(){var t=rbk.domToShell($("input",this.dom)[0]);return arguments.length>0?(arguments[0]?t.setClass("rbk-input-clear"):t.removeClass("rbk-input-clear"),arguments[0]):t.existClass("rbk-input-clear")},rbk.frmtxt.prototype.labelName=function(){arguments.length>0&&($("label",this.dom)[0].innerText=arguments[0]);var t=$("label",this.dom)[0].innerText;return t.substring(0,t.length-2)},rbk.frmtxt.prototype.doLayout=function(t,e){var i=this;null==i.dom&&(i.dom=t.appendChild(i.defHtmlTag)[0],rbk.setObjRef(i),i.id(e.id),rbk.isNotEmpty(e.role)&&i.attr("rbk-role",e.role)),i.reStructHtmlTag()},rbk.frmtxt.prototype.setVal=function(t){var e=$("input",this.dom)[0];e.value=t},rbk.frmtxt.prototype.getVal=function(){var t=$("input",this.dom)[0];return t.value},rbk.frmtxt.prototype.resetVal=function(){var t=$("input",this.dom)[0];""==t.value},rbk.frmtxtarea=function(){},rbk.frmtxtarea.prototype=new rbk.cmp,rbk.implInterface(rbk.frmtxtarea,iFormCmp),rbk.frmtxtarea.prototype.defCls="rbk-table-view-cell",rbk.frmtxtarea.prototype.defHtmlTag='<div class="rbk-frmtxtarea"></div>',rbk.frmtxtarea.prototype.roles={outline:"rbk-table-view-cell rbk-grid-9 rbk-outline"},rbk.frmtxtarea.prototype.reStructHtmlTag=function(){var t=this;if(rbk.cmp.prototype.reStructHtmlTag.call(this),0==$("label",this.dom).length){var e=document.createElement("label");t.insertBefore(e)}$("label",this.dom)[0].innerText=$("label",this.dom)[0].innerText,0==$("textarea",this.dom).length&&t.appendChild('<textarea class="rbk-textarea-clear"></textarea>')},rbk.frmtxtarea.prototype.labelName=function(){arguments.length>0&&($("label",this.dom)[0].innerText=arguments[0]);var t=$("label",this.dom)[0].innerText;return t.substring(0,t.length-2)},rbk.frmtxtarea.prototype.doLayout=function(t,e){var i=this;null==i.dom&&(i.dom=t.appendChild(i.defHtmlTag)[0],rbk.setObjRef(i),i.id(e.id),rbk.isNotEmpty(e.role)&&i.attr("rbk-role",e.role)),i.reStructHtmlTag()},rbk.frmtxtarea.prototype.setVal=function(t){var e=$("textarea",this.dom)[0];e.value=t},rbk.frmtxtarea.prototype.getVal=function(){var t=$("textarea",this.dom)[0];return t.value},rbk.frmtxtarea.prototype.resetVal=function(){var t=$("textarea",this.dom)[0];""==t.value},rbk.imgfile=function(){},rbk.imgfile.prototype=new rbk.cmp,rbk.imgfile.prototype.defCls="",rbk.imgfile.prototype.defHtmlTag='<div class="rbk-imgfile"></div>',rbk.imgfile.prototype.reStructHtmlTag=function(){rbk.cmp.prototype.reStructHtmlTag.call(this);var t=this;if(0!=$(t.dom).find("img").size()){var e=new Array;$(t.dom).find("img").each(function(){e.push($(this).attr("src")),$(this).remove()})}if(t.add('<div class="rbk-subtitle">上传图片</div>'),t.add('<div class="rbk-filepanel rbk-cmp"><div class="rbk-uploadbtn"></div></div>'),e)for(var i=t.down("cmp"),r=0;r<e.length;r++)i.add('<img class="rbk-imgfileitem" src="'+e[r]+'"/>')},rbk.imgfile.prototype.bindClick=function(t){var e=this;if($.isFunction(t)){var i=$(e.dom).attr("size");$(e.dom).find(".rbk-uploadbtn").on("tap",function(){!rbk.isEmpty(i)&&$(e.dom).find(".rbk-filepanel img").size()<i?t(e):rbk.isEmpty(i)?t(e):alert("上传图片不能超过"+i+"张")})}},rbk.imgfile.prototype.preItemBindClickFunc=function(t){},rbk.imgfile.prototype.bindItemClick=function(t){$.isFunction(t)&&(this.preItemBindClickFunc=t)},rbk.imgfile.prototype.addImg=function(t){var e=this;t&&e.down("cmp").add('<img class="rbk-imgfileitem" src="'+t+'"/>')},rbk.imgfile.prototype.setSize=function(t){var e=this;t&&$(e.dom).attr("size",t)},rbk.imgfile.prototype.getVal=function(){var t=this,e=new Array;return $(t.dom).find(".rbk-filepanel img").each(function(){e.push($(this).attr("src"))}),e},rbk.imgfileitem=function(){},rbk.imgfileitem.prototype=new rbk.cmp,rbk.implInterface(rbk.imgfileitem,iTpl),rbk.imgfileitem.prototype.defCls="",rbk.imgfileitem.prototype.defHtmlTag='<img class="rbk-imgfileitem"/>',rbk.imgfileitem.prototype.reStructHtmlTag=function(){rbk.cmp.prototype.reStructHtmlTag.call(this);var t=this;t.raw={url:$(t.dom).attr("src")};var e=rbk.domToCmp(t.dom.parentNode.parentNode,"imgfile");t.bindClick(function(){rbk.isEmpty(e.preItemBindClickFunc)||e.preItemBindClickFunc(t)})},rbk.imgslditem=function(){},rbk.imgslditem.prototype=new rbk.cmp,rbk.implInterface(rbk.imgslditem,iTpl),rbk.imgslditem.prototype.defCls="rbk-slider-item",rbk.imgslditem.prototype.defHtmlTag='<div class="rbk-imgslider"></div>',rbk.imgslditem.prototype.defTplTag='<div class="rbk-imgslditem"><a href="{url}"><img src="{img}"></a><p class="rbk-slider-title">{text}</p></div>',rbk.imgslider=function(){},rbk.imgslider.prototype=new rbk.cmp,rbk.implInterface(rbk.imgslider,iBindLayoutCmp),rbk.imgslider.prototype.defCls="rbk-slider",rbk.imgslider.prototype.defHtmlTag='<div class="rbk-imgslider"></div>',rbk.imgslider.prototype.roles={notext:"rbk-slider rbk-slider-notext"},rbk.imgslider.prototype.reStructHtmlTag=function(){rbk.cmp.prototype.reStructHtmlTag.call(this),rbk.isEmpty(this.getImgContainerShell())&&this.appendChild('<div class="rbk-slider-group"></div>'),rbk.isEmpty(this.getImgIndicatorShell())&&this.appendChild('<div class="rbk-slider-indicator rbk-text-right"></div>'),this.refresh()},rbk.imgslider.prototype.getImgContainerShell=function(){var t=$("div[class*=rbk-slider-group]",this.dom);return 0==t.length?null:rbk.domToShell(t[0])},rbk.imgslider.prototype.getImgIndicatorShell=function(){var t=$("div[class*=rbk-slider-indicator]",this.dom);return 0==t.length?null:rbk.domToShell(t[0])},rbk.imgslider.prototype.itemRender=function(t,e){return rbk.format(t,e)},rbk.imgslider.prototype.doLayout=function(t){var e=this;if(!$.isArray(t))throw"dataJsonArr必须是数组对象";for(var i=null,r=e.childCmps(),a=0;a<r.length;a++)if("imgslditem"==r[a].ctype&&r[a].tpl()&&rbk.hasInterface(r[a],iTpl)){i=r[a];break}var o="";null==i?o=rbk.imgslditem.prototype.defTplTag:(o=i.dom.outerHTML.toString(),i.removeSelf(),i.dispose(),delete i);var n=e.getImgContainerShell(),s=e.getImgIndicatorShell();$.each(t,function(t,i){var r=null;if(rbk.isEmpty(i.id)||(r=e.down("#"+i.id)),null==r){var a=rbk.domToCmp(n.appendChild(e.itemRender(o,i))[0],"imgslditem");a.tpl(!1),rbk.isEmpty(i.id)||a.id(i.id),a.reStructHtmlTag(),a.raw=i,s.appendChild('<div class="rbk-indicator"></div>')}}),window.setTimeout(function(){e.refresh()},100)},rbk.imgslider.prototype.goto=function(t){rbk.isEmpty(t)&&(t=0);var e=$(this.dom).slider();e&&e.gotoItem(t)},rbk.imgslider.prototype.canLoop=function(){var t=this,e=t.getImgContainerShell();if(!(arguments.length>0))return e.existClass("rbk-slider-loop");e.removeClass("rbk-slider-loop");var i=$("div[class*=rbk-slider-item-duplicate]",e.dom);if($.each(i,function(t,e){var i=rbk.domToShell(e);i.removeSelf()}),arguments[0]){e.setClass("rbk-slider-loop");var r=t.childCmps(!1,"imgslditem");if(0==r.length)return;var a=r[0],o=r[r.length-1],n=rbk.domToShell(e.appendChild(a.dom.outerHTML)[0]);n.setClass("rbk-slider-item-duplicate");var s=rbk.domToShell(e.insertBefore(o.dom.outerHTML)[0]);s.setClass("rbk-slider-item-duplicate")}t.refresh()},rbk.imgslider.prototype.refresh=function(){var t=this;t.goto(0);var e=t.getImgIndicatorShell(),i=$("div[class*=rbk-indicator]",e.dom);i.length>0&&rbk.domToShell(i[0]).setClass("rbk-active")},rbk.imgslider.prototype.auto=function(t){rbk.isEmpty(t)&&(t=3e3),this.refresh(),$(this.dom).slider({interval:t})},rbk.infopanel=function(){},rbk.infopanel.prototype=new rbk.cmp,rbk.infopanel.prototype.defCls="",rbk.infopanel.prototype.roles={color:"rbk-infopanelcolor"},rbk.infopanel.prototype.defHtmlTag='<div class="rbk-infopanel"></div>',rbk.infopanel.prototype.reStructHtmlTag=function(){rbk.cmp.prototype.reStructHtmlTag.call(this)},rbk.list=function(){},rbk.list.prototype=new rbk.cmp,rbk.implInterface(rbk.list,iBindLayoutCmp),rbk.list.prototype.defCls="rbk-table-view",rbk.list.prototype.defHtmlTag='<div class="rbk-list"></div>',rbk.list.prototype.roles={cardlist:"rbk-list rbk-table-view rbk-card",circle:"rbk-list rbk-table-view rbk-circlelist"},rbk.list.prototype.reStructHtmlTag=function(){rbk.cmp.prototype.reStructHtmlTag.call(this)},rbk.list.prototype.itemRender=function(t,e){for(var i=new RegExp("({.*?})","g"),r=t.match(i),a=0;a<r.length;a++){var o=r[a];o=o.replace(/\{/,""),o=o.replace(/\}/,"");var n=new RegExp("({"+o+"})","g"),s=e[o];rbk.isEmpty(s)&&(s=""),t=t.replace(n,s)}return t},rbk.list.prototype.doLayout=function(t){var e=this;if(!$.isArray(t))throw"dataJsonArr必须是数组对象";for(var i=null,r=e.childCmps(),a=0;a<r.length;a++)if("listitem"==r[a].ctype&&r[a].tpl()&&rbk.hasInterface(r[a],iTpl)){i=r[a];break}var o="";null==i?o=rbk.listitem.prototype.defTplTag:(o=i.dom.outerHTML.toString(),i.dispose(),delete i),$.each(t,function(t,i){var r=null;if(rbk.isEmpty(i.id)||(r=e.down("#"+i.id)),null==r){var a=rbk.domToCmp(e.appendChild(e.itemRender(o,i))[0],"listitem");a.tpl(!1),rbk.isEmpty(i.id)||a.id(i.id),a.reStructHtmlTag(),a.raw=i}})},rbk.list.prototype.preItemBindClickFunc=function(t){},rbk.list.prototype.bindItemClick=function(t){$.isFunction(t)&&(this.preItemBindClickFunc=t)},rbk.listitem=function(){},rbk.listitem.prototype=new rbk.cmp,rbk.implInterface(rbk.listitem,iTpl),rbk.listitem.prototype.defCls="rbk-table-view-cell",rbk.listitem.prototype.defHtmlTag='<div class="rbk-listitem"></div>',rbk.listitem.prototype.defTplTag='<div class="rbk-listitem">{text}</div>',rbk.listitem.prototype.roles={twoline:"rbk-table-view-cell"},rbk.listitem.prototype.reStructHtmlTag=function(){rbk.cmp.prototype.reStructHtmlTag.call(this);var t=this,e=rbk.domToCmp(t.dom.parentNode,"list");"twoline"==t.getRoleName()&&(t.dom.innerHTML=rbk.format('<span class="rbk-ellipsis-2">{0}</span>',t.dom.innerHTML)),t.bindClick(function(){rbk.isEmpty(e.preItemBindClickFunc)||e.preItemBindClickFunc(t)}),$(t.dom).bind("touchstart",function(){$(this).addClass("rbk-active")}),$(t.dom).bind("touchend",function(){$(this).removeClass("rbk-active")}),$(t.dom).on("touchmove",function(){$(this).removeClass("rbk-active")})},rbk.navlist=function(){},rbk.navlist.prototype=new rbk.cmp,rbk.implInterface(rbk.navlist,iBindLayoutCmp),rbk.navlist.prototype.defCls="rbk-table-view",rbk.navlist.prototype.defHtmlTag='<div class="rbk-navlist"></div>',rbk.navlist.prototype.roles={cardlist:"rbk-list rbk-table-view rbk-card",imglist:"rbk-list rbk-table-view rbk-imglist"},rbk.navlist.prototype.reStructHtmlTag=function(){rbk.cmp.prototype.reStructHtmlTag.call(this)},rbk.navlist.prototype.itemRender=function(t,e){for(var i=new RegExp("({.*?})","g"),r=t.match(i),a=0;a<r.length;a++){var o=r[a];o=o.replace(/\{/,""),o=o.replace(/\}/,"");var n=new RegExp("({"+o+"})","g"),s=e[o];rbk.isEmpty(s)&&(s=""),t=t.replace(n,s)}return t},rbk.navlist.prototype.doLayout=function(t){var e=this;if(!$.isArray(t))throw"dataJsonArr必须是数组对象";for(var i=null,r=e.childCmps(),a=0;a<r.length;a++)if("navlistitem"==r[a].ctype&&r[a].tpl()&&rbk.hasInterface(r[a],iTpl)){i=r[a];break}var o="";null==i?o=rbk.navlistitem.prototype.defTplTag:(o=i.dom.outerHTML.toString(),i.dispose(),delete i),$.each(t,function(t,i){var r=null;if(rbk.isEmpty(i.id)||(r=e.down("#"+i.id)),null==r){var a=rbk.domToCmp(e.appendChild(e.itemRender(o,i))[0],"navlistitem");a.tpl(!1),rbk.isEmpty(i.id)||a.id(i.id),a.reStructHtmlTag(),a.raw=i}}),rbk.restructDomNavUrl(e.dom)},rbk.navlist.prototype.preItemBindClickFunc=function(t){},rbk.navlist.prototype.bindItemClick=function(t){$.isFunction(t)&&(this.preItemBindClickFunc=t)},rbk.navlistitem=function(){},rbk.navlistitem.prototype=new rbk.cmp,rbk.implInterface(rbk.navlistitem,iTpl),rbk.navlistitem.prototype.defCls="rbk-table-view-cell",rbk.navlistitem.prototype.defHtmlTag='<div class="rbk-navlistitem"></div>',rbk.navlistitem.prototype.defTplTag='<div class="rbk-navlistitem" navurl="{url}">{text}</div>',rbk.navlistitem.prototype.reStructHtmlTag=function(){rbk.cmp.prototype.reStructHtmlTag.call(this);var t=this,e=rbk.domToCmp(t.dom.parentNode,"navlist");if(rbk.isEmpty(e))throw"navlistitem组件必须在navlist下";if(0==$('a[class*="rbk-navigate-right"]',this.dom).length){var i=this.dom.innerHTML.toString();this.removeAll(),this.appendChild('<a class="rbk-navigate-right">'+i+"</a>")}t.bindClick(function(){rbk.isEmpty(e.preItemBindClickFunc)||e.preItemBindClickFunc(t)}),$(t.dom).bind("touchstart",function(){$(this).addClass("rbk-active")}),$(t.dom).bind("touchend",function(){$(this).removeClass("rbk-active")}),$(t.dom).on("touchmove",function(){$(this).removeClass("rbk-active")})},rbk.openbox=function(){},rbk.openbox.prototype=new rbk.cmp,rbk.openbox.prototype.defCls="",rbk.openbox.prototype.defHtmlTag='<div class="rbk-openbox"></div>',rbk.openbox.prototype.roles={},rbk.openbox.prototype.reStructHtmlTag=function(){rbk.cmp.prototype.reStructHtmlTag.call(this);var t=this,e=t.attr("text"),i=$(t.dom).find(".showbox");i.append("<span class='openboxbtn'>"+e+"</span>");var r=14*e.length+30;i.css("padding-right",r),i.find(".openboxbtn").on("click",function(){$(t.dom).toggleClass("active")})},rbk.platform={getPlatform:function(){var t=navigator.userAgent.toLowerCase(),e={platform:"other",version:"1.0"};return t.indexOf("rubikui")!=-1&&(e={platform:"native",version:"1.0"}),e},callPlugin:function(t,e,i,r){var a=new Object;if(a.plugin=t,a.method=e,rbk.isNotEmpty(i)&&(a.params=i),rbk.isNotEmpty(r)){var o=rbk.guid_();window[o]=r,a.callback=o}var n=JSON.stringify(a),s=document.createElement("iframe");document.body.appendChild(s),s.style.display="none",s.src="rubik-x:"+encodeURI(n,"utf-8"),setTimeout(function(){s.parentNode.removeChild(s)},0)},ajax:function(t){var e={timeout:5e4,type:"GET",dataType:"json"};if(e=rbk.applyJson({},t,e),rbk.isNotEmpty(obj.success)||rbk.isNotEmpty(obj.error)){var i=t.callback;t.callback=function(t){200==t.R&&t.alert_status&&rbk.isNotEmpty(obj.success)?obj.success.call(obj.success,t.data):200!=t.R&&rbk.isNotEmpty(obj.error)&&obj.error.call(obj.error,t.msg),rbk.isNotEmpty(i)&&i.call(i,t)}}rbk.platform.callPlugin("AppBasicPlugins","PluginNetworkArrayArgu",e,callBack)},loadingDialogShow:function(t){rbk.platform.callPlugin("ReactPlugins","PluginLoadingDialogShowArrayArgu",null,t)},loadingDialogDismiss:function(t){rbk.platform.callPlugin("ReactPlugins","PluginLoadingDialogDismissArrayArgu",null,t)},alertDialogConfirmShow:function(t,e,i,r){var a={title:t,content:e,button:i};rbk.platform.callPlugin("ReactPlugins","PluginAlertDialogConfirmShowArrayArgu",a,r)},alertDialogSelectBoxShow:function(t){var e={title:"提示",content:"您确认？",left_button:"确认",right_button:"取消"};if(e=rbk.applyJson({},t,e),rbk.isNotEmpty(t.callBackLeft)||rbk.isNotEmpty(t.callBackRight)){var i=e.callback;e.callback=function(e){200==e.R&&e.alert_status&&rbk.isNotEmpty(t.callBackLeft)?t.callBackLeft.call(t.callBackLeft):200==e.R&&rbk.isNotEmpty(t.callBackRight)&&t.callBackRight.call(t.callBackRight),rbk.isNotEmpty(i)&&i.call(i,e)}}rbk.platform.callPlugin("ReactPlugins","PluginAlertDialogSelectBoxShowArrayArgu",e,e.callback)},QRCodeScanning:function(t,e){"native"==rbk.platform.getPlatform().platform?rbk.platform.callPlugin("NativeFunctionPlugins","PluginQRCodeScanningArrayArgu",null,t):"weixin"==rbk.platform.getPlatform().platform&&e&&(wx.config({debug:!1,appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:["scanQRCode"]}),wx.ready(function(){t?wx.scanQRCode({needResult:1,desc:"scanQRCode desc",success:t}):wx.scanQRCode()}))},accessCamera:function(t){rbk.platform.callPlugin("NativeFunctionPlugins","PluginAccessCameraArgu",null,t)},accessGallery:function(t){rbk.platform.callPlugin("NativeFunctionPlugins","PluginAccessGalleryArgu",null,t)},dateSelector:function(t,e){e=e?e:"",rbk.platform.callPlugin("NativeFunctionPlugins","PluginDateSelectorArrayArgu",{date:e},t)},timeSelector:function(t,e){e=e?e:"",rbk.platform.callPlugin("NativeFunctionPlugins","PluginTimeSelectorArrayArgu",{time:e},t)},goBack:function(t){rbk.platform.callPlugin("NativeFunctionPlugins","PluginGoBackArgu",null,t)},goHome:function(t){rbk.platform.callPlugin("NativeFunctionPlugins","PluginGoHomeArgu",null,t)},closeWebView:function(t){rbk.platform.callPlugin("NativeFunctionPlugins","PluginCloseWebViewArrayArgu",null,t)},getClientType:function(t){rbk.platform.callPlugin("NativeFunctionPlugins","PluginGetClientTypeArrayArgu",null,t)},getUserOpenID:function(t){rbk.platform.callPlugin("AppBasicPlugins","PluginGetUserOpenIDArrayArgu",null,t)},titleBar:function(t,e){if("native"==rbk.platform.getPlatform().platform){if(rbk.isNotEmpty(t.rightList))for(var i=0;i<t.rightList.length;i++){var r=rbk.guid_();window[r]=t.rightList[i].callback,t.rightList[i].callback=r}rbk.platform.callPlugin("AppBasicPlugins","PluginTitleBarArgu",t,e)}},WXPay:function(t){if("native"==rbk.platform.getPlatform().platform){var e={prepayid:"",noncestr:"",appid:"",package:"",partnerid:"",timestamp:"",sign:""};e=rbk.applyJson({},t,e),e.callBack=function(e){200==e.R&&0==e.code?t.callBackSuccess.call(t.callBackSuccess):200==e.R&&e.code==-1?t.callBackFail.call(t.callBackFail):200==e.R&&e.code==-2?t.callBackCancel.call(t.callBackCancel):200==e.R&&100==e.code?t.NotInstalled.call(t.NotInstalled):200==e.R&&101==e.code&&t.NotRegisted.call(t.NotRegisted)},rbk.platform.callPlugin("AppBasicPlugins","PluginWXPayArrayArgu",e,e.callBack)}else"weixin"==rbk.platform.getPlatform().platform&&WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:t.appId,timeStamp:t.timeStamp,nonceStr:t.nonceStr,package:t.package,signType:t.signType,paySign:t.paySign},function(e){"get_brand_wcpay_request：ok"==e.err_msg?t.callBackSuccess.call(t.callBackSuccess):"get_brand_wcpay_request：fail"==e.err_msg?t.callBackFail.call(t.callBackFail):"get_brand_wcpay_request：cancel"==e.err_msg&&t.callBackCancel.call(t.callBackCancel)})},aliPay:function(t){if("native"==rbk.platform.getPlatform().platform){var e={sign:""};e=rbk.applyJson({},t,e),e.callBack=function(e){200==e.R&&0==e.code?t.callBackSuccess.call(t.callBackSuccess):200==e.R&&e.code==-1?t.callBackFail.call(t.callBackFail):200==e.R&&1==e.code&&t.callBackCancel.call(t.callDoing)},rbk.platform.callPlugin("AppBasicPlugins","PluginAliPayArrayArgu",e,e.callBack)}else{var e={_input_charset:"",sign:"",body:"",it_b_pay:"",total_fee:"",subject:"",service:"",notify_url:"",show_url:"",seller_id:"",partner:"",out_trade_no:"",payment_type:"",return_url:"",sign_type:""};e=rbk.applyJson({},t,e);var i='<form id="alipay" name="alipay" action="https://mapi.alipay.com/gateway.do?_input_charset=UTF-8" method="get">';$.each(e,function(t,e){rbk.isNotEmpty(e)&&(i+='<input type="hidden" id="'+t+'" name="'+t+'" value="'+e+'"/>')}),i+="</form>",$("body").append(i),document.forms.alipay.submit()}}},window.alert=function(t,e){if("native"==rbk.platform.getPlatform().platform)if(rbk.isEmpty(e))rbk.platform.alertDialogConfirmShow("提示",t,"确认");else{var i={title:"提示",content:t,button:"确认"};rbk.platform.callPlugin("ReactPlugins","PluginAlertDialogConfirmShowArrayArgu",i,e)}else{var r="object"==typeof t&&"[object object]"==Object.prototype.toString.call(t).toLowerCase()&&!t.length;if(r)var t=JSON.stringify(t);rbk.isEmpty(e)?rbklayer.open({title:"提示",btn:["确定"],shadeClose:!1,content:t}):rbklayer.open({title:"提示",btn:["确定"],content:t,shadeClose:!1,yes:function(){rbklayer.closeAll(),e()}})}},window.myAlert=function(t,e){if("native"==rbk.platform.getPlatform().platform)if(rbk.isEmpty(e))rbk.platform.alertDialogConfirmShow("提示",t,"确认");else{var i={title:"提示",content:t,button:"确认"};rbk.platform.callPlugin("ReactPlugins","PluginAlertDialogConfirmShowArrayArgu",i,e)}else{var r="object"==typeof t&&"[object object]"==Object.prototype.toString.call(t).toLowerCase()&&!t.length;if(r)var t=JSON.stringify(t);rbk.isEmpty(e)?rbklayer.open({title:"提示",btn:["确定"],shadeClose:!1,content:t}):rbklayer.open({title:"提示",btn:["确定"],content:t,shadeClose:!1,yes:function(){rbklayer.closeAll(),e()}})}},window.confirm=function(t,e){if("native"==rbk.platform.getPlatform().platform)rbk.platform.alertDialogSelectBoxShow({title:"提示",content:t,left_button:"确认",right_button:"取消",callBackLeft:e});else{var i="object"==typeof t&&"[object object]"==Object.prototype.toString.call(t).toLowerCase()&&!t.length;if(i)var t=JSON.stringify(t);$.isFunction(e)&&rbklayer.open({title:"提示",btn:["确定","取消"],content:t,shadeClose:!1,yes:function(){rbklayer.closeAll(),e()}})}},window.load=function(t){if("native"==rbk.platform.getPlatform().platform)rbk.platform.loadingDialogShow();else{var e={type:2,shadeClose:!1};if(t)for(var i in t)e[i]=t[i];rbklayer.open(e)}},window.loadClose=function(){"native"==rbk.platform.getPlatform().platform?rbk.platform.loadingDialogDismiss():rbklayer.closeAll()},rbk.radio=function(){},rbk.radio.prototype=new rbk.cmp,rbk.radio.prototype.defCls="rbk-input-row rbk-radio rbk-left",rbk.radio.prototype.defHtmlTag='<div class="rbk-radio"></div>',rbk.radio.prototype.reStructHtmlTag=function(){rbk.cmp.prototype.reStructHtmlTag.call(this);var t=this;if(0==$("label",this.dom).length){var e=document.createElement("label");e.innerText="",this.dom.appendChild(e)}if(0==$("input[type=radio]",this.dom).length){var i=document.createElement("input");i.type="radio","checked"==t.attr("checked")&&i.setAttribute("checked","checked"),t.attr("name")&&i.setAttribute("name",t.attr("name")),t.attr("value")&&i.setAttribute("value",t.attr("value")),$("label",this.dom)[0].appendChild(i)}t.attr("direct")&&t.direct(t.attr("direct")),t.bindClick(function(){window.setTimeout(function(){t.checked(!0)})})},rbk.radio.prototype.getInputShell=function(){return rbk.domToShell($("input",this.dom)[0])},rbk.radio.prototype.checked=function(){var t=rbk.domToShell($("input",this.dom)[0]);return arguments.length>0&&(t.dom.checked=arguments[0]),t.dom.checked},rbk.radio.prototype.direct=function(){return arguments.length>0?(("left"==arguments[0]&&!this.dom.classList.contains("rbk-left")||"left"!=arguments[0]&&this.dom.classList.contains("rbk-left"))&&this.dom.classList.toggle("rbk-left"),"left"==arguments[0]):this.dom.classList.contains("rbk-left")?"left":"right"},rbk.request={defOptions:{timeout:5e4,type:"POST",dataType:"jsonp"},reg:function(t,e,i,r){if(!rbk.isEmpty(rbk.request[t]))throw rbk.format("请求映射名{0}已经存在",t);rbk.request[t]=function(t){rbk.platform.loadingDialogShow();var a={};rbk.applyJson(a,i,rbk.request.defOptions);rbk.applyJson(r,t);$.ajax(e,{data:t.data,dataType:a.dataType,timeout:a.timeout,type:a.type,beforeSend:function(t){if(rbk.isNotEmpty(a.header))for(var e in a.header)t.setRequestHeader(e,a.header[e])},success:function(e){rbk.platform.loadingDialogDismiss(),$.isFunction(t.success)&&t.success.call(t,e)},error:function(e,i,r){rbk.platform.loadingDialogDismiss(),$.isFunction(t.error)&&t.error.call(t,e,i,r)}})}}},rbk.scroll=function(){},rbk.scroll.prototype=new rbk.cmp,rbk.implInterface(rbk.scroll,iBindLayoutCmp),rbk.scroll.prototype.defCls="",rbk.scroll.prototype.defHtmlTag='<div class="rbk-scroll"></div>';var myScroll;rbk.scroll.prototype.reStructHtmlTag=function(){document.ontouchmove=function(t){t.preventDefault()},myScroll=new IScroll(".rbk-scroll",{probeType:3,mouseWheel:!0,preventDefault:!1}),setTimeout(function(){myScroll.refresh()})},rbk.scroll.prototype.scrollDown=function(t,e){var i=this,r=i.dom.childNodes;rbk.isEmpty(e)?$(r).prepend('<div class="scroller-pullDown"><span class="pull-down-msg">下拉刷新</span></div>'):$(r).prepend('<div class="scroller-pullDown" text="'+e+'"><span class="pull-down-msg">'+e+"</span></div>");var a=$(i.dom).find(".scroller-pullDown");myScroll.on("scroll",function(){if(rbk.isEmpty(a.attr("end"))){var t=this.y,e=(this.maxScrollY-t,a.hasClass("reverse_icon"));if(t>=60)return!e&&a.addClass("reverse_icon"),"";if(t<60&&t>0)return e&&a.removeClass("reverse_icon"),""}}),myScroll.on("slideDown",function(){rbk.isEmpty(a.attr("end"))&&this.y>60&&(a.find(".pull-down-msg").html("加载中..."),a.addClass("loading"),a.removeClass("reverse_icon"),$.isFunction(t)&&t())})},rbk.scroll.prototype.scrollDownEnd=function(t){var e=this,i=$(e.dom).find(".scroller-pullDown");rbk.isNotEmpty(i)&&(i.attr("end",!0),i.addClass("scrollend"),rbk.isEmpty(t)?i.html("无更多内容"):i.html(t))},rbk.scroll.prototype.scrollUp=function(t,e){var i=this,r=i.dom.childNodes;rbk.isEmpty(e)?$(r).append('<div class="scroller-pullUp"><span class="pull-up-msg">上拉刷新</span></div>'):$(r).append('<div class="scroller-pullUp" text="'+e+'"><span class="pull-up-msg">'+e+"</span></div>");var a=$(i.dom).find(".scroller-pullUp");myScroll.on("scroll",function(){if(rbk.isEmpty(a.attr("end"))){var t=this.y,e=this.maxScrollY-t,i=a.hasClass("reverse_icon");if(e>=60)return!i&&a.addClass("reverse_icon"),"";if(e<60&&e>=0)return i&&a.removeClass("reverse_icon"),""}}),myScroll.on("slideUp",function(){rbk.isEmpty(a.attr("end"))&&this.maxScrollY-this.y>60&&(a.find(".pull-up-msg").html("加载中..."),a.addClass("loading"),a.removeClass("reverse_icon"),$.isFunction(t)&&t())})},rbk.scroll.prototype.scrollUpEnd=function(t){var e=this,i=$(e.dom).find(".scroller-pullUp");rbk.isNotEmpty(i)&&(i.attr("end",!0),i.addClass("scrollend"),rbk.isEmpty(t)?i.html("无更多内容"):i.html(t))},rbk.scroll.prototype.refresh=function(){var t=this;if($(t.dom).find(".scroller-pullUp")){var e=$(t.dom).find(".scroller-pullUp");e.removeClass("loading"),rbk.isEmpty(e.attr("text"))?e.find(".pull-up-msg").html("上拉刷新"):e.find(".pull-up-msg").html(e.attr("text"))}if($(t.dom).find(".scroller-pullDown")){var i=$(t.dom).find(".scroller-pullDown");i.removeClass("loading"),rbk.isEmpty(i.attr("text"))?i.find(".pull-down-msg").html("下拉刷新"):i.find(".pull-down-msg").html(i.attr("text"))}myScroll.refresh()},rbk.search=function(){},rbk.search.prototype=new rbk.cmp,rbk.search.prototype.defCls="",rbk.search.prototype.defHtmlTag='<div class="rbk-search"></div>',rbk.search.prototype.reStructHtmlTag=function(){rbk.cmp.prototype.reStructHtmlTag.call(this);var t=this,e=t.attr("placeholder")?t.attr("placeholder"):"",i=Math.floor(e.replace(/[^\x00-\xff]/g,"**").length/2);t.attr("psize",i),t.add('<input class="rbk-searchinput" type="text" value="" placeholder="'+e+'">');var r=$("input[type=text]",t.dom);r.focus(function(){$(t.dom).addClass("rbk-focus"),$(t.dom).removeClass("rbk-hasv")}),r.blur(function(){$(t.dom).removeClass("rbk-focus");var e=r.val();""!=e&&$(t.dom).addClass("rbk-hasv")}),t.add('<span class="icon-xx"></span>'),$(".icon-xx",t.dom).on("tap",function(){$(t.dom).removeClass("rbk-focus").removeClass("rbk-hasv"),r.val(""),r.blur(),r.attr("disabled","disabled").css("opacity","1"),setTimeout(function(){r.removeAttr("disabled")},300)})},rbk.search.prototype.onChange=function(t){var e=this,i=!1,r=$("input[type=text]",e.dom);r.on({input:function(){i||t(r)},propertychange:function(){i||t(r)},compositionstart:function(){i=!0},compositionend:function(){i=!1}}),$(".icon-xx",e.dom).on("tap",function(){t(r)})},rbk.select=function(){},rbk.select.prototype=new rbk.cmp,rbk.select.prototype.defCls="rbk-btn",rbk.select.prototype.defHtmlTag='<div class="rbk-select"></div>',rbk.select.prototype.picker=null,rbk.select.prototype.init=function(){var t=this;t.text("请选择"),$(t.dom).attr("id",rbk.guid),rbk.cmp.prototype.init.call(this);var e='<div class="rbk-poppicker" v="'+$(t.dom).attr("id")+'"><div class="rbk-poppicker-header"><button class="rbk-btn rbk-poppicker-btn-cancel"></button><button class="rbk-btn rbk-poppicker-btn-ok">完成</button><div class="rbk-poppicker-clear"></div></div><div class="rbk-poppicker-body"></div></div>';$("body").append(e);var i=$(".rbk-poppicker[v="+$(t.dom).attr("id")+"]"),r='<div class="rbk-backdrop" v="'+$(t.dom).attr("id")+'"></div>';$("body").append(r);var a=$(".rbk-backdrop[v="+$(t.dom).attr("id")+"]");a.hide();$(t.dom).bind("tap",function(){$(":focus").blur();var e=$(window).height();$("body").css("overflow","hidden").css("height",e),i.addClass("rbk-active"),a.show();var r=t.getVal();if(r)for(var o=$("[v="+$(t.dom).attr("id")+"] .rbk-poppicker-body .rbk-list .rbk-listitem"),n=0;n<o.size();n++)$(o[n]).attr("value")==r.value&&($(o[n]).addClass("rbk-active"),$(o[n]).siblings().removeClass("rbk-active"));else $($("[v="+$(t.dom).attr("id")+"] .rbk-poppicker-body .rbk-list .rbk-listitem")[0]).addClass("rbk-active")}),$("[v="+$(t.dom).attr("id")+"] .rbk-poppicker-btn-cancel").bind("tap",function(){i.removeClass("rbk-active"),setTimeout(function(){a.hide()},200),$("body").css("overflow","auto").css("height","auto")}),$("[v="+$(t.dom).attr("id")+"] .rbk-poppicker-btn-ok").bind("tap",function(){var e=$("[v="+$(t.dom).attr("id")+"] .rbk-poppicker-body .rbk-list .rbk-listitem.rbk-active")[0];e&&(t.text($(e).html()),i.removeClass("rbk-active"),setTimeout(function(){a.hide()},200),$("body").css("overflow","auto").css("height","auto"),t.raw={text:$(e).html(),value:$(e).attr("value")})}),a.bind("tap",function(){i.removeClass("rbk-active"),setTimeout(function(){a.hide()},200),$("body").css("overflow","auto").css("height","auto")}),$("[v="+$(t.dom).attr("id")+"] .rbk-poppicker-body").append('<div class="rbk-list"></div>')},rbk.select.prototype.reStructHtmlTag=function(){var t=this;rbk.cmp.prototype.reStructHtmlTag.call(this);var e=$("span[class*=rbk-icon]",this.dom);0!=e.length&&rbk.domToShell(e[0]).removeSelf();var i=rbk.domToShell(t.appendChild('<span class="rbk-icon rbk-pull-right"><span>')[0]);i.setClass("rbk-icon-arrowdown")},rbk.select.prototype.bindClick=function(t){},rbk.select.prototype.raw=null,rbk.select.prototype.getVal=function(){return this.raw},rbk.select.prototype.setVal=function(t){this.raw=t,rbk.isEmpty(this.raw)?this.text(""):this.text(this.raw.text)},rbk.select.prototype.bindData=function(t){for(var e=$(this.dom).attr("id"),i=$("[v="+e+"] .rbk-poppicker-body .rbk-list"),r=0;r<t.length;r++)i.append('<div class="rbk-listitem" value="'+t[r].value+'">'+t[r].text+"</div>");$(".rbk-poppicker-body .rbk-list .rbk-listitem").bind("tap",function(){$(this).addClass("rbk-active"),$(this).siblings().removeClass("rbk-active")})},rbk.shrinkpanel=function(){},rbk.shrinkpanel.prototype=new rbk.cmp,rbk.shrinkpanel.prototype.defCls="rbk-yyxz rbk-list rbk-table-view rbk-card",rbk.shrinkpanel.prototype.roles={noshrink:"rbk-yyxz rbk-list rbk-table-view rbk-card noshrink"},rbk.shrinkpanel.prototype.defHtmlTag='<div class="rbk-shrinkpanel"></div>',rbk.shrinkpanel.prototype.reStructHtmlTag=function(){rbk.cmp.prototype.reStructHtmlTag.call(this);var t=this;if(!rbk.isNotEmpty($(t.dom).attr("text")))throw"找不到title名称";if($(t.dom).hasClass("noshrink")?t.add('<div class="rbk-subtitle"><span class="icon-book1"></span>'+$(t.dom).attr("text")+"</div>"):t.add('<div class="rbk-subtitle">'+$(t.dom).attr("text")+'<button class="rbk-btn rbk-pull-right rbk-btn-yyxz" rbk-role="mini">展开</button></div>'),!rbk.isNotEmpty($(t.dom).find(".rbk-panelcontent").html()))throw"panel无内容";var e=$(t.dom).find(".rbk-panelcontent").html();$(t.dom).find(".rbk-panelcontent").remove(),t.add('<div class="rbk-yymodelinfo rbk-listitem"><div>'+e+"</div></div>"),$(t.dom).find(".rbk-btn-yyxz").on("tap",function(){$(this).toggleClass("rbk-active"),
$(this).text("展开"==$(this).text()?"收起":"展开"),$(t.dom).find(".rbk-listitem").toggleClass("rbk-yymodelinfo")})},rbk.star=function(){},rbk.star.prototype=new rbk.cmp,rbk.star.prototype.defCls="",rbk.star.prototype.defHtmlTag='<div class="rbk-star"></div>',rbk.star.prototype.reStructHtmlTag=function(){rbk.cmp.prototype.reStructHtmlTag.call(this);var t=this;if(rbk.isNotEmpty(t.attr("label"))&&rbk.isNotEmpty(t.attr("max"))){var e=t.attr("label"),i=t.attr("max");t.add("<label>"+e+"</label>");for(var r='<div class="rbk-starlist">',a=0;a<i;a++)r+='<span class="icon-star star'+a+'" v="'+a+'"></span>';r+="</div>",t.add(r),$(t.dom).on("tap",".icon-star",function(){var e=parseInt($(this).attr("v"))+1;$(t.dom).attr("step",e)})}},rbk.star.prototype.getVal=function(){var t=this;return t.attr("step")},rbk.subtitle=function(){},rbk.subtitle.prototype=new rbk.cmp,rbk.subtitle.prototype.defCls="rbk-table-view-divider",rbk.subtitle.prototype.defHtmlTag='<div class="rbk-subtitle"></div>',rbk.subtitle.prototype.roles={leftcolor:"rbk-table-view-divider rbk-leftcolor"},rbk.subtitle.prototype.reStructHtmlTag=function(){rbk.cmp.prototype.reStructHtmlTag.call(this);var t=this;if($(t.dom).hasClass("rbk-leftcolor")&&""!=$(t.dom).html()){var e=$(t.dom).html();$(t.dom).html('<span class="rbk-subspan">'+e+"</span>")}},rbk.switcher=function(){},rbk.switcher.prototype=new rbk.cmp,rbk.switcher.prototype.defCls="rbk-switch rbk-switch-blue",rbk.switcher.prototype.defHtmlTag='<div class="rbk-switcher"></div>',rbk.switcher.prototype.roles={greenmini:"rbk-switch rbk-switch-green rbk-switch-mini"},rbk.switcher.prototype.init=function(){var t=this;rbk.cmp.prototype.init.call(this),t.tapChangeCallback=function(){t.toggleClass("rbk-active"),t.changeCallback&&t.changeCallback(t)},$(t.dom).bind("tap",t.tapChangeCallback)},rbk.switcher.prototype.reStructHtmlTag=function(){if(rbk.cmp.prototype.reStructHtmlTag.call(this),0==$("div[class=rbk-switch-handle]",this.dom).length){var t=document.createElement("div");t.setAttribute("class","rbk-switch-handle"),this.dom.appendChild(t)}},rbk.switcher.prototype.tapChangeCallback=null,rbk.switcher.prototype.changeCallback=null,rbk.switcher.prototype.bindChange=function(t){this.changeCallback=t},rbk.switcher.prototype.switch=function(){var t=this;if(arguments.length>0){var e=t.switch(),i=arguments[0];i&&!e?(t.setClass("rbk-active"),t.changeCallback&&t.changeCallback(t)):!i&&e&&(t.removeClass("rbk-active"),t.changeCallback&&t.changeCallback(t))}return this.existClass("rbk-active")},rbk.switcher.prototype.dispose=function(){this.dom.removeEventListener("tap",this.tapChangeCallback),rbk.cmp.prototype.dispose.call(this)},rbk.tab=function(){},rbk.tab.prototype=new rbk.cmp,rbk.tab.prototype.defCls="",rbk.tab.prototype.defHtmlTag='<div class="rbk-tab"></div>',rbk.tab.prototype.roles={floortab:"rbk-tab rbk-floortab",datetab:"rbk-tab rbk-datetab",dragtab:"rbk-tab swiper-container"},rbk.tab.prototype.reStructHtmlTag=function(){rbk.cmp.prototype.reStructHtmlTag.call(this);var t=this,e=t.childCmps(!0,"tabitem"),i=t.getTabHeaderShell(),r=t.getTabContentShell();if($.each(e,function(e,a){if(a.tpl())return void rbk.clearAllObjRef(a.dom);rbk.isEmpty(a.id())&&a.id(rbk.guid());var o=i.appendChild(rbk.format('<a class="rbk-control-item {active}" hrefs="#{id}"><span>{text}</span></a>',{id:a.id(),text:a.text(),active:0==e?"rbk-active":""}))[0],n=rbk.domToShell(o);n.bindClick(function(e){if(!$(t.dom).hasClass("swiper-container")){var i=e.attr("hrefs"),r=i.substring(1,i.length);t.tabSelChangeCallback(t.down("#"+r));var a=$(e.dom);a.addClass("rbk-active"),a.siblings().removeClass("rbk-active");var o=a.attr("hrefs").split("#")[1];$("#"+o).addClass("rbk-active"),$("#"+o).siblings().removeClass("rbk-active")}}),rbk.clearAllObjRef(a.dom);var s=a.dom.outerHTML.toString();a.removeSelf(),a.dispose(),delete a;var l=rbk.domToCmp(r.appendChild(s)[0],"tabitem");l.reStructHtmlTag(),rbk.reStructHtmlTag(l.dom),rbk.restructDomNavUrl(l.dom),0==e?l.setClass("rbk-active"):l.removeClass("rbk-active")}),$(t.dom).hasClass("rbk-floortab")){var a=$(window).height();if("native"==rbk.platform.getPlatform().platform?($(t.dom).css("height",a),$(t.dom).find(".rbk-segmented-control").css("height",a),$(t.dom).find(".rbk-content-padded").css("height",a)):($(t.dom).css("height",a-44),$(t.dom).find(".rbk-segmented-control").css("height",a-44),$(t.dom).find(".rbk-content-padded").css("height",a-44).css("top","44px")),"undefined"!=typeof $(t.dom).attr("logwidth")){var o=$(t.dom).attr("logwidth");""!=o&&o>25&&o<75&&($(t.dom).find(".rbk-segmented-control").css("width",o+"%"),$(t.dom).find(".rbk-content-padded").css("width",100-o+"%"),o>35&&$(t.dom).addClass("leftside"))}}if($(t.dom).hasClass("rbk-datetab")&&$(t.dom).find(".rbk-control-item ").size()>7&&$(t.dom).addClass("mosttab"),$(t.dom).hasClass("swiper-container")){$(".rbk-tabitem",t.dom).css("min-height",$(window).height()-110);var n=0;$(t.dom).find(".rbk-content-padded").addClass("swiper-wrapper"),$(t.dom).find(".rbk-content-padded>div").each(function(t){var e=t+1;$(this).removeClass("rbk-control-content").addClass("swiper-slide").addClass("slide"+e),n++}),n>3&&$(t.dom).addClass("mosttab"),setTimeout(function(){var e=new Swiper(t.dom,{speed:200,autoHeight:!0,onSlideNextStart:function(t){var e=t.activeIndex,i=$(window).width()/4;$($(".rbk-control-item")[e]).addClass("rbk-active").siblings(".rbk-control-item").removeClass("rbk-active"),$(".rbk-segmented-control",this.dom).scrollLeft($(".rbk-segmented-control",this.dom)[0].scrollLeft+i)},onSlidePrevStart:function(t){var e=t.activeIndex,i=$(window).width()/4;$($(".rbk-control-item")[e]).addClass("rbk-active").siblings(".rbk-control-item").removeClass("rbk-active"),$(".rbk-segmented-control",this.dom).scrollLeft($(".rbk-segmented-control",this.dom)[0].scrollLeft-i)}});$(t.dom).find(".rbk-control-item").each(function(t){var i=!0;$(this).on("touchmove",function(){i=!1}),$(this).on("touchend",function(){setTimeout(function(){i=!0},3e3)}),$(this).on("tap",function(){if(i){var r=e.activeIndex;e.slideTo(t,200,!1),$(this).addClass("rbk-active").siblings(".rbk-control-item").removeClass("rbk-active");var a=e.activeIndex,o=(a-r)*$(window).width()/4;$(".rbk-segmented-control",this.dom).scrollLeft($(".rbk-segmented-control",this.dom)[0].scrollLeft+o)}})})})}},rbk.tab.prototype.getTabHeaderShell=function(){var t=this,e=$("div[class*=rbk-segmented-control]",t.dom);return 0==e.length&&(e=t.insertBefore('<div class="rbk-segmented-control"></div>')),rbk.domToShell(e[0])},rbk.tab.prototype.getTabContentShell=function(){var t=this,e=$("div[class*=rbk-content-padded]",t.dom);return 0==e.length&&(e=t.appendChild('<div class="rbk-content-padded"></div>')),rbk.domToShell(e[0])},rbk.tab.prototype.itemRender=function(t,e){return rbk.format(t,e)},rbk.tab.prototype.doLayout=function(t){var e=this;if(!$.isArray(t))throw"dataJsonArr必须是数组对象";for(var i=e.getTabHeaderShell(),r=e.getTabContentShell(),a=null,o=e.childCmps(),n=0;n<o.length;n++)if(o[n].tpl()){a=o[n];break}var s="";null==a?s=rbk.tabitem.prototype.defTplTag:($(e.dom).addClass("rbk-ht"),s=a.dom.outerHTML.toString(),a.removeSelf(),a.dispose(),delete a);e.childCmps(!1,"tabitem");if($.each(t,function(t,a){var o=null;if(rbk.isEmpty(a.id)&&(a.id=rbk.guid()),o=e.down("#"+a.id),null==o){var n=rbk.domToCmp(r.appendChild(e.itemRender(s,a))[0],"tabitem");n.tpl(!1),n.reStructHtmlTag(),n.id(a.id),n.raw=a;var l=i.appendChild(rbk.format('<a class="rbk-control-item" hrefs="#{id}"><span>{text}</span></a>',{id:a.id,text:a.text}))[0],d=rbk.domToShell(l);if(d.bindClick(function(t){if(!$(e.dom).hasClass("swiper-container")){var i=t.attr("hrefs"),r=i.substring(1,i.length);e.tabSelChangeCallback(e.down("#"+r));var a=$(t.dom);a.addClass("rbk-active"),a.siblings().removeClass("rbk-active");var o=a.attr("hrefs").split("#")[1];$("#"+o).addClass("rbk-active"),$("#"+o).siblings().removeClass("rbk-active")}}),rbk.isCtype(a.cldCtype)){var p=n.down(a.cldCtype);if(null==p){var p=rbk.createCmpObj(a.cldCtype);if(p.dom=n.appendChild(p.defHtmlTag)[0],p.reStructHtmlTag(),rbk.setObjRef(p),!rbk.hasInterface(p,iBindLayoutCmp))return}if(!rbk.hasInterface(p,iBindLayoutCmp))return;p.doLayout(a.data),e.goto(0)}}}),$(e.dom).hasClass("rbk-datetab")&&t.length>7&&$(e.dom).addClass("mosttab"),$(e.dom).hasClass("swiper-container")){$(".rbk-tabitem",e.dom).css("min-height",$(window).height()-110);var l=0;$(e.dom).find(".rbk-content-padded").addClass("swiper-wrapper"),$(e.dom).find(".rbk-content-padded>div").each(function(t){var e=t+1;$(this).removeClass("rbk-control-content").addClass("swiper-slide").addClass("slide"+e),l++}),l>3&&$(e.dom).addClass("mosttab"),setTimeout(function(){new Swiper(e.dom,{speed:200,autoHeight:!0,onSlideNextStart:function(t){var e=t.activeIndex,i=$(window).width()/4;$($(".rbk-control-item")[e]).addClass("rbk-active").siblings(".rbk-control-item").removeClass("rbk-active"),$(".rbk-segmented-control",this.dom).scrollLeft($(".rbk-segmented-control",this.dom)[0].scrollLeft+i)},onSlidePrevStart:function(t){var e=t.activeIndex,i=$(window).width()/4;$($(".rbk-control-item")[e]).addClass("rbk-active").siblings(".rbk-control-item").removeClass("rbk-active"),$(".rbk-segmented-control",this.dom).scrollLeft($(".rbk-segmented-control",this.dom)[0].scrollLeft-i)}})})}},rbk.tab.prototype.goto=function(t){var e=this;$.each(this.childCmps(!1,"tabitem"),function(i,r){var a=rbk.domToShell($('a[hrefs="#'+r.id()+'"]',e.dom)[0]);t==i?(r.setClass("rbk-active"),a.setClass("rbk-active"),e.tabSelChangeCallback(r)):(r.removeClass("rbk-active"),a.removeClass("rbk-active"))})},rbk.tab.prototype.onChange=function(t){var e=this;$(e.dom).find(".rbk-control-item").each(function(i){var r=rbk.domToCmp($(e.dom).find(".rbk-tabitem")[i]).down("list");rbk.isEmpty(r)&&(r=rbk.domToCmp($(e.dom).find(".rbk-tabitem")[i]).down("navlist")),$(this).on("tap",function(){t(i,r)})})},rbk.tab.prototype.bindItemClick=function(t){var e=this,i=$(e.dom).hasClass("rbk-ht");$(e.dom).find(".rbk-tabitem").each(function(e,r){var a=rbk.domToCmp(r).down("list");if(rbk.isEmpty(a)){if(a=rbk.domToCmp(r).down("navlist"),rbk.isEmpty(a))return;if(i)return void $(a.dom).on("tap",".rbk-navlistitem",function(){t(rbk.domToCmp(this))})}a.bindItemClick(t)})},rbk.tab.prototype.tabSelChangeCallback=function(){},rbk.tabitem=function(){},rbk.tabitem.prototype=new rbk.cmp,rbk.implInterface(rbk.tabitem,iTpl),rbk.tabitem.prototype.defCls="rbk-control-content",rbk.tabitem.prototype.defHtmlTag='<div class="rbk-tabitem"></div>',rbk.tabitem.prototype.defTplTag='<div class="rbk-tabitem" text="{text}"></div>',rbk.tabitem.prototype.reStructHtmlTag=function(){rbk.cmp.prototype.reStructHtmlTag.call(this)},rbk.tabitem.prototype.getTab=function(){return this.up("tab")},rbk.tabitem.prototype.text=function(){var t=this;return arguments.length>0&&t.attr("text",arguments[0]),t.attr("text")},rbk.titlebar=function(){},rbk.titlebar.prototype=new rbk.cmp,rbk.titlebar.prototype.defCls="rbk-bar rbk-bar-nav",rbk.titlebar.prototype.defHtmlTag='<div class="rbk-titlebar"></div>',rbk.titlebar.prototype.reStructHtmlTag=function(){rbk.cmp.prototype.reStructHtmlTag.call(this);var t=this;if(0==$("h1",this.dom).length){var e=document.createElement("h1");e.innerText="标题",e.setAttribute("class","rbk-title"),this.dom.appendChild(e)}if("true"==t.attr("canback")){var i=t.attr("backtxt")?t.attr("backtxt"):"";t.canBack(!0,!0,i)}if("true"==t.attr("canhome")){var i=t.attr("hometxt")?t.attr("hometxt"):"";t.canHome(!0,!0,i)}},rbk.titlebar.prototype.title=function(){return arguments.length>0&&($("h1",this.dom)[0].innerText=arguments[0],document.title=arguments[0]),$("h1",this.dom)[0].innerText},rbk.titlebar.prototype.canBack=function(t,e,i){var r=this;i=i?i:"";var a=$('button[class*="rbk-btn-nav rbk-pull-left"]',r.dom);if(arguments.length>0){if(t&&0==a.length){var o=r.insertBefore('<button class="rbk-btn rbk-btn-link rbk-btn-nav rbk-pull-left"><span class="rbk-icon rbk-icon-left-nav"></span>'+i+"</button>")[0];if(e){var n=rbk.domToShell(o);n.bindClick(function(){rbk.getView().back()})}}else if(!t&&a.length>0&&(r.dom.removeChild(a[0]),!e)){var n=rbk.domToShell(a[0]);n.bindClick(function(){})}return t}return a.length>0},rbk.titlebar.prototype.canHome=function(t,e,i,r){var a=this;i=i?i:"",rbk.isEmpty(r)&&(r=rbk.getView().getHostUrl());var o=$('button[class*="rbk-btn-nav rbk-pull-left"]',a.dom);if(arguments.length>0){if(t&&0==o.length){var n=a.insertBefore('<button class="rbk-btn rbk-btn-link rbk-btn-nav rbk-pull-left"><span class="rbk-icon rbk-icon-home"></span>'+i+"</button>")[0];if(e){var s=rbk.domToShell(n);s.bindClick(function(){rbk.getView().open(r)})}}else if(!t&&o.length>0&&(a.dom.removeChild(o[0]),!e)){var s=rbk.domToShell(o[0]);s.bindClick(function(){})}return t}return backDoms.length>0},rbk.titlebar.prototype.canGo=function(t,e){var i=this;e=e?e:"";var r=$('button[class*="rbk-btn-nav rbk-pull-right"]',i.dom);if(arguments.length>0){if(t&&0==r.length){i.appendChild('<button class="rbk-btn rbk-btn-link rbk-btn-nav rbk-pull-right">'+e+'<span class="rbk-icon rbk-icon-right-nav"></span></button>')[0]}else!t&&r.length>0&&i.dom.removeChild(r[0]);return t}return r.length>0},rbk.titlebar.prototype.titleType=function(t){if("native"==rbk.platform.getPlatform().platform)rbk.platform.titleBar({rightType:t.rightType,rightList:t.rightList,content:t.content,leftType:t.leftType});else{var e=this,i=$('button[class*="rbk-btn-nav rbk-pull-left"]',e.dom)[0],r=$('button[class*="rbk-btn-nav rbk-pull-right"]',e.dom)[0];if(t.text=t.text?t.text:"",t.url=t.url?t.url:"",rbk.isNotEmpty(i)&&$(i).remove(),rbk.isNotEmpty(r)&&$(r).remove(),rbk.isNotEmpty(t.leftType)){if(1==t.leftType){var a=e.insertBefore('<button class="rbk-btn rbk-btn-link rbk-btn-nav rbk-pull-left"><span class="rbk-icon rbk-icon-left-nav"></span>'+t.text+"</button>")[0],o=rbk.domToShell(a);o.bindClick(function(){rbk.getView().back()})}else if(2==t.leftType){var a=e.insertBefore('<button class="rbk-btn rbk-btn-link rbk-btn-nav rbk-pull-left"><span class="rbk-icon rbk-icon-home"></span>'+t.text+"</button>")[0],o=rbk.domToShell(a);rbk.isNotEmpty(t.url)&&o.bindClick(function(){rbk.getView().open(t.url)})}}else{var a=e.insertBefore('<button class="rbk-btn rbk-btn-link rbk-btn-nav rbk-pull-left"><span class="rbk-icon rbk-icon-left-nav"></span>'+t.text+"</button>")[0],o=rbk.domToShell(a);o.bindClick(function(){rbk.getView().back()})}if(rbk.isNotEmpty(t.rightType)){if(!$.isArray(t.rightList))throw"dataJsonArr必须是数组对象";if("1"==t.rightType)var a=e.appendChild('<button class="rbk-btn rbk-btn-link rbk-btn-nav rbk-pull-right">'+t.content+"</button>")[0];else if("2"==t.rightType)var a=e.appendChild('<button class="rbk-btn rbk-btn-link rbk-btn-nav rbk-pull-right"><img src="'+t.content+'"></button>')[0];var o=rbk.domToShell(a);t.rightList.length>1||o.bindClick(function(){t.rightList[0].callback.call(t.rightList[0].callback)})}}},rbk.view=function(){},rbk.view.prototype.getViewId=function(t){if(rbk.isEmpty(t))return null;var e=t.split(/[\?\#]/),i=e[0].split("/");return i[i.length-1]},rbk.view.prototype.getHostUrl=function(){return location.protocol+"//"+window.location.host},rbk.view.prototype.open=function(t,e){if(!rbk.isEmpty(t)){e=e||{},e.preUrl=location.href;var i=this.getViewId(t);rbk.isEmpty(i)||rbk.cookie.set(i,"e="+JSON.stringify(e)),location.href=t}},rbk.view.prototype.back=function(){var t=this.getExtra("preUrl");console.log(t);var e=this.getViewId(location.href);return rbk.isEmpty(e)||rbk.cookie.del(e),rbk.isEmpty(t)?void history.back():void(location.href=t)},rbk.view.prototype.getExtra=function(key){var id=this.getViewId(location.href);if(rbk.isEmpty(id))return null;var extraStr=rbk.cookie.get(id);if(rbk.isEmpty(extraStr))return null;var extras=eval(extraStr);return extras[key]},!function(t){function e(e,i){function r(e){if(t.isArray(nt.readonly)){var i=t(".dwwl",j).index(e);return nt.readonly[i]}return nt.readonly}function a(t){var e,i='<div class="dw-bf">',r=1;for(e in lt[t])r%20==0&&(i+='</div><div class="dw-bf">'),i+='<div class="dw-li dw-v" data-val="'+e+'" style="height:'+F+"px;line-height:"+F+'px;"><div class="dw-i">'+lt[t][e]+"</div></div>",r++;return i+="</div>"}function s(e){m=t(".dw-li",e).index(t(".dw-v",e).eq(0)),h=t(".dw-li",e).index(t(".dw-v",e).eq(-1)),g=t(".dw-ul",j).index(e),c=F,u=it}function d(t){var e=nt.headerText;return e?"function"==typeof e?e.call(at,t):e.replace(/\{value\}/i,t):""}function $(){it.temp=ct&&null!==it.val&&it.val!=ot.val()||null===it.values?nt.parseValue(ot.val()||"",it):it.values.slice(0),it.setValue(!0)}function H(e,i,r,a,o){N("validate",[j,i,e])!==!1&&(t(".dw-ul",j).each(function(r){var n=t(this),s=t('.dw-li[data-val="'+it.temp[r]+'"]',n),l=t(".dw-li",n),d=l.index(s),p=l.length,c=r==i||void 0===i;if(!s.hasClass("dw-v")){for(var m=s,h=s,u=0,f=0;d-u>=0&&!m.hasClass("dw-v");)u++,m=l.eq(d-u);for(;p>d+f&&!h.hasClass("dw-v");)f++,h=l.eq(d+f);(u>f&&f&&2!==a||!u||0>d-u||1==a)&&h.hasClass("dw-v")?(s=h,d+=f):(s=m,d-=u)}(!s.hasClass("dw-sel")||c)&&(it.temp[r]=s.attr("data-val"),t(".dw-sel",n).removeClass("dw-sel"),s.addClass("dw-sel"),it.scroll(n,r,d,c?e:.1,c?o:void 0))}),it.change(r))}function M(e){if(!("inline"==nt.display||G===t(window).width()&&U===t(window).height()&&e)){var i,r,a,o,n,s,l,d,p,c,m,h,u=0,f=0,b=t(window).scrollTop(),v=t(".dwwr",j),g=t(".dw",j),k={},y=void 0===nt.anchor?ot:nt.anchor;G=t(window).width(),U=t(window).height(),q=window.innerHeight,q=q||U,/modal|bubble/.test(nt.display)&&(t(".dwc",j).each(function(){i=t(this).outerWidth(!0),u+=i,f=i>f?i:f}),i=u>G?f:u,v.width(i)),J=g.outerWidth(),Q=g.outerHeight(!0),"modal"==nt.display?(r=(G-J)/2,a=b+(q-Q)/2):"bubble"==nt.display?(h=!0,p=t(".dw-arrw-i",j),s=y.offset(),l=s.top,d=s.left,o=y.outerWidth(),n=y.outerHeight(),r=d-(g.outerWidth(!0)-o)/2,r=r>G-J?G-(J+20):r,r=r>=0?r:20,a=l-Q,b>a||l>b+q?(g.removeClass("dw-bubble-top").addClass("dw-bubble-bottom"),a=l+n):g.removeClass("dw-bubble-bottom").addClass("dw-bubble-top"),c=p.outerWidth(),m=d+o/2-(r+(J-c)/2),t(".dw-arr",j).css({left:m>c?c:m})):(k.width="100%","top"==nt.display?a=b:"bottom"==nt.display&&(a=b+q-Q)),k.top=0>a?0:a,k.left=r,g.css(k),t(".dw-persp",j).height(0).height(a+Q>t(document).height()?a+Q:t(document).height()),h&&(a+Q>b+q||l>b+q)&&t(window).scrollTop(a+Q-q)}}function I(t){if("touchstart"===t.type)E=!0,setTimeout(function(){E=!1},500);else if(E)return E=!1,!1;return!0}function N(e,r){var a;return r.push(it),t.each([tt.defaults,st,i],function(t,i){i[e]&&(a=i[e].apply(at,r))}),a}function R(t){var e=+t.data("pos"),i=e+1;l(t,i>h?m:i,1,!0)}function V(t){var e=+t.data("pos"),i=e-1;l(t,m>i?h:i,2,!0)}var X,F,W,j,G,q,U,J,Q,K,Z,tt,et,it=this,rt=t.mobiscroll,at=e,ot=t(at),nt=L({},Y),st={},lt=[],dt={},pt={},ct=ot.is("input"),mt=!1;it.enable=function(){nt.disabled=!1,ct&&ot.prop("disabled",!1)},it.disable=function(){nt.disabled=!0,ct&&ot.prop("disabled",!0)},it.scroll=function(t,e,i,r,a){function o(t,e,i,r){return i*Math.sin(t/r*(Math.PI/2))+e}function n(){clearInterval(dt[e]),delete dt[e],t.data("pos",i).closest(".dwwl").removeClass("dwa")}var s,l=(X-i)*F;l==pt[e]&&dt[e]||(r&&l!=pt[e]&&N("onAnimStart",[j,e,r]),pt[e]=l,t.attr("style",D+"-transition:all "+(r?r.toFixed(3):0)+"s ease-out;"+(B?D+"-transform:translate3d(0,"+l+"px,0);":"top:"+l+"px;")),dt[e]&&n(),r&&void 0!==a?(s=0,t.closest(".dwwl").addClass("dwa"),dt[e]=setInterval(function(){s+=.1,t.data("pos",Math.round(o(s,a,i-a,r))),s>=r&&n()},100)):t.data("pos",i))},it.setValue=function(e,i,r,a){t.isArray(it.temp)||(it.temp=nt.parseValue(it.temp+"",it)),mt&&e&&H(r),W=nt.formatResult(it.temp),a||(it.values=it.temp.slice(0),it.val=W),i&&ct&&ot.val(W).trigger("change")},it.getValues=function(){var t,e=[];for(t in it._selectedValues)e.push(it._selectedValues[t]);return e},it.validate=function(t,e,i,r){H(i,t,!0,e,r)},it.change=function(e){W=nt.formatResult(it.temp),"inline"==nt.display?it.setValue(!1,e):t(".dwv",j).html(d(W)),e&&N("onChange",[W])},it.changeWheel=function(e,i){if(j){var r,o,n=0,s=e.length;for(r in nt.wheels)for(o in nt.wheels[r]){if(t.inArray(n,e)>-1&&(lt[n]=nt.wheels[r][o],t(".dw-ul",j).eq(n).html(a(n)),s--,!s))return M(),void H(i,void 0,!0);n++}}},it.isVisible=function(){return mt},it.tap=function(t,e){var i,r;nt.tap&&t.bind("touchstart",function(t){t.preventDefault(),i=o(t,"X"),r=o(t,"Y")}).bind("touchend",function(t){Math.abs(o(t,"X")-i)<20&&Math.abs(o(t,"Y")-r)<20&&e.call(this,t),C=!0,setTimeout(function(){C=!1},300)}),t.bind("click",function(t){C||e.call(this,t)})},it.show=function(e){if(nt.disabled||mt)return!1;"top"==nt.display&&(K="slidedown"),"bottom"==nt.display&&(K="slideup"),$(),N("onBeforeShow",[j]);var i,n,d=0,c="";K&&!e&&(c="dw-"+K+" dw-in");var m='<div class="dw-trans '+nt.theme+" dw-"+nt.display+'">'+("inline"==nt.display?'<div class="dw dwbg dwi"><div class="dwwr">':'<div class="dw-persp"><div class="dwo"></div><div class="dw dwbg '+c+'"><div class="dw-arrw"><div class="dw-arrw-i"><div class="dw-arr"></div></div></div><div class="dwwr">'+(nt.headerText?'<div class="dwv"></div>':""));for(i=0;i<nt.wheels.length;i++){m+='<div class="dwc'+("scroller"!=nt.mode?" dwpm":" dwsc")+(nt.showLabel?"":" dwhl")+'"><div class="dwwc dwrc"><table cellpadding="0" cellspacing="0"><tr>';for(n in nt.wheels[i])lt[d]=nt.wheels[i][n],m+='<td><div class="dwwl dwrc dwwl'+d+'">'+("scroller"!=nt.mode?'<div class="dwwb dwwbp" style="height:'+F+"px;line-height:"+F+'px;"><span>+</span></div><div class="dwwb dwwbm" style="height:'+F+"px;line-height:"+F+'px;"><span>&ndash;</span></div>':"")+'<div class="dwl">'+n+'</div><div class="dww" style="height:'+nt.rows*F+"px;min-width:"+nt.width+'px;"><div class="dw-ul">',m+=a(d),m+='</div><div class="dwwo"></div></div><div class="dwwol"></div></div></td>',d++;m+="</tr></table></div></div>"}m+=("inline"!=nt.display?'<div class="dwbc'+(nt.button3?" dwbc-p":"")+'"><span class="dwbw dwb-s"><span class="dwb">'+nt.setText+"</span></span>"+(nt.button3?'<span class="dwbw dwb-n"><span class="dwb">'+nt.button3Text+"</span></span>":"")+'<span class="dwbw dwb-c"><span class="dwb">'+nt.cancelText+"</span></span></div></div>":'<div class="dwcc"></div>')+"</div></div></div>",j=t(m),H(),N("onMarkupReady",[j]),"inline"!=nt.display?(j.appendTo("body"),setTimeout(function(){j.removeClass("dw-trans").find(".dw").removeClass(c)},350)):ot.is("div")?ot.html(j):j.insertAfter(ot),N("onMarkupInserted",[j]),mt=!0,tt.init(j,it),"inline"!=nt.display&&(it.tap(t(".dwb-s span",j),function(){it.hide(!1,"set")!==!1&&(it.setValue(!1,!0),N("onSelect",[it.val]))}),it.tap(t(".dwb-c span",j),function(){it.cancel()}),nt.button3&&it.tap(t(".dwb-n span",j),nt.button3),nt.scrollLock&&j.bind("touchmove",function(t){q>=Q&&G>=J&&t.preventDefault()}),t("input,select,button").each(function(){t(this).prop("disabled")||t(this).addClass("dwtd").prop("disabled",!0)}),M(),t(window).bind("resize.dw",function(){clearTimeout(Z),Z=setTimeout(function(){M(!0)},100)})),j.delegate(".dwwl","DOMMouseScroll mousewheel",function(e){if(!r(this)){e.preventDefault(),e=e.originalEvent;var i=e.wheelDelta?e.wheelDelta/120:e.detail?-e.detail/3:0,a=t(".dw-ul",this),o=+a.data("pos"),n=Math.round(o-i);s(a),l(a,n,0>i?1:2)}}).delegate(".dwb, .dwwb",z,function(){t(this).addClass("dwb-a")}).delegate(".dwwb",z,function(e){e.stopPropagation(),e.preventDefault();var i=t(this).closest(".dwwl");if(I(e)&&!r(i)&&!i.hasClass("dwa")){b=!0;var a=i.find(".dw-ul"),o=t(this).hasClass("dwwbp")?R:V;s(a),clearInterval(p),p=setInterval(function(){o(a)},nt.delay),o(a)}}).delegate(".dwwl",z,function(e){e.preventDefault(),!I(e)||f||r(this)||b||(f=!0,t(document).bind(A,_),v=t(".dw-ul",this),S="clickpick"!=nt.mode,T=+v.data("pos"),s(v),x=void 0!==dt[g],k=o(e,"Y"),w=new Date,y=k,it.scroll(v,g,T,.001),S&&v.closest(".dwwl").addClass("dwa"))}),N("onShow",[j,W])},it.hide=function(e,i){return!(!mt||N("onClose",[W,i])===!1)&&(t(".dwtd").prop("disabled",!1).removeClass("dwtd"),ot.blur(),void(j&&("inline"!=nt.display&&K&&!e?(j.addClass("dw-trans").find(".dw").addClass("dw-"+K+" dw-out"),setTimeout(function(){j.remove(),j=null},350)):(j.remove(),j=null),mt=!1,pt={},t(window).unbind(".dw"))))},it.cancel=function(){it.hide(!1,"cancel")!==!1&&N("onCancel",[it.val])},it.init=function(t){tt=L({defaults:{},init:P},rt.themes[t.theme||nt.theme]),et=rt.i18n[t.lang||nt.lang],L(i,t),L(nt,tt.defaults,et,i),it.settings=nt,ot.unbind(".dw");var e=rt.presets[nt.preset];e&&(st=e.call(at,it),L(nt,st,i),L(O,st.methods)),X=Math.floor(nt.rows/2),F=nt.height,K=nt.animate,void 0!==ot.data("dwro")&&(at.readOnly=n(ot.data("dwro"))),mt&&it.hide(),"inline"==nt.display?it.show():($(),ct&&nt.showOnFocus&&(ot.data("dwro",at.readOnly),at.readOnly=!0,ot.bind("focus.dw",function(){it.show()})))},it.trigger=function(t,e){return N(t,e)},it.values=null,it.val=null,it.temp=null,it._selectedValues={},it.init(i)}function i(t){var e;for(e in t)if(void 0!==I[t[e]])return!0;return!1}function r(){var t,e=["Webkit","Moz","O","ms"];for(t in e)if(i([e[t]+"Transform"]))return"-"+e[t].toLowerCase();return""}function a(t){return $[t.id]}function o(t,e){var i=t.originalEvent,r=t.changedTouches;return r||i&&i.changedTouches?i?i.changedTouches[0]["page"+e]:r[0]["page"+e]:t["page"+e]}function n(t){return t===!0||"true"==t}function s(t,e,i){return t=t>i?i:t,t=e>t?e:t}function l(e,i,r,a,o){i=s(i,m,h);var n=t(".dw-li",e).eq(i),l=void 0===o?i:o,d=g,p=a?i==l?.1:Math.abs(.1*(i-l)):0;u.temp[d]=n.attr("data-val"),u.scroll(e,d,i,p,o),setTimeout(function(){u.validate(d,r,p,o)},10)}function d(t,e,i){return O[e]?O[e].apply(t,Array.prototype.slice.call(i,1)):"object"==typeof e?O.init.call(t,e):t}var p,c,m,h,u,f,b,v,g,k,y,w,T,x,S,C,E,$={},P=function(){},H=new Date,M=H.getTime(),I=document.createElement("modernizr").style,B=i(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]),D=r(),L=t.extend,z="touchstart mousedown",A="touchmove mousemove",N="touchend mouseup",_=function(t){S&&(t.preventDefault(),y=o(t,"Y"),u.scroll(v,g,s(T+(k-y)/c,m-1,h+1))),x=!0},Y={width:70,height:40,rows:3,delay:300,disabled:!1,readonly:!1,showOnFocus:!0,showLabel:!0,wheels:[],theme:"",headerText:"{value}",display:"modal",mode:"scroller",preset:"",lang:"en-US",setText:"Set",cancelText:"Cancel",scrollLock:!0,tap:!0,formatResult:function(t){return t.join(" ")},parseValue:function(t,e){var i,r,a,o=e.settings.wheels,n=t.split(" "),s=[],l=0;for(i=0;i<o.length;i++)for(r in o[i]){if(void 0!==o[i][r][n[l]])s.push(n[l]);else for(a in o[i][r]){s.push(a);break}l++}return s}},O={init:function(t){return void 0===t&&(t={}),this.each(function(){this.id||(M+=1,this.id="scoller"+M),$[this.id]=new e(this,t)})},enable:function(){return this.each(function(){var t=a(this);t&&t.enable()})},disable:function(){return this.each(function(){var t=a(this);t&&t.disable()})},isDisabled:function(){var t=a(this[0]);return t?t.settings.disabled:void 0},isVisible:function(){var t=a(this[0]);return t?t.isVisible():void 0},option:function(t,e){return this.each(function(){var i=a(this);if(i){var r={};"object"==typeof t?r=t:r[t]=e,i.init(r)}})},setValue:function(t,e,i,r){return this.each(function(){var o=a(this);o&&(o.temp=t,o.setValue(!0,e,i,r))})},getInst:function(){return a(this[0])},getValue:function(){var t=a(this[0]);return t?t.values:void 0},getValues:function(){var t=a(this[0]);return t?t.getValues():void 0},show:function(){var t=a(this[0]);return t?t.show():void 0},hide:function(){return this.each(function(){var t=a(this);t&&t.hide()})},destroy:function(){return this.each(function(){var e=a(this);e&&(e.hide(),t(this).unbind(".dw"),delete $[this.id],t(this).is("input")&&(this.readOnly=n(t(this).data("dwro"))))})}};t(document).bind(N,function(){if(f){var e,i,r,a=new Date-w,o=s(T+(k-y)/c,m-1,h+1),n=v.offset().top;if(300>a?(e=(y-k)/a,i=e*e/.0012,0>y-k&&(i=-i)):i=y-k,r=Math.round(T-i/c),!i&&!x){var d=Math.floor((y-n)/c),g=t(".dw-li",v).eq(d),C=S;u.trigger("onValueTap",[g])!==!1?r=d:C=!0,C&&(g.addClass("dw-hl"),setTimeout(function(){g.removeClass("dw-hl")},200))}S&&l(v,r,0,!0,Math.round(o)),f=!1,v=null,t(document).unbind(A,_)}b&&(clearInterval(p),b=!1),t(".dwb-a").removeClass("dwb-a")}).bind("mouseover mouseup mousedown click",function(t){return C?(t.stopPropagation(),t.preventDefault(),!1):void 0}),t.fn.mobiscroll=function(e){return L(this,t.mobiscroll.shorts),d(this,e,arguments)},t.mobiscroll=t.mobiscroll||{setDefaults:function(t){L(Y,t)},presetShort:function(t){this.shorts[t]=function(e){return d(this,L(e,{preset:t}),arguments)}},shorts:{},presets:{},themes:{},i18n:{}},t.scroller=t.scroller||t.mobiscroll,t.fn.scroller=t.fn.scroller||t.fn.mobiscroll}(jQuery),function(t){t.mobiscroll.i18n.zh=t.extend(t.mobiscroll.i18n.zh,{setText:"确定",cancelText:"取消"})}(jQuery),function(t){var e=t.mobiscroll,i=new Date,r={dateFormat:"mm/dd/yy",dateOrder:"mmddy",timeWheels:"hhiiA",timeFormat:"hh:ii A",startYear:i.getFullYear()-100,endYear:i.getFullYear()+1,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortYearCutoff:"+10",monthText:"Month",dayText:"Day",yearText:"Year",hourText:"Hours",minuteText:"Minutes",secText:"Seconds",ampmText:"&nbsp;",nowText:"Now",showNow:!1,stepHour:1,stepMinute:1,stepSecond:1,separator:" "},a=function(i){function a(t,e,i){return void 0!==T[e]?+t[T[e]]:void 0!==i?i:I[x[e]]?I[x[e]]():x[e](I)}function o(t,e){return Math.floor(t/e)*e}function n(t){var e=t.getHours();return e=H&&e>=12?e-12:e,o(e,B)}function s(t){return o(t.getMinutes(),D)}function l(t){return o(t.getSeconds(),L)}function d(t){return P&&t.getHours()>11?1:0}function p(t){var e=a(t,"h",0);return new Date(a(t,"y"),a(t,"m"),a(t,"d",1),a(t,"a")?e+12:e,a(t,"i",0),a(t,"s",0))}var c,m=t(this),h={};if(m.is("input")){switch(m.attr("type")){case"date":c="yy-mm-dd";break;case"datetime":c="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":c="yy-mm-ddTHH:ii:ss";break;case"month":c="yy-mm",h.dateOrder="mmyy";break;case"time":c="HH:ii:ss"}var u=m.attr("min"),f=m.attr("max");u&&(h.minDate=e.parseDate(c,u)),f&&(h.maxDate=e.parseDate(c,f))}var b,v,g=t.extend({},r,h,i.settings),k=0,y=[],w=[],T={},x={y:"getFullYear",m:"getMonth",d:"getDate",h:n,i:s,s:l,a:d},S=g.preset,C=g.dateOrder,E=g.timeWheels,$=C.match(/D/),P=E.match(/a/i),H=E.match(/h/),M="datetime"==S?g.dateFormat+g.separator+g.timeFormat:"time"==S?g.timeFormat:g.dateFormat,I=new Date,B=g.stepHour,D=g.stepMinute,L=g.stepSecond,z=g.minDate||new Date(g.startYear,0,1),A=g.maxDate||new Date(g.endYear,11,31,23,59,59);if(i.settings=g,c=c||M,S.match(/date/i)){t.each(["y","m","d"],function(t,e){b=C.search(new RegExp(e,"i")),b>-1&&w.push({o:b,v:e})}),w.sort(function(t,e){return t.o>e.o?1:-1}),t.each(w,function(t,e){T[e.v]=t});var N={};for(v=0;3>v;v++)if(v==T.y){k++,N[g.yearText]={};var _=z.getFullYear(),Y=A.getFullYear();for(b=_;Y>=b;b++)N[g.yearText][b]=C.match(/yy/i)?b:(b+"").substr(2,2)}else if(v==T.m)for(k++,N[g.monthText]={},b=0;12>b;b++){var O=C.replace(/[dy]/gi,"").replace(/mm/,9>b?"0"+(b+1):b+1).replace(/m/,b+1);N[g.monthText][b]=O.match(/MM/)?O.replace(/MM/,'<span class="dw-mon">'+g.monthNames[b]+"</span>"):O.replace(/M/,'<span class="dw-mon">'+g.monthNamesShort[b]+"</span>")}else if(v==T.d)for(k++,N[g.dayText]={},b=1;32>b;b++)N[g.dayText][b]=C.match(/dd/i)&&10>b?"0"+b:b;y.push(N)}if(S.match(/time/i)){for(w=[],t.each(["h","i","s","a"],function(t,e){t=E.search(new RegExp(e,"i")),t>-1&&w.push({o:t,v:e})}),w.sort(function(t,e){return t.o>e.o?1:-1}),t.each(w,function(t,e){T[e.v]=k+t}),N={},v=k;k+4>v;v++)if(v==T.h)for(k++,N[g.hourText]={},b=0;(H?12:24)>b;b+=B)N[g.hourText][b]=H&&0==b?12:E.match(/hh/i)&&10>b?"0"+b:b;else if(v==T.i)for(k++,N[g.minuteText]={},b=0;60>b;b+=D)N[g.minuteText][b]=E.match(/ii/)&&10>b?"0"+b:b;else if(v==T.s)for(k++,N[g.secText]={},b=0;60>b;b+=L)N[g.secText][b]=E.match(/ss/)&&10>b?"0"+b:b;else if(v==T.a){k++;var R=E.match(/A/);N[g.ampmText]={0:R?"AM":"am",1:R?"PM":"pm"}}y.push(N);
}return i.setDate=function(t,e,i,r){var a;for(a in T)this.temp[T[a]]=t[x[a]]?t[x[a]]():x[a](t);this.setValue(!0,e,i,r)},i.getDate=function(t){return p(t)},{button3Text:g.showNow?g.nowText:void 0,button3:g.showNow?function(){i.setDate(new Date,!1,.3,!0)}:void 0,wheels:y,headerText:function(){return e.formatDate(M,p(i.temp),g)},formatResult:function(t){return e.formatDate(c,p(t),g)},parseValue:function(t){var i,r=new Date,a=[];try{r=e.parseDate(c,t,g)}catch(t){}for(i in T)a[T[i]]=r[x[i]]?r[x[i]]():x[i](r);return a},validate:function(e){var r=i.temp,n={y:z.getFullYear(),m:0,d:1,h:0,i:0,s:0,a:0},s={y:A.getFullYear(),m:11,d:31,h:o(H?11:23,B),i:o(59,D),s:o(59,L),a:1},l=!0,d=!0;t.each(["y","m","d","a","h","i","s"],function(i,o){if(void 0!==T[o]){var p,c,m=n[o],h=s[o],u=31,f=a(r,o),b=t(".dw-ul",e).eq(T[o]);if("d"==o&&(p=a(r,"y"),c=a(r,"m"),u=32-new Date(p,c,32).getDate(),h=u,$&&t(".dw-li",b).each(function(){var e=t(this),i=e.data("val"),r=new Date(p,c,i).getDay(),a=C.replace(/[my]/gi,"").replace(/dd/,10>i?"0"+i:i).replace(/d/,i);t(".dw-i",e).html(a.match(/DD/)?a.replace(/DD/,'<span class="dw-day">'+g.dayNames[r]+"</span>"):a.replace(/D/,'<span class="dw-day">'+g.dayNamesShort[r]+"</span>"))})),l&&z&&(m=z[x[o]]?z[x[o]]():x[o](z)),d&&A&&(h=A[x[o]]?A[x[o]]():x[o](A)),"y"!=o){var v=t(".dw-li",b).index(t('.dw-li[data-val="'+m+'"]',b)),k=t(".dw-li",b).index(t('.dw-li[data-val="'+h+'"]',b));t(".dw-li",b).removeClass("dw-v").slice(v,k+1).addClass("dw-v"),"d"==o&&t(".dw-li",b).removeClass("dw-h").slice(u).addClass("dw-h")}if(m>f&&(f=m),f>h&&(f=h),l&&(l=f==m),d&&(d=f==h),g.invalid&&"d"==o){var y=[];if(g.invalid.dates&&t.each(g.invalid.dates,function(t,e){e.getFullYear()==p&&e.getMonth()==c&&y.push(e.getDate()-1)}),g.invalid.daysOfWeek){var w,S=new Date(p,c,1).getDay();t.each(g.invalid.daysOfWeek,function(t,e){for(w=e-S;u>w;w+=7)w>=0&&y.push(w)})}g.invalid.daysOfMonth&&t.each(g.invalid.daysOfMonth,function(t,e){e=(e+"").split("/"),e[1]?e[0]-1==c&&y.push(e[1]-1):y.push(e[0]-1)}),t.each(y,function(e,i){t(".dw-li",b).eq(i).removeClass("dw-v")})}r[T[o]]=f}})},methods:{getDate:function(e){var i=t(this).mobiscroll("getInst");return i?i.getDate(e?i.temp:i.values):void 0},setDate:function(e,i,r,a){return void 0==i&&(i=!1),this.each(function(){var o=t(this).mobiscroll("getInst");o&&o.setDate(e,i,r,a)})}}}};t.each(["date","time","datetime"],function(t,i){e.presets[i]=a,e.presetShort(i)}),e.formatDate=function(e,i,a){if(!i)return null;var o,n=t.extend({},r,a),s=function(t){for(var i=0;o+1<e.length&&e.charAt(o+1)==t;)i++,o++;return i},l=function(t,e,i){var r=""+e;if(s(t))for(;r.length<i;)r="0"+r;return r},d=function(t,e,i,r){return s(t)?r[e]:i[e]},p="",c=!1;for(o=0;o<e.length;o++)if(c)"'"!=e.charAt(o)||s("'")?p+=e.charAt(o):c=!1;else switch(e.charAt(o)){case"d":p+=l("d",i.getDate(),2);break;case"D":p+=d("D",i.getDay(),n.dayNamesShort,n.dayNames);break;case"o":p+=l("o",(i.getTime()-new Date(i.getFullYear(),0,0).getTime())/864e5,3);break;case"m":p+=l("m",i.getMonth()+1,2);break;case"M":p+=d("M",i.getMonth(),n.monthNamesShort,n.monthNames);break;case"y":p+=s("y")?i.getFullYear():(i.getYear()%100<10?"0":"")+i.getYear()%100;break;case"h":var m=i.getHours();p+=l("h",m>12?m-12:0==m?12:m,2);break;case"H":p+=l("H",i.getHours(),2);break;case"i":p+=l("i",i.getMinutes(),2);break;case"s":p+=l("s",i.getSeconds(),2);break;case"a":p+=i.getHours()>11?"pm":"am";break;case"A":p+=i.getHours()>11?"PM":"AM";break;case"'":s("'")?p+="'":c=!0;break;default:p+=e.charAt(o)}return p},e.parseDate=function(e,i,a){var o=new Date;if(!e||!i)return o;i="object"==typeof i?i.toString():i+"";var n,s=t.extend({},r,a),l=s.shortYearCutoff,d=o.getFullYear(),p=o.getMonth()+1,c=o.getDate(),m=-1,h=o.getHours(),u=o.getMinutes(),f=0,b=-1,v=!1,g=function(t){var i=n+1<e.length&&e.charAt(n+1)==t;return i&&n++,i},k=function(t){g(t);var e="@"==t?14:"!"==t?20:"y"==t?2:"o"==t?3:2,r=new RegExp("^\\d{1,"+e+"}"),a=i.substr(T).match(r);return a?(T+=a[0].length,parseInt(a[0],10)):0},y=function(t,e,r){var a,o=g(t)?r:e;for(a=0;a<o.length;a++)if(i.substr(T,o[a].length).toLowerCase()==o[a].toLowerCase())return T+=o[a].length,a+1;return 0},w=function(){T++},T=0;for(n=0;n<e.length;n++)if(v)"'"!=e.charAt(n)||g("'")?w():v=!1;else switch(e.charAt(n)){case"d":c=k("d");break;case"D":y("D",s.dayNamesShort,s.dayNames);break;case"o":m=k("o");break;case"m":p=k("m");break;case"M":p=y("M",s.monthNamesShort,s.monthNames);break;case"y":d=k("y");break;case"H":h=k("H");break;case"h":h=k("h");break;case"i":u=k("i");break;case"s":f=k("s");break;case"a":b=y("a",["am","pm"],["am","pm"])-1;break;case"A":b=y("A",["am","pm"],["am","pm"])-1;break;case"'":g("'")?w():v=!0;break;default:w()}if(100>d&&(d+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d<=("string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10))?0:-100)),m>-1)for(p=1,c=m;;){var x=32-new Date(d,p-1,32).getDate();if(x>=c)break;p++,c-=x}h=-1==b?h:b&&12>h?h+12:b||12!=h?h:0;var S=new Date(d,p-1,c,h,u,f);if(S.getFullYear()!=d||S.getMonth()+1!=p||S.getDate()!=c)throw"Invalid date";return S}}(jQuery),function(t){t.mobiscroll.i18n.zh=t.extend(t.mobiscroll.i18n.zh,{dateFormat:"yyyy-mm-dd",dateOrder:"yymmdd",dayNames:["周日","周一;","周二;","周三","周四","周五","周六"],dayNamesShort:["日","一","二","三","四","五","六"],dayText:"日",hourText:"时",minuteText:"分",monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthText:"月",secText:"秒",timeFormat:"HH:ii",timeWheels:"HHii",yearText:"年"})}(jQuery),function(t){var e={defaults:{dateOrder:"Mddyy",mode:"mixed",rows:5,width:70,height:36,showLabel:!0,useShortLabels:!0}};t.mobiscroll.themes["android-ics"]=e,t.mobiscroll.themes["android-ics light"]=e}(jQuery);